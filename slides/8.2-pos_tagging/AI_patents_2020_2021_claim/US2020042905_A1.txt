<document>

<filing_date>
2018-08-01
</filing_date>

<publication_date>
2020-02-06
</publication_date>

<priority_date>
2018-08-01
</priority_date>

<ipc_classes>
G06F12/0802,G06N99/00
</ipc_classes>

<assignee>
IBM (INTERNATIONAL BUSINESS MACHINES CORPORATION)
</assignee>

<inventors>
BORLICK, MATTHEW G.
GUPTA, LOKESH M.
ASH, KEVIN J.
ANDERSON, KYLER A.
</inventors>

<docdb_family_id>
69228749
</docdb_family_id>

<title>
DETERMINING SECTORS OF A TRACK TO STAGE INTO CACHE BY TRAINING A MACHINE LEARNING MODULE
</title>

<abstract>
Provided are a computer program product, system, and method for determining sectors of a track to stage into cache by training a machine learning module. A machine learning module that receives as input performance attributes of system components affected by staging tracks from the storage to the cache and outputs a staging strategy comprising one of a plurality of staging strategy indicating at least one of a plurality of sectors of a track to stage into the cache. A margin of error is determined based on a current value of a performance attribute and a threshold of the performance attribute. An adjusted staging strategy is determined based on the margin of error. The machine learning module is retrained with current performance attributes to output the adjusted staging strategy.
</abstract>

<claims>
1. A computer program product for determining tracks to stage into cache from a storage, wherein the computer program product comprises a computer readable storage medium having computer readable program code embodied therein that when executed performs operations, the operations comprising: providing a machine learning module that receives as input performance attributes of system components affected by staging tracks from the storage to the cache and outputs a staging strategy comprising one of a plurality of staging strategy, wherein each staging strategy indicates at least one of a plurality of sectors of a track to stage into the cache; determining a margin of error based on a current value of a performance attribute and a threshold of the performance attribute; determining an adjusted staging strategy of the plurality of staging strategies based on the margin of error; retraining the machine learning module with current performance attributes to output the adjusted staging strategy; and using the retrained machine learning module to output one of the staging strategies to use to determine sectors of a track to stage into the cache for a requested track not in the cache.
2. The computer program product of claim 1, wherein the operations further comprise: completing staging of sectors of a track into the cache for a track as part of a staging strategy, wherein the determining the margin of error, the determining the adjusted staging strategy, and the retraining the machine learning module are performed in response to completing the staging of the sectors of a track into the cache.
3. The computer program product of claim 1, wherein the staging strategies include at least a plurality of a partial track staging to stage all sectors from a requested sector of a track, a sector staging to stage only the requested sectors of the track, and a full track staging to stage all sectors of the track.
4. The computer program product of claim 3, wherein the margin of error comprises the threshold of the performance attribute minus the current value of the performance attribute, wherein the adjusted staging strategy comprises: setting the adjusted staging strategy to the full track staging in response to the margin of error exceeding an upper value; setting the adjusted staging strategy to the sector staging in response to the margin of error less than a lower value; and setting the adjusted staging strategy to the partial track staging in response to the margin of error being between the lower value and the upper value.
5. The computer program product of claim 3, wherein there are a first margin of error and a second margin of error for a first performance attribute and a second performance attribute, respectively, wherein the determining the adjusted staging strategy is indicated in rules specifying one of the staging strategies based on values for the first margin of error and the second margin of error.
6. The computer program product of claim 5, wherein the first margin of error comprises a threshold of the first performance attribute minus a current value for the first performance attribute and wherein the second margin of error comprises a threshold of the second performance attribute minus a current value for the second performance attribute, wherein the rules include: a first rule indicating the full track staging in response to the first margin of error and the second margin of error exceeding zero; a second rule indicating the sector staging in response to the first margin of error and the second margin of error being less than zero; and a third rule indicating the partial track staging in response to only one of the first margin of error and the second margin of error being greater than zero.
7. The computer program product of claim 5, wherein the first performance attribute comprises a storage response time and the first margin of error comprises a maximum acceptable storage response time minus a current storage response time to transfer data from the storage to the cache, and wherein the second performance attribute comprises an adaptor bandwidth for an adaptor transferring data between the cache and the storage and the second margin of error comprises an optimal adaptor bandwidth minus a current adaptor bandwidth of the adaptor.
8. The computer program product of claim 3, wherein the operations further comprise: receiving an access request to at least one sector, including a first sector, in a track having sectors in the cache; and determining whether the first sector is in the cache for the track, wherein the determining the margin of error, the determining the adjusted staging strategy, and retraining the machine learning module are performed in response to determining that the first sector is not in the cache.
9. The computer program product of claim 8, wherein the determining the adjusted staging strategy comprises: setting the adjusted staging strategy to the partial track staging in response to the first sector not being in the cache and the first sector following the sectors of the track in the cache; and setting the staging strategy to the full track staging in response to the first sector not being in the cache and the first sector preceding the sectors of the track in the cache.
10. A system for determining tracks to stage from a storage, comprising: a processor; a cache; a computer readable storage medium having computer readable program code that when executed by the processor causes operations, the operations comprising: providing a machine learning module that receives as input performance attributes of system components affected by staging tracks from the storage to the cache and outputs a staging strategy comprising one of a plurality of staging strategy, wherein each staging strategy indicates at least one of a plurality of sectors of a track to stage into the cache; determining a margin of error based on a current value of a performance attribute and a threshold of the performance attribute; determining an adjusted staging strategy of the plurality of staging strategies based on the margin of error; retraining the machine learning module with current performance attributes to output the adjusted staging strategy; and using the retrained machine learning module to output one of the staging strategies to use to determine sectors of a track to stage into the cache for a requested track not in the cache.
11. The system of claim 10, wherein the operations further comprise: completing staging of sectors of a track into the cache for a track as part of a staging strategy, wherein the determining the margin of error, the determining the adjusted staging strategy, and the retraining the machine learning module are performed in response to completing the staging of the sectors of a track into the cache.
12. The system of claim 10, wherein the staging strategies include at least a plurality of a partial track staging to stage all sectors from a requested sector of a track, a sector staging to stage only the requested sectors of the track, and a full track staging to stage all sectors of the track.
13. The system of claim 12, wherein the margin of error comprises the threshold of the performance attribute minus the current value of the performance attribute, wherein the adjusted staging strategy comprises: setting the adjusted staging strategy to the full track staging in response to the margin of error exceeding an upper value; setting the adjusted staging strategy to the sector staging in response to the margin of error less than a lower value; and setting the adjusted staging strategy to the partial track staging in response to the margin of error being between the lower value and the upper value.
14. The system of claim 12, wherein there are a first margin of error and a second margin of error for a first performance attribute and a second performance attribute, respectively, wherein the determining the adjusted staging strategy is indicated in rules specifying one of the staging strategies based on values for the first margin of error and the second margin of error.
15. The system of claim 14, wherein the first margin of error comprises a threshold of the first performance attribute minus a current value for the first performance attribute and wherein the second margin of error comprises a threshold of the second performance attribute minus a current value for the second performance attribute, wherein the rules include: a first rule indicating the full track staging in response to the first margin of error and the second margin of error exceeding zero; a second rule indicating the sector staging in response to the first margin of error and the second margin of error being less than zero; and a third rule indicating the partial track staging in response to only one of the first margin of error and the second margin of error being greater than zero.
16. The system of claim 15, wherein the first performance attribute comprises a storage response time and the first margin of error comprises a maximum acceptable storage response time minus a current storage response time to transfer data from the storage to the cache, and wherein the second performance attribute comprises an adaptor bandwidth for an adaptor transferring data between the cache and the storage and the second margin of error comprises an optimal adaptor bandwidth minus a current adaptor bandwidth of the adaptor.
17. The system of claim 12, wherein the operations further comprise: receiving an access request to at least one sector, including a first sector, in a track having sectors in the cache; and determining whether the first sector is in the cache for the track, wherein the determining the margin of error, the determining the adjusted staging strategy, and retraining the machine learning module are performed in response to determining that the first sector is not in the cache.
18. The system of claim 17, wherein the determining the adjusted staging strategy comprises: setting the adjusted staging strategy to the partial track staging in response to the first sector not being in the cache and the first sector following the sectors of the track in the cache; and setting the staging strategy to the full track staging in response to the first sector not being in the cache and the first sector preceding the sectors of the track in the cache.
19. A method for determining tracks to stage from a storage, comprising: providing a machine learning module that receives as input performance attributes of system components affected by staging tracks from the storage to the cache and outputs a staging strategy comprising one of a plurality of staging strategy, wherein each staging strategy indicates at least one of a plurality of sectors of a track to stage into the cache; determining a margin of error based on a current value of a performance attribute and a threshold of the performance attribute; determining an adjusted staging strategy of the plurality of staging strategies based on the margin of error; retraining the machine learning module with current performance attributes to output the adjusted staging strategy; and using the retrained machine learning module to output one of the staging strategies to use to determine sectors of a track to stage into the cache for a requested track not in the cache.
20. The method of claim 19, further comprising: completing staging of sectors of a track into the cache for a track as part of a staging strategy, wherein the determining the margin of error, the determining the adjusted staging strategy, and the retraining the machine learning module are performed in response to completing the staging of the sectors of a track into the cache.
21. The method of claim 19, wherein the staging strategies include at least a plurality of a partial track staging to stage all sectors from a requested sector of a track, a sector staging to stage only the requested sectors of the track, and a full track staging to stage all sectors of the track.
22. The method of claim 21, wherein the margin of error comprises the threshold of the performance attribute minus the current value of the performance attribute, wherein the adjusted staging strategy comprises: setting the adjusted staging strategy to the full track staging in response to the margin of error exceeding an upper value; setting the adjusted staging strategy to the sector staging in response to the margin of error less than a lower value; and setting the adjusted staging strategy to the partial track staging in response to the margin of error being between the lower value and the upper value.
23. The method of claim 21, wherein there are a first margin of error and a second margin of error for a first performance attribute and a second performance attribute, respectively, wherein the determining the adjusted staging strategy is indicated in rules specifying one of the staging strategies based on values for the first margin of error and the second margin of error.
24. The method of claim 23, wherein the first margin of error comprises a threshold of the first performance attribute minus a current value for the first performance attribute and wherein the second margin of error comprises a threshold of the second performance attribute minus a current value for the second performance attribute, wherein the rules include: a first rule indicating the full track staging in response to the first margin of error and the second margin of error exceeding zero; a second rule indicating the sector staging in response to the first margin of error and the second margin of error being less than zero; and a third rule indicating the partial track staging in response to only one of the first margin of error and the second margin of error being greater than zero.
25. The method of claim 24, wherein the first performance attribute comprises a storage response time and the first margin of error comprises a maximum acceptable storage response time minus a current storage response time to transfer data from the storage to the cache, and wherein the second performance attribute comprises an adaptor bandwidth for an adaptor transferring data between the cache and the storage and the second margin of error comprises an optimal adaptor bandwidth minus a current adaptor bandwidth of the adaptor.
</claims>
</document>
