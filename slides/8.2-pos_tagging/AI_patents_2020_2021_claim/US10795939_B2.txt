<document>

<filing_date>
2018-03-23
</filing_date>

<publication_date>
2020-10-06
</publication_date>

<priority_date>
2017-06-19
</priority_date>

<ipc_classes>
G06F16/33,G06F16/36,G06F16/9032,G06F16/95,G06F17/27,G06F17/30,G06F40/30,G06N3/04,G06N3/08
</ipc_classes>

<assignee>
BEIJING BAIDU NETCOM SCIENCE AND TECHNOLOGY COMPANY
</assignee>

<inventors>
ZHAO, SHIQI
YU, DIANHAI
CHEN, LIWEI
ZHOU, XIAO
</inventors>

<docdb_family_id>
60023248
</docdb_family_id>

<title>
Query method and apparatus
</title>

<abstract>
A query method and apparatus. A specific implementation of the method comprises: acquiring a target historical query statement from a historical query statement collection; extending the target historical query statement based on a query log to generate an extended statement fragment associated with the target historical query statement; adding the extended statement fragment, as a statement fragment characteristic associated with the target historical query statement, into a statement fragment characteristic library of a preset model; and generating a query result corresponding to a query statement based on the statement fragment characteristic library of the preset model in response to receiving the query statement. According to an embodiment of the present disclosure, the extended statement fragment is added, as the statement fragment characteristic associated with the target historical query statement, into the statement fragment characteristic library of the preset model.
</abstract>

<claims>
1. A query method, comprising: acquiring a target historical query statement from a historical query statement collection; extending the target historical query statement based on a query log to generate an extended statement fragment associated with the target historical query statement; adding the extended statement fragment, as a statement fragment characteristic associated with the target historical query statement, into a statement fragment characteristic library of a preset model, the preset model comprising a domain recognition model and/or an intent slot recognition model, the domain recognition model being configured to characterize a corresponding relationship between a query statement and a preset domain to which a semantic meaning of the query statement belongs, the intent slot recognition model being configured to characterize a corresponding relationship between a query statement and a query intent indicated by the query statement, and a corresponding relationship between a query statement and a limiting keyword of the query intent; and generating a query result corresponding to a query statement based on the statement fragment characteristic library of the preset model in response to receiving the query statement.
2. The query method according to claim 1, wherein the extending the target historical query statement based on a query log to generate an extended statement fragment comprises: performing a word segmentation on the target historical query statement using various preset word segmentation approaches to generate a plurality of statement fragments; and selecting a preset number of statement fragments from the plurality of statement fragments in an order of user selection probabilities from a highest to a lowest as the extended statement fragments, or selecting a statement fragment having a user selection probability higher than a probability threshold as the extended statement fragment, the user selection probability being determined by a number of historical clicks of each statement fragment among each group of statement fragments in the query result recorded in the query log.
3. The query method according to claim 1, wherein the extending the target historical query statement based on a query log to generate an extended statement fragment comprises: performing a word segmentation on the target historical query statement using various preset word segmentation approaches to generate a plurality of statement fragments; and for a statement fragment among the plurality of statement fragments, determining a title of a historical user selection page corresponding to the statement fragment serving as the query statement; performing a word segmentation on the title to generate at least two statement fragments of the title; and determining a weight value of each statement fragment of the title, and determining the statement fragment having a weight value higher than a preset weight threshold as the extended statement fragment.
4. The query method according to claim 1, wherein the extending the target historical query statement based on a query log to generate an extended statement fragment comprises: in response to determining that for a first target fragment in the target historical query statement and a second target fragment in a title of a historical user selection page corresponding to the target historical query statement, a probability in unilateral contextual consistency in the statement is greater than a first preset threshold or a probability in bilateral contextual consistency is greater than a second preset threshold, determining the first target fragment and the second target fragment as synonymous fragments, and determining the second target fragment as the extended statement fragment, a record selected for the historical user selection page being recorded into the query log.
5. The query method according to claim 1, wherein the extending the target historical query statement based on a query log to generate an extended statement fragment comprises: in response to determining that within a designated historical period, the first target fragment is positioned in the target historical query statement and a probability of a second target fragment positioned in titles of a plurality of historical user selection pages corresponding to the target historical query statement is greater than a preset threshold, determining the first target fragment and the second target fragment as synonymous fragments, and determining the second target fragment as the extended statement fragment, a record selected for the historical user selection page being recorded into the query log.
6. The query method according to claim 1, wherein the extending the target historical query statement based on a query log to generate an extended statement fragment comprises: determining, based on a deep neural network, a semantic similarity between a first target fragment in the target historical query statement and a second target fragment in a title of a historical user selection page corresponding to the target historical query statement, a record selected for the historical user selection page being recorded into the query log; and in response to determining the semantic similarity is above a preset similarity threshold, determining the first target fragment and the second target fragment as synonymous fragments, and determining the second target fragment as the extended statement fragment.
7. The query method according to claim 4, wherein after the determining the first target fragment and the second target fragment as synonymous fragments, the extending the target historical query statement based on the query log to generate the extended statement fragment further comprises: pushing to-be-confirmed synonymous fragment information comprising the first target fragment and the second target fragment to a client; and in response to receiving confirmed synonymous fragment information returned by the client, determining the first target fragment and the second target fragment as confirmed synonymous fragments.
8. The query method according to claim 1, further comprising: in response to determining that the target historical query statement comprises a to-be-confirmed statement fragment and a query intent fragment in a preset query intent fragment collection, determining whether the target historical query statement is present in the query log; and in response to determining that the target historical query statement is present in the query log, adding a specified tag used for indicating a modification function for the to-be-confirmed statement fragment in the statement fragment characteristic library.
9. The query method according to claim 1, wherein the generating a query result corresponding to a query statement based on the statement fragment characteristic library of the preset model comprises: in response to the preset model comprising the domain recognition model and the intent slot recognition model, determining at least one domain recognition model matching the query statement and a preset domain corresponding to the at least one domain recognition model from a plurality of domain recognition models based on the statement fragment characteristic library of each one of the plurality of domain recognition models; for each preset domain, inputting the query statement into the intent slot recognition model corresponding to the preset domain to obtain the query intent indicated by the query statement and the limiting keyword of the query intent based on matching between the query statement and the statement fragment characteristic in the statement fragment characteristic library of the intent slot recognition model; and searching for information matching the query intent and the limiting keyword from an information library, and determining the information searched out as the query result.
10. A query apparatus, comprising: at least one processor; and a memory storing instructions, which when executed by the at least one processor, cause the at least one processor to perform operations, the operations comprising: acquiring a target historical query statement from a historical query statement collection; extending the target historical query statement based on a query log to generate an extended statement fragment associated with the target historical query statement; adding the extended statement fragment, as a statement fragment characteristic associated with the target historical query statement, into a statement fragment characteristic library of a preset model, the preset model comprising a domain recognition model and/or an intent slot recognition model, the domain recognition model being configured to characterize a corresponding relationship between a query statement and a preset domain to which a semantic meaning of the query statement belongs, the intent slot recognition model being configured to characterize a corresponding relationship between a query statement and a query intent indicated by the query statement, and a corresponding relationship between a query statement and a limiting keyword of the query intent; and generating a query result corresponding to a query statement based on the statement fragment characteristic library of the preset model in response to receiving the query statement.
11. The query apparatus according to claim 10, wherein the extending the target historical query statement based on a query log to generate an extended statement fragment comprises: performing a word segmentation on the target historical query statement using various preset word segmentation approaches to generate a plurality of statement fragments; and selecting a preset number of statement fragments from the plurality of statement fragments in an order of user selection probabilities from a highest to a lowest as the extended statement fragments, or selecting a statement fragment having a user selection probability higher than a probability threshold as the extended statement fragment, the user selection probability being determined by a number of historical clicks of each statement fragment among each group of statement fragments in the query result recorded in the query log.
12. The query apparatus according to claim 10, wherein the extending the target historical query statement based on a query log to generate an extended statement fragment comprises: performing a word segmentation on the target historical query statement using various preset word segmentation approaches to generate a plurality of statement fragments; and for a statement fragment among the plurality of statement fragments, determining a title of a historical user selection page corresponding to the statement fragment serving as the query statement; performing a word segmentation on the title to generate at least two statement fragments of the title; and determining a weight value of each statement fragment of the title, and determining the statement fragment having a weight value higher than a preset weight threshold as the extended statement fragment.
13. The query apparatus according to claim 10, wherein the extending the target historical query statement based on a query log to generate an extended statement fragment comprises: in response to determining that for a first target fragment in the target historical query statement and a second target fragment in a title of a historical user selection page corresponding to the target historical query statement, a probability in unilateral contextual consistency in the statement is greater than a first preset threshold or a probability in bilateral contextual consistency is greater than a second preset threshold, determining the first target fragment and the second target fragment as synonymous fragments, and determining the second target fragment as the extended statement fragment, a record selected for the historical user selection page being recorded into the query log.
14. The query apparatus according to claim 13, wherein the extending the target historical query statement based on the query log to generate the extended statement fragment further comprises: pushing to-be-confirmed synonymous fragment information comprising the first target fragment and the second target fragment to a client; and in response to receiving confirmed synonymous fragment information returned by the client, determining the first target fragment and the second target fragment as confirmed synonymous fragments.
15. A non-transitory computer storage medium storing a computer program, which when executed by a processor, causes the processor to perform operations, the operations comprising: acquiring a target historical query statement from a historical query statement collection; extending the target historical query statement based on a query log to generate an extended statement fragment associated with the target historical query statement; adding the extended statement fragment, as a statement fragment characteristic associated with the target historical query statement, into a statement fragment characteristic library of a preset model, the preset model comprising a domain recognition model and/or an intent slot recognition model, the domain recognition model being configured to characterize a corresponding relationship between a query statement and a preset domain to which a semantic meaning of the query statement belongs, the intent slot recognition model being configured to characterize a corresponding relationship between a query statement and a query intent indicated by the query statement, and a corresponding relationship between a query statement and a limiting keyword of the query intent; and generating a query result corresponding to a query statement based on the statement fragment characteristic library of the preset model in response to receiving the query statement.
</claims>
</document>
