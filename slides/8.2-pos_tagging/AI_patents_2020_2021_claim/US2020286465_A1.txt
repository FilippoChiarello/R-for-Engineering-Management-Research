<document>

<filing_date>
2020-05-27
</filing_date>

<publication_date>
2020-09-10
</publication_date>

<priority_date>
2018-01-31
</priority_date>

<ipc_classes>
G10L15/05,G10L15/06,G10L15/08
</ipc_classes>

<assignee>
TENCENT TECHNOLOGY (SHENZHEN) COMPANY
</assignee>

<inventors>
SU, DAN
WANG JUN
YU, DONG
</inventors>

<docdb_family_id>
62850811
</docdb_family_id>

<title>
SPEECH KEYWORD RECOGNITION METHOD AND APPARATUS, COMPUTER-READABLE STORAGE MEDIUM, AND COMPUTER DEVICE
</title>

<abstract>
A speech keyword recognition method includes: obtaining first speech segments based on a to-be-recognized speech signal; obtaining first probabilities respectively corresponding to the first speech segments by using a preset first classification model. A first probability of a first speech segment is obtained from probabilities of the first speech segment respectively corresponding to pre-determined word segmentation units of a pre-determined keyword. The method also includes obtaining second speech segments based on the to-be-recognized speech signal, and respectively generating first prediction characteristics of the second speech segments based on first probabilities of first speech segments that correspond to each second speech segment; performing classification based on the first prediction characteristics by using a preset second classification model, to obtain second probabilities respectively corresponding to the second speech segments related to the pre-determined keyword; and determining, based on the second probabilities, whether the pre-determined keyword exists in the to-be-recognized speech signal.
</abstract>

<claims>
1. A speech keyword recognition method, performed by a user terminal or a server, comprising: obtaining first speech segments based on a to-be-recognized speech signal; obtaining first probabilities respectively corresponding to the first speech segments by using a preset first classification model, a first probability of a first speech segment being obtained based on probabilities of the first speech segment respectively corresponding to pre-determined word segmentation units of a pre-determined keyword; obtaining second speech segments based on the to-be-recognized speech signal, and respectively generating first prediction characteristics of the second speech segments based on first probabilities of first speech segments that correspond to each second speech segment; performing classification based on the first prediction characteristics by using a preset second classification model, to obtain second probabilities respectively corresponding to the second speech segments, a second probability of a second speech segment comprising at least one of a probability of the second speech segment corresponding to the pre-determined keyword or a probability of the second speech segment not corresponding to the pre-determined keyword; and determining, based on the second probabilities, whether the pre-determined keyword exists in the to-be-recognized speech signal.
2. The method according to claim 1, further comprising: obtaining the second speech segments based on the to-be-recognized speech signal in response to determining, based on the first probabilities and a pre-determined decision logic, that the pre-determined keyword exists in the to-be-recognized speech signal.
3. The method according to claim 2, wherein determining that the pre-determined keyword exists in the to-be-recognized speech signal comprises: determining a current to-be-recognized word segmentation unit, wherein the current to-be-recognized word segmentation unit is a pre-determined word segmentation unit that has not been used as a to-be-recognized word segmentation unit, and appears foremost in a sequence of the pre-determined word segmentation units appeared in the pre-determined keyword; determining a current to-be-determined speech segment, wherein the current to-be-determined speech segment is a first speech segment that has not been used as a to-be-determined speech segment, and that appears foremost in a sequence of the first speech segments appeared in the to-be-recognized speech signal; returning to the operation of determining the current to-be-recognized word segmentation unit in a case that a probability of the current to-be-determined speech segment corresponding to the current to-be-recognized word segmentation unit is greater than a pre-determined threshold and the current to-be-recognized word segmentation unit is not the last pre-determined word segmentation unit appearing in the pre-determined keyword; and determining that the pre-determined keyword exists in the to-be-recognized speech signal in a case that the probability of the current to-be-determined speech segment corresponding to the current to-be-recognized word segmentation unit is greater than the pre-determined threshold and the current to-be-recognized word segmentation unit is the last pre-determined word segmentation unit appearing in the pre-determined keyword.
4. The method according to claim 3, further comprising: returning to the operation of determining the current to-be-determined speech segment in a case that the probability of the current to-be-determined speech segment corresponding to the current to-be-recognized word segmentation unit is less than or equal to the pre-determined threshold and a to-be-recognized word segmentation unit whose probability is determined as greater than the pre-determined threshold in a most recent determination is in a valid state; and determining the foremost pre-determined word segmentation unit in the sequence of the pre-determined word segmentation units appeared in the pre-determined keyword as the current to-be-recognized word segmentation unit and returning to the operation of determining the current to-be-determined speech segment in a case that the probability of the current to-be-determined speech segment corresponding to the current to-be-recognized word segmentation unit is less than or equal to the pre-determined threshold and a to-be-recognized word segmentation unit whose probability is determined as greater than the pre-determined threshold in a most recent determination is in an invalid state.
5. The method according to claim 1, wherein the first classification model is determined by: obtaining sample speech signals based on a pre-determined corpus, wherein the pre-determined corpus comprises a general corpus; obtaining third speech segments based on the sample speech signals; obtaining first acoustic characteristics of the third speech segments and third probabilities respectively corresponding to the third speech segments, wherein a third probability of a third speech segment being obtained based on probabilities of the third speech segment respectively corresponding to the pre-determined word segmentation units of the pre-determined keyword; and training a pre-determined first neural network model based on the first acoustic characteristics of the third speech segments and the third probabilities, to determine the first classification model.
6. The method according to claim 5, wherein the second classification model is determined by: obtaining fourth speech segments based on the sample speech signals; respectively generating second prediction characteristics of the fourth speech segments based on third probabilities of third speech segments that correspond to each fourth speech segment; obtaining fourth probabilities respectively corresponding to the fourth speech segments, wherein a fourth probability of a fourth speech segment comprises at least one of a probability of the fourth speech segment corresponding to the pre-determined keyword and a probability of the fourth speech segment not corresponding to the pre-determined keyword; and training a pre-determined second neural network model based on the second prediction characteristics of the fourth speech segments and the fourth probabilities, to determine the second classification model.
7. The method according to claim 1, further comprising: obtaining second acoustic characteristics of the second speech segments; and respectively generating the first prediction characteristics of the second speech segments based on the second acoustic characteristics of the second speech segments and the first probabilities of the first speech segments that correspond to each second speech segment.
8. The method according to claim 1, wherein the pre-determined word segmentation units of the pre-determined keyword are obtained by: performing word segmentation processing on the pre-determined keyword based on a pre-determined word segmentation manner, to obtain the pre-determined word segmentation units of the pre-determined keyword, wherein the pre-determined word segmentation manner comprises at least one of pinyin, a phoneme, and a word.
9. The method according to claim 1, wherein the first classification model comprises cascading subclassification models, and a quantity of layers of the subclassification models are greater than or equal to 2.
10. A speech keyword recognition apparatus, comprising: a memory and a processor configured to: obtain first speech segments based on a to-be-recognized speech signal; obtain first probabilities respectively corresponding to the first speech segments by using a preset first classification model, a first probability of a first speech segment being obtained based on probabilities of the first speech segment respectively corresponding to pre-determined word segmentation units of a pre-determined keyword; obtain second speech segments based on the to-be-recognized speech signal, and respectively generate first prediction characteristics of the second speech segments based on first probabilities of first speech segments that correspond to each second speech segment; perform classification based on the first prediction characteristics by using a preset second classification model, to obtain second probabilities respectively corresponding to the second speech segments, a second probability of a second speech segment comprising at least one of a probability of the second speech segment corresponding to the pre-determined keyword or a probability of the second speech segment not corresponding to the pre-determined keyword; and determine, based on the second probabilities, whether the pre-determined keyword exists in the to-be-recognized speech signal.
11. The apparatus according to claim 10, wherein the processor is further configured to: obtain the second speech segments based on the to-be-recognized speech signal in response to determining, based on the first probabilities and a pre-determined decision logic, that the pre-determined keyword exists in the to-be-recognized speech signal.
12. The apparatus according to claim 11, wherein the processor is further configured to: determine a current to-be-recognized word segmentation unit, wherein the current to-be-recognized word segmentation unit is a pre-determined word segmentation unit that has not been used as a to-be-recognized word segmentation unit, and appears foremost in a sequence of the pre-determined word segmentation units appeared in the pre-determined keyword; determine a current to-be-determined speech segment, wherein the current to-be-determined speech segment is a first speech segment that has not been used as a to-be-determined speech segment, and that appears foremost in a sequence of the first speech segments appeared in the to-be-recognized speech signal; return to determining the current to-be-recognized word segmentation unit in a case that a probability of the current to-be-determined speech segment corresponding to the current to-be-recognized word segmentation unit is greater than a pre-determined threshold and the current to-be-recognized word segmentation unit is not the last pre-determined word segmentation unit appearing in the pre-determined keyword; and determine that the pre-determined keyword exists in the to-be-recognized speech signal in a case that the probability of the current to-be-determined speech segment corresponding to the current to-be-recognized word segmentation unit is greater than the pre-determined threshold and the current to-be-recognized word segmentation unit is the last pre-determined word segmentation unit appearing in the pre-determined keyword.
13. The apparatus according to claim 12, wherein the processor is further configured to: return to determining the current to-be-determined speech segment in a case that the probability of the current to-be-determined speech segment corresponding to the current to-be-recognized word segmentation unit is less than or equal to the pre-determined threshold and a to-be-recognized word segmentation unit whose probability is determined as greater than the pre-determined threshold in a most recent determination is in a valid state; and return to determining the foremost pre-determined word segmentation unit in the sequence of the pre-determined word segmentation units appeared in the pre-determined keyword as the current to-be-recognized word segmentation unit and return to determining in a case that the probability of the current to-be-determined speech segment corresponding to the current to-be-recognized word segmentation unit is less than or equal to the pre-determined threshold and a to-be-recognized word segmentation unit whose probability is determined as greater than the pre-determined threshold in a most recent determination is in an invalid state.
14. The apparatus according to claim 10, wherein the processor is further configured to: obtain sample speech signals based on a pre-determined corpus, wherein the pre-determined corpus comprises a general corpus; obtain third speech segments based on the sample speech signals; obtain first acoustic characteristics of the third speech segments and third probabilities respectively corresponding to the third speech segments, wherein a third probability of a third speech segment being obtained based on probabilities of the third speech segment respectively corresponding to the pre-determined word segmentation units of the pre-determined keyword; and train a pre-determined first neural network model based on the first acoustic characteristics of the third speech segments and the third probabilities, to determine the first classification model.
15. The apparatus according to claim 14, wherein the processor is further configured to: obtain fourth speech segments based on the sample speech signals; respectively generate second prediction characteristics of the fourth speech segments based on third probabilities of third speech segments that correspond to each fourth speech segment; obtain fourth probabilities respectively corresponding to the fourth speech segments, wherein fourth probability of a fourth speech segment comprises at least one of a probability of the fourth speech segment corresponding to the pre-determined keyword and a probability of the fourth speech segment not corresponding to the pre-determined keyword; and train a pre-determined second neural network model based on the second prediction characteristics of the fourth speech segments and the fourth probabilities, to determine the second classification model.
16. The apparatus according to claim 10, wherein the processor is further configured to: obtain second acoustic characteristics of the second speech segments; and respectively generate the first prediction characteristics of the second speech segments based on the second acoustic characteristics of the second speech segments and the first probabilities of the first speech segments that correspond to each second speech segment.
17. The apparatus according to claim 10, wherein the processor is further configured to: perform word segmentation processing on the pre-determined keyword based on a pre-determined word segmentation manner, to obtain the pre-determined word segmentation units of the pre-determined keyword, wherein the pre-determined word segmentation manner comprises at least one of pinyin, a phoneme, and a word.
18. The apparatus according to claim 10, wherein the first classification model comprises cascading subclassification models, and a quantity of layers of the subclassification models are greater than or equal to 2.
19. A non-transitory computer-readable storage medium, storing a computer program, the computer program, when executed by a processor, causing the processor to perform: obtaining first speech segments based on a to-be-recognized speech signal; obtaining first probabilities respectively corresponding to the first speech segments by using a preset first classification model, a first probability of a first speech segment being obtained based on probabilities of the first speech segment respectively corresponding to pre-determined word segmentation units of a pre-determined keyword; obtaining second speech segments based on the to-be-recognized speech signal, and respectively generating first prediction characteristics of the second speech segments based on first probabilities of first speech segments that correspond to each second speech segment; performing classification based on the first prediction characteristics by using a preset second classification model, to obtain second probabilities respectively corresponding to the second speech segments, a second probability of a second speech segment comprising at least one of a probability of the second speech segment corresponding to the pre-determined keyword or a probability of the second speech segment not corresponding to the pre-determined keyword; and determining, based on the second probabilities, whether the pre-determined keyword exists in the to-be-recognized speech signal.
20. The storage medium according to claim 19, wherein the first classification model comprises cascading subclassification models, and a quantity of layers of the subclassification models are greater than or equal to 2.
</claims>
</document>
