<document>

<filing_date>
2018-05-30
</filing_date>

<publication_date>
2020-08-04
</publication_date>

<priority_date>
2016-09-14
</priority_date>

<ipc_classes>
G01C21/34,G05D1/00,G06K9/00,G06K9/62,G06N20/00,G06N7/00,G06N99/00,G06Q10/04,G07C5/00,G07C5/08,G09B29/00,H04N5/247
</ipc_classes>

<assignee>
NAUTO
</assignee>

<inventors>
HECK, STEFAN
SATHYANARAYANA, SUCHITRA
HORNBAKER, CHARLES
</inventors>

<docdb_family_id>
63582812
</docdb_family_id>

<title>
Systems and methods for safe route determination
</title>

<abstract>
A method for safe route determination, including determining a geographic risk map for a geographic region, wherein the geographic risk map is determined based on a vehicle event dataset aggregated from a plurality of vehicles enabled with an onboard vehicle system, and automatically determining a route between two locations in the geographic region based on the geographic risk map.
</abstract>

<claims>
We claim:
1. A method comprising: detecting a set of near-collision events that occur within a geographic region, wherein the geographic region defines a set of spatial zones; detecting a set of collision events that occur within the geographic region; computing a zone risk score associated with each of the set of spatial zones based on the set of near-collision events and the set of collision events; computing a set of route risk scores having a one-to-one correspondence with a set of candidate routes, wherein each route of the set of candidate routes is between an origin located within the geographic region and a destination located within the geographic region, wherein computing a route risk score of the set of route risk scores for a route of the set of candidate routes comprises: determining a set of weights having a one-to-one correspondence with a subset of the set of spatial zones, wherein the route intersects each of the subset of the set of spatial zones, multiplying the zone risk score associated with each of the subset of spatial zones with a corresponding weight of the set of weights to generate a set of weighted zone risk scores, and summing the set of weighted zone risk scores to generate the route risk score for the route; determining a safest route between the origin and the destination, wherein the safest route corresponds to the minimum route risk score of the set of route risk scores; and routing a vehicle according to the safest route; wherein each weight of the set of weights is proportional to an estimated residence time in the corresponding spatial zone during traversal of the route.
2. The method of claim 1, further comprising estimating the residence time in the corresponding spatial zone based on an instantaneous traffic condition within the corresponding spatial zone.
3. The method of claim 1, wherein the computed zone risk score for each of the set of spatial zones is proportional to a combination of the frequency of near-collision events and the frequency of collision events detected within each spatial zone.
4. A method comprising: detecting a set of near-collision events that occur within a geographic region, wherein the geographic region defines a set of spatial zones; detecting a set of collision events that occur within the geographic region; computing a zone risk score associated with each of the set of spatial zones based on the set of near-collision events and the set of collision events; computing a set of route risk scores having a one-to-one correspondence with a set of candidate routes, wherein each route of the set of candidate routes is between an origin located within the geographic region and a destination located within the geographic region, wherein computing a route risk score of the set of route risk scores for a route of the set of candidate routes comprises: determining a set of weights having a one-to-one correspondence with a subset of the set of spatial zones, wherein the route intersects each of the subset of the set of spatial zones, multiplying the zone risk score associated with each of the subset of spatial zones with a corresponding weight of the set of weights to generate a set of weighted zone risk scores, and summing the set of weighted zone risk scores to generate the route risk score for the route: determining a safest route between the origin and the destination, wherein the safest route corresponds to the minimum route risk score of the set of route risk scores; and routing a vehicle according to the safest route; wherein detecting the set of near-collision events comprises, for each of the set of near-collision events: recording a first video with an external-facing camera mounted to the vehicle; detecting an object from the first video; determining object parameters for the object from the first video; recording a second video with an internal-facing camera mounted to the vehicle; determining a user behavior score based on the second video; generating a local risk map for the vehicle, the local risk map comprising a risk score for each of a set of positions within a volume proximal the vehicle, each risk score calculated using a parametric module based on the user behavior score and object parameters; and detecting a near-collision event, comprising detecting a risk score within the risk map exceeding a threshold score.
5. The method of claim 4, wherein a first subset of the set of spatial zones is associated with a junction between two or more roadways per spatial zone in the first subset, and a second subset of the set of spatial zones is associated with one roadway per spatial zone in the second subset.
6. The method of claim 5, wherein each weight of the set of weights is proportional to the number of roadways associated with the corresponding spatial zone.
7. The method of claim 4, wherein each weight of the set of weights is proportional to a length of a route portion intersecting the corresponding spatial zone.
8. A method comprising: detecting a set of near-collision events that occur within a geographic region, wherein the geographic region defines a set of spatial zones; detecting a set of collision events that occur within the geographic region; computing a zone risk score associated with each of the set of spatial zones based on the set of near-collision events and the set of collision events; computing a set of route risk scores having a one-to-one correspondence with a set of candidate routes, wherein each route of the set of candidate routes is between an origin located within the geographic region and a destination located within the geographic region, wherein computing a route risk score of the set of route risk scores for a route of the set of candidate routes comprises: determining a set of weights having a one-to-one correspondence with a subset of the set of spatial zones, wherein the route intersects each of the subset of the set of spatial zones, multiplying the zone risk score associated with each of the subset of spatial zones with a corresponding weight of the set of weights to generate a set of weighted zone risk scores, and summing the set of weighted zone risk scores to generate the route risk score for the route; determining a safest route between the origin and the destination, wherein the safest route corresponds to the minimum route risk score of the set of route risk scores; and routing a vehicle according to the safest route; wherein determining the safest route between the origin and the destination comprises: receiving a user limit from a user; filtering the set of candidate routes with the user limit; and selecting a route from the filtered set of candidate routes, with the minimum route risk score, as the safest route.
9. A method comprising: at a plurality of onboard vehicle systems associated with a plurality of vehicles, detecting a set of near-collision events that occur within a geographic region, wherein the geographic region defines a set of spatial zones; at the plurality of onboard vehicle systems, detecting a set of collision events that occur within the geographic region; aggregating the set of near-collision events and the set of collision events into a vehicle event dataset at a remote server communicatively coupled to the plurality of onboard vehicle systems; determining, at the remote server, a geographic risk map based on the vehicle event dataset, wherein the geographic risk map defines a zone risk score associated with each of the set of spatial zones; generating a set of candidate routes between a present location of a vehicle within the geographic region and a destination within the geographic region; selecting a safest route between the present location and the destination based on the geographic risk map; routing the vehicle according to the safest route; receiving a safest route request for a secondary vehicle without the onboard vehicle system, the safest route request comprising a secondary vehicle location and secondary vehicle destination within the geographic region; retrieving the geographic risk map; determining a secondary vehicle safest route between the secondary vehicle location and the secondary vehicle destination based on the geographic risk map; and transmitting the secondary vehicle safest route to the secondary vehicle.
10. The method of claim 9, further comprising determining a vehicle context parameter using an onboard vehicle system of the plurality of onboard vehicle systems associated with a vehicle of the plurality of vehicles, and selecting the safest route based on the geographic risk map in combination with the vehicle context parameter.
11. The method of claim 10, wherein the onboard vehicle system comprises an interior-facing camera and an exterior-facing camera, wherein the interior-facing camera is statically mounted at a known orientation relative to the exterior-facing camera, wherein the exterior-facing camera captures a first video concurrently with a second video captured by the interior-facing camera, the method further comprising determining the vehicle context parameter based on the first video and the second video.
12. The method of claim 11, further comprising extracting an object position as a function of time from the first video, extracting a driver gaze direction as a function of time from the second video, generating a comparison between the driver gaze direction and the object position, and computing a driver behavior score based on the comparison, wherein the vehicle context parameter comprises the driver behavior score.
13. The method of claim 10, wherein determining the vehicle context parameter comprises determining a driver identity using the onboard vehicle system, and retrieving a driver behavior score associated with the driver identity wherein the driver behavior score comprises the vehicle context parameter.
14. The method of claim 9, wherein the zone risk score of each spatial zone is computed based on a near-collision frequency and collision frequency associated with each zone, wherein the near-collision frequency and collision frequency are extracted from the vehicle event dataset for each spatial zone.
15. The method of claim 14, wherein each spatial zone of the set of spatial zones defines a roadway feature, and wherein the zone risk score of each spatial zone is computed based on the roadway feature.
16. The method of claim 15, wherein the roadway feature defined by a spatial zone of the set of spatial zones comprises a speed limit associated with the roadway within the spatial zone.
17. A method comprising: at a plurality of onboard vehicle systems associated with a plurality of vehicles, detecting a set of near-collision events that occur within a geographic region, wherein the geographic region defines a set of spatial zones; at the plurality of onboard vehicle systems, detecting a set of collision events that occur within the geographic region; aggregating the set of near-collision events and the set of collision events into a vehicle event dataset at a remote server communicatively coupled to the plurality of onboard vehicle systems; determining, at the remote server, a geographic risk map based on the vehicle event dataset, wherein the geographic risk map defines a zone risk score associated with each of the set of spatial zones; generating a set of candidate routes between a present location of a vehicle within the geographic region and a destination within the geographic region; selecting a safest route between the present location and the destination based on the geographic risk map; routing the vehicle according to the safest route; wherein detecting the set of near-collision events comprises, for each of the set of near-collision events: recording a first video with an external-facing camera mounted to a vehicle; detecting an object from the first video; determining object parameters for the object from the first video; recording a second video with an internal-facing camera mounted to the vehicle; determining a user behavior score based on the second video; generating a local risk map for the vehicle, the local risk map comprising a risk score for each of a set of positions within a volume proximal the vehicle, each risk score calculated using a parametric module based on the user behavior score and object parameters; and detecting a near-collision event, comprising detecting a risk score within the risk map exceeding a threshold score.
18. A method comprising: at a plurality of onboard vehicle systems associated with a plurality of vehicles, detecting a set of near-collision events that occur within a geographic region, wherein the geographic region defines a set of spatial zones; at the plurality of onboard vehicle systems, detecting a set of collision events that occur within the geographic region; aggregating the set of near-collision events and the set of collision events into a vehicle event dataset at a remote server communicatively coupled to the plurality of onboard vehicle systems; determining, at the remote server, a geographic risk map based on the vehicle event dataset, wherein the geographic risk map defines a zone risk score associated with each of the set of spatial zones; generating a set of candidate routes between a present location of a vehicle within the geographic region and a destination within the geographic region; selecting a safest route between the present location and the destination based on the geographic risk map; routing the vehicle according to the safest route; wherein each route of the set of candidate routes intersects a corresponding subset of spatial zones of the set of spatial zones, and further comprising computing a set of route risk scores having a one-to-one correspondence with the set of candidate routes, wherein computing a route risk score of the set of route risk scores for a route of the set of candidate routes comprises: determining a set of weights having a one-to-one correspondence with the corresponding subset of spatial zones, multiplying a zone risk score associated with each of the subset of spatial zones with a corresponding weight of the set of weights to generate a set of risk-weighted spatial zones; and summing the set of risk-weighted spatial zones to generate the route risk score for the route; and wherein selecting the safest route from the set of candidate routes comprises computing a lowest route risk score of the set of route risk scores, wherein the safest route corresponds to the lowest route risk score.
19. The method of claim 4, wherein the computed zone risk score for each of the set of spatial zones is proportional to a combination of the frequency of near-collision events and the frequency of collision events detected within each spatial zone.
20. The method of claim 8, wherein the computed zone risk score for each of the set of spatial zones is proportional to a combination of the frequency of near-collision events and the frequency of collision events detected within each spatial zone.
21. The method of claim 1, wherein a first subset of the set of spatial zones is associated with a junction between two or more roadways per spatial zone in the first subset, and a second subset of the set of spatial zones is associated with one roadway per spatial zone in the second subset.
22. The method of claim 8, wherein a first subset of the set of spatial zones is associated with a junction between two or more roadways per spatial zone in the first subset, and a second subset of the set of spatial zones is associated with one roadway per spatial zone in the second subset.
23. The method of claim 22, wherein each weight of the set of weights is proportional to the number of roadways associated with the corresponding spatial zone.
24. The method of claim 8, wherein each weight of the set of weights is proportional to a length of a route portion intersecting the corresponding spatial zone.
25. The method of claim 17, further comprising determining a vehicle context parameter using an onboard vehicle system of the plurality of onboard vehicle systems associated with a vehicle of the plurality of vehicles, and selecting the safest route based on the geographic risk map in combination with the vehicle context parameter.
26. The method of claim 17, wherein the onboard vehicle system comprises an interior-facing camera and an exterior-facing camera, wherein the interior-facing camera is statically mounted at a known orientation relative to the exterior-facing camera, wherein the exterior-facing camera captures a first video concurrently with a second video captured by the interior-facing camera, the method further comprising determining the vehicle context parameter based on the first video and the second video.
27. The method of claim 26, further comprising extracting an object position as a function of time from the first video, extracting a driver gaze direction as a function of time from the second video, generating a comparison between the driver gaze direction and the object position, and computing a driver behavior score based on the comparison, wherein the vehicle context parameter comprises the driver behavior score.
28. The method of claim 17, wherein determining the vehicle context parameter comprises determining a driver identity using the onboard vehicle system, and retrieving a driver behavior score associated with the driver identity wherein the driver behavior score comprises the vehicle context parameter.
29. The method of claim 18, further comprising determining a vehicle context parameter using an onboard vehicle system of the plurality on onboard vehicle systems associated with a vehicle of the plurality of vehicles, and selecting the safest route based on the geographic risk map in combination with the vehicle context parameter.
30. The method of claim 18, wherein the onboard vehicle system comprises an interior-facing camera and an exterior-facing camera, wherein the interior-facing camera is statically mounted at a known orientation relative to the exterior-facing camera, wherein the exterior-facing camera captures a first video concurrently with a second video captured by the interior-facing camera, the method further comprising determining the vehicle context parameter based on the first video and the second video.
31. The method of claim 30, further comprising extracting an object position as a function of time from the first video, extracting a driver gaze direction as a function of time from the second video, generating a comparison between the driver gaze direction and the object position, and computing a driver behavior score based on the comparison, wherein the vehicle context parameter comprises the driver behavior score.
32. The method of claim 18, wherein determining the vehicle context parameter comprises determining a driver identity using the onboard vehicle system, and retrieving a driver behavior score associated with the driver identity wherein the driver behavior score comprises the vehicle context parameter.
33. The method of claim 17, wherein the zone risk score of each spatial zone is computed based on a near-collision frequency and collision frequency associated with each zone, wherein the near-collision frequency and collision frequency are extracted from the vehicle event dataset for each spatial zone.
34. The method of claim 33, wherein each spatial zone of the set of spatial zones defines a roadway feature, and wherein the zone risk score of each spatial zone is computed based on the roadway feature.
35. The method of claim 34, wherein the roadway feature defined by a spatial zone of the set of spatial zones comprises a speed limit associated with the roadway within the spatial zone.
36. The method of claim 18, wherein the zone risk score of each spatial zone is computed based on a near-collision frequency and collision frequency associated with each zone, wherein the near-collision frequency and collision frequency are extracted from the vehicle event dataset for each spatial zone.
37. The method of claim 36, wherein each spatial zone of the set of spatial zones defines a roadway feature, and wherein the zone risk score of each spatial zone is computed based on the roadway feature.
38. The method of claim 37, wherein the roadway feature defined by a spatial zone of the set of spatial zones comprises a speed limit associated with the roadway within the spatial zone.
</claims>
</document>
