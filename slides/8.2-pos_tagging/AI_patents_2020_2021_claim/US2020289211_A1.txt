<document>

<filing_date>
2020-06-03
</filing_date>

<publication_date>
2020-09-17
</publication_date>

<priority_date>
2016-06-23
</priority_date>

<ipc_classes>
A61B17/56,A61B34/10,A61B34/20,G06T7/00,G06T7/10,G06T7/11,G06T7/168,G06T7/262,G06T7/38
</ipc_classes>

<assignee>
7D SURGICAL
</assignee>

<inventors>
MARIAMPILLAI, ADRIAN
SIEGLER, PETER
YANG, VICTOR X.D.
LEUNG, MICHAEL K.K.
Standish, Beau
</inventors>

<docdb_family_id>
60783595
</docdb_family_id>

<title>
SYSTEMS AND METHODS FOR INTRAOPERATIVE SPINAL LEVEL VERIFICATION
</title>

<abstract>
Systems and methods are provided in which intraoperatively acquired surface data is employed to verify the correspondence of an intraoperatively selected spinal level with a spinal level that is pre-selected based on volumetric image data. Segmented surface data corresponding to the pre-selected spinal levels may be obtained from the volumetric image data, such that the segmented surface data corresponds to a spinal segment that is expected to be exposed and identified intraoperatively during the surgical procedure. The segmented surface data from the pre-selected spinal level, and adjacent segmented surface data from an adjacent spinal level that is adjacent to the pre-selected spinal level, is registered to the intraoperative surface data, and quality measures associated with the registration are obtained, thereby permitting an assessment or a determination of whether or not the pre-selected spinal surface (in the volumetric frame or reference) is likely to correspond to the intraoperatively selected spinal level.
</abstract>

<claims>
1. A method of performing intraoperative spinal level verification, the method comprising: processing volumetric image data to generate first surface data associated with a first spinal level and second surface data associated with a second spinal level; performing a first registration between the first surface data and intraoperative surface data, the intraoperative surface data characterizing a surface region including at least a portion of an intraoperatively exposed spinal level; performing a second registration between the second surface data and the intraoperative surface data; and generating feedback based on respective registration qualities of the first registration and the second registration.
2. The method according to claim 1 wherein the feedback facilitates a determination of whether or not the intraoperatively exposed spinal level is likely to correspond to the first spinal level.
3. The method according to claim 1 wherein the second spinal level is adjacent to the first spinal level.
4. The method according to claim 3 wherein the feedback is generated by: calculating a first registration quality measure associated with the first registration; calculating a second registration quality measure associated with the second registration; and generating the feedback based on the first registration quality measure and the second registration quality measure.
5. The method according to claim 4 further comprising: detecting that the first registration quality measure is not a highest registration quality measure; and providing feedback indicating that the intraoperatively exposed spinal level may not correspond to the first spinal level.
6. The method according to claim 4 further comprising: detecting that the first registration quality measure is not a highest registration quality measure; and providing feedback identifying an alternative intraoperatively exposed spinal level that is estimated to correspond to the first spinal level.
7. The method according to claim 3 wherein the second spinal level resides adjacent to the first spinal level, and wherein the method further comprises: processing the volumetric image data to generate third surface data associated with a third spinal level, the third spinal level residing on an opposite side of the first spinal level relative to the second spinal level; performing a third registration between the third surface data and the intraoperative surface data; and wherein the feedback is further generated based on a registration quality of the third registration.
8. The method according to claim 3 wherein processing the volumetric image data to generate the first surface data associated with the first spinal level and the second surface data associated with the second spinal level comprises: obtaining input identifying at least three volumetric fiducial points at the first spinal level within a volumetric frame of reference; processing the volumetric image data to generate multi-level surface data characterizing a bone surface of the spine; employing at least one of the volumetric fiducial points to perform segmentation on the multi-level surface data, thereby obtaining the first surface data associated with the first spinal level; employing directional information associated with an orientation of the spine in a volumetric frame of reference to determine a volumetric region within the volumetric frame of reference that is associated with an adjacent spinal level that is adjacent to the first spinal level; and performing segmentation on the multi-level surface data within the volumetric region, thereby obtaining the second surface data associated with the second spinal level.
9. The method according to claim 8 further comprising: obtaining input identifying at least three intraoperative fiducial points associated with the intraoperatively exposed spinal level, within an intraoperative frame of reference associated with the intraoperative surface data, each intraoperative fiducial point corresponding to a respective volumetric fiducial point; employing the volumetric fiducial points and the intraoperative fiducial points when performing registration of the first surface data with the intraoperative surface data; registering the first surface data and the second surface data, thereby obtaining an inter-level registration transform between the first spinal level and the second surface data; and employing the inter-level registration transform when performing registration between the intraoperative surface data and the second surface data.
10. The method according to claim 9 further comprising: applying the inter-level registration transform to the volumetric fiducial points, thereby obtaining one or more estimated adjacent volumetric fiducial locations associated with the second spinal level; employing the one or more estimated adjacent volumetric fiducial locations to determine one or more adjacent volumetric fiducial points associated with the second spinal level; and employing the adjacent volumetric fiducial points and the intraoperative fiducial points to perform the registration between the second surface data and the intraoperative surface data.
11. The method according to claim 9 further comprising: generating additional surface data associated with an additional spinal level, wherein the additional spinal level is adjacent to the second spinal level having the second surface data associated therewith; registering the second surface data associated with the second spinal level to the additional surface data associated with the additional spinal level, thereby obtaining an additional inter-level registration transform between the second spinal level and the additional spinal level; employing the additional inter-level registration transform to perform an additional registration between the additional surface data and the intraoperative surface data; and wherein the feedback is further generated based on a registration quality of the additional registration.
12. The method according to claim 11 wherein the additional surface data is determined by: employing the second surface data and the directional information to determine an additional volumetric region associated with the additional spinal level; and performing segmentation on the multi-level surface data within the additional volumetric region, thereby obtaining the additional surface data associated with the additional spinal level.
13. The method according to claim 12 wherein a size of the additional volumetric region is determined by processing the second surface data to determine a spatial extent of the second spinal level.
14. The method according to claim 11 wherein the additional surface data is determined by: applying the additional inter-level registration transform one or more volumetric fiducial points associated with the second spinal level, thereby obtaining one or more estimated additional adjacent volumetric fiducial locations associated with the additional spinal level; employing the one or more estimated additional adjacent volumetric fiducial locations to determine one or more additional adjacent volumetric fiducial points associated with the additional spinal level; and performing region growing on the multi-level surface data relative to one or more of the additional adjacent volumetric fiducial points.
15. The method according to claim 6 further comprising: employing volumetric fiducial points associated with the first spinal level and corresponding additional intraoperative fiducial points associated with the alternative intraoperatively exposed spinal level to perform an additional registration between the first surface data and the intraoperative surface data; and employing a quality of the additional registration to provide additional feedback suitable for inferring whether or not the alternative intraoperatively exposed spinal level is likely to correspond to the first spinal level.
16. The method according to claim 6 further comprising: registering the first surface data with additional surface data associated with a spinal level in the volumetric image data having a largest registration quality measure, thereby obtaining an inter-level registration transform; employing the identified inter-level registration transform to determine additional intraoperative fiducial points within the intraoperative surface data, corresponding to the alternative intraoperatively exposed spinal level; employing the additional intraoperative fiducial points to perform an additional registration between the first surface data and the intraoperative surface data; and employing a quality of the additional registration to provide feedback suitable for inferring whether or not the alternative intraoperatively exposed spinal level is likely to correspond to the first spinal level.
17. The method according to claim 5 further comprising employing an inter-level registration between the first surface data and the second surface data to perform segmentation of the intraoperative surface data within a region corresponding to an adjacent intraoperatively exposed spinal level that is adjacent to the intraoperatively exposed spinal level, thereby obtaining segmented adjacent intraoperative surface data, and employing registration between the segmented adjacent intraoperative surface data and the first surface data in order to improve an accuracy of the feedback.
18. The method according to claim 5 further comprising: obtaining input identifying at least three additional intraoperative fiducial points associated with an adjacent intraoperatively exposed spinal level that is adjacent to the intraoperatively exposed spinal level; employing volumetric fiducial points associated with the first spinal level and the additional intraoperative fiducial points to perform an additional registration between the first surface data and the intraoperative surface data; and employing a quality of the additional registration to provide additional feedback suitable for inferring whether or not the adjacent intraoperatively exposed spinal level is likely to correspond to the first spinal level.
19. A system for performing intraoperative spinal level verification, the system comprising: a surface detection subsystem; and processing circuitry operatively coupled to said surface detection subsystem, said processing circuitry comprising memory coupled with one or more processors to store instructions, which when executed by the one or more processors, causes the one or more processors to perform operations comprising: processing volumetric image data to generate first surface data associated with a first spinal level and second surface data associated with a second spinal level; performing a first registration between the first surface data and intraoperative surface data, the intraoperative surface data characterizing a surface region including at least a portion of an intraoperatively exposed spinal level; performing a second registration between the second surface data and the intraoperative surface data; and employing registration qualities of the first registration and the second registration to generate feedback.
20. The system according to claim 19 wherein said processing circuitry is further configured such that the feedback facilitates a determination of whether or not the intraoperatively exposed spinal level is likely to correspond to the first spinal level.
</claims>
</document>
