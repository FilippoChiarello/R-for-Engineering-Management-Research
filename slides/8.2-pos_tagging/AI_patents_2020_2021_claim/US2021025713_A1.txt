<document>

<filing_date>
2020-10-01
</filing_date>

<publication_date>
2021-01-28
</publication_date>

<priority_date>
2018-08-20
</priority_date>

<ipc_classes>
G01C21/00,G01C21/16,G06K9/00,G06T3/00,G06T7/70
</ipc_classes>

<assignee>
TENCENT TECHNOLOGY (SHENZHEN) COMPANY
</assignee>

<inventors>
MA, Yanhai
</inventors>

<docdb_family_id>
67645144
</docdb_family_id>

<title>
LANE LINE POSITIONING METHOD AND APPARATUS, AND STORAGE MEDIUM THEREOF
</title>

<abstract>
This disclosure is directed to a lane line positioning method and apparatus. The method includes obtaining inertial information, target traveling information, and first position information of a vehicle. The inertial information comprises information measured by an inertial measurement unit of the vehicle. The target traveling information comprises traveling information of the vehicle acquired at a first moment. The first position information comprises a position of the vehicle at the first moment. The method includes determining second position information according to the target traveling information and the first position information and determining third position information of the vehicle at a second moment based on the inertial information of the vehicle and the second position information. The method includes determining a position of a lane line in a map according to the third position information and relative position information.
</abstract>

<claims>
1. A method for positioning a lane line, comprising: obtaining inertial information, target traveling information, and first position information of a vehicle, the inertial information comprising information measured by an inertial measurement unit of the vehicle, the target traveling information comprising traveling information of the vehicle acquired at a first moment, and the first position information comprising a position of the vehicle at the first moment; determining second position information according to the target traveling information and the first position information; determining third position information of the vehicle at a second moment based on the inertial information of the vehicle and the second position information, the second moment being later than the first moment; and determining a position of a lane line in a map according to the third position information and relative position information, the relative position information indicating a relative position between a detected lane line and the vehicle.
2. The method of claim 1, wherein determining the second position information according to the target traveling information and the first position information comprises: correcting the first position information using the target traveling information, to obtain the second position information.
3. The method of claim 2, wherein correcting the first position information comprises: determining first traveling information according to inertial information of the vehicle at the first moment; obtaining a first information change value between the first traveling information and the target traveling information, and the first information change value being a traveling information change value of the vehicle at the first moment; and correcting the first position information according to the first information change value, to obtain the second position information.
4. The method of claim 3, wherein the inertial information of the vehicle at the second moment comprises multiaxial angular velocities at the second moment and multiaxial accelerations at the second moment, and the first information change value comprises a velocity change value at the first moment and a position change value at the first moment, correcting the first position information according to the first information change value comprises: correcting the first position information using the position change value at the first moment, to obtain the second position information; determining the third position information of the vehicle at the second moment comprises: correcting a velocity of the vehicle at the first moment using the velocity change value at the first moment; determining an acceleration of the vehicle at the second moment using the multiaxial angular velocities at the second moment and the multiaxial accelerations at the second moment; and determining the third position information using the acceleration of the vehicle at the second moment, the second position information, and the corrected velocity at the first moment.
5. The method of claim 4, wherein the third position information of the vehicle at the second moment is determined by a strapdown inertial navigation calculation module, the method further comprises: obtaining the third position information of the vehicle at the second moment outputted by the strapdown inertial navigation calculation module.
6. The method of claim 3, wherein determining the first traveling information comprises: determining the first traveling information based on the inertial information of the vehicle at the first moment and a second information change value, the first traveling information comprising a first velocity at the first moment, an acceleration at the first moment, and the first position information of the vehicle at the first moment, the second information change value comprising a traveling information change value of the vehicle at a third moment, the third moment being earlier than the first moment.
7. The method of claim 6, wherein the method further comprises: in response to the vehicle failing to communicating with a positioning system, obtaining a velocity change value at the first moment between the first velocity in the first traveling information and a second velocity in the target traveling information, and a position change value at the first moment between a position in the first traveling information and a position in the first position information, the first information change value comprising the velocity change value at the first moment and the position change value at the first moment.
8. The method of claim 6, wherein the method further comprises: obtaining a second velocity at the first moment and the position of the vehicle at the first moment that are determined by an odometer of the vehicle.
9. The method of claim 6, wherein before obtaining the first traveling information, the method further comprises: obtaining the second information change value, the second information change value comprising a velocity change value of the vehicle at a third moment determined by a first filter and a position change value and an acceleration change value of the vehicle at the third moment that are determined by a second filter.
10. The method of claim 1, wherein determining the position of the lane line in the map according to the third position information and relative position information comprises: recognizing the lane line from a target image acquired by an image acquisition apparatus of the vehicle; obtaining relative position information between the lane line and the vehicle; searching for fourth position information to which the third position information is mapped in the map; determining a fifth position information in the map according to the fourth position information and the relative position information; and creating a lane line based on the fifth position information.
11. The method of claim 10, wherein recognizing the lane line from a target image comprises: performing affine transformation on the target image using an affine transformation matrix, to obtain an affine transformation graph of the target image; and using a parallel line in the affine transformation graph as the lane line.
12. The method of claim 11, wherein in response to the relative position information comprising a relative distance between the lane line and the vehicle, obtaining the relative position information between the lane line and the vehicle comprises: obtaining a pixel distance between the lane line and the vehicle in the affine transformation graph; and determining the relative distance between the lane line and the vehicle using a product of a scale factor of the affine transformation and the pixel distance.
13. An apparatus for positioning a lane line, comprising: a memory operable to store program code; and a processor operable to read the program code and configured to: obtain inertial information, target traveling information, and first position information of a vehicle, the inertial information comprising information measured by an inertial measurement unit of the vehicle, the target traveling information comprising traveling information of the vehicle acquired at a first moment, and the first position information comprising a position of the vehicle at the first moment; determine second position information according to the target traveling information and the first position information; determine third position information of the vehicle at a second moment based on the inertial information of the vehicle and the second position information, the second moment being later than the first moment; and determine a position of a lane line in a map according to the third position information and relative position information, the relative position information indicating a relative position between a detected lane line and the vehicle.
14. The apparatus of claim 13, wherein the processor is configured to correct the first position information using the target traveling information, to obtain the second position information.
15. The apparatus of claim 14, wherein the processor is configured to: determining first traveling information according to inertial information of the vehicle at the first moment; obtaining a first information change value between the first traveling information and the target traveling information, and the first information change value being a traveling information change value of the vehicle at the first moment; and correcting the first position information according to the first information change value, to obtain the second position information.
16. The apparatus of claim 15, wherein the inertial information of the vehicle at the second moment comprises multiaxial angular velocities at the second moment and multiaxial accelerations at the second moment, and the first information change value comprises a velocity change value at the first moment and a position change value at the first moment, the processor is configured to: correct the first position information using the position change value at the first moment, to obtain the second position information; correct a velocity of the vehicle at the first moment using the velocity change value at the first moment; determine an acceleration of the vehicle at the second moment using the multiaxial angular velocities at the second moment and the multiaxial accelerations at the second moment; and determine the third position information using the acceleration of the vehicle at the second moment, the second position information, and the corrected velocity at the first moment.
17. The apparatus of claim 15, wherein the processor is configured to: determine the first traveling information based on the inertial information of the vehicle at the first moment and a second information change value, the first traveling information comprising a first velocity at the first moment, an acceleration at the first moment, and the first position information of the vehicle at the first moment, the second information change value comprising a traveling information change value of the vehicle at a third moment, the third moment being earlier than the first moment.
18. The apparatus of claim 17, wherein the processor is further configured to: in response to the vehicle failing to communicating with a positioning system, obtain a velocity change value at the first moment between the first velocity in the first traveling information and a second velocity in the target traveling information, and a position change value at the first moment between a position in the first traveling information and a position in the first position information, the first information change value comprising the velocity change value at the first moment and the position change value at the first moment.
19. The apparatus of claim 13, wherein the processor is further configured to: recognize the lane line from a target image acquired by an image acquisition apparatus of the vehicle; obtain relative position information between the lane line and the vehicle; search for fourth position information to which the third position information is mapped in the map; determine a fifth position information in the map according to the fourth position information and the relative position information; and create a lane line based on the fifth position information.
20. A non-transitory machine-readable storage medium, having processor executable instructions stored thereon for causing a processor to: obtain inertial information, target traveling information, and first position information of a vehicle, the inertial information comprising information measured by an inertial measurement unit of the vehicle, the target traveling information comprising traveling information of the vehicle acquired at a first moment, and the first position information comprising a position of the vehicle at the first moment; determine second position information according to the target traveling information and the first position information; determine third position information of the vehicle at a second moment based on the inertial information of the vehicle and the second position information, the second moment being later than the first moment; and determine a position of a lane line in a map according to the third position information and relative position information, the relative position information indicating a relative position between a detected lane line and the vehicle.
</claims>
</document>
