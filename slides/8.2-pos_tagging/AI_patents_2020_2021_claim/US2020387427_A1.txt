<document>

<filing_date>
2019-06-06
</filing_date>

<publication_date>
2020-12-10
</publication_date>

<priority_date>
2019-06-06
</priority_date>

<ipc_classes>
G06F11/10,G06F3/06,H03M13/11,H03M13/35
</ipc_classes>

<assignee>
WESTERN DIGITAL TECHNOLOGIES
</assignee>

<inventors>
SHARON, ERAN
Mekhanik, Evgeny
Zamir, Ran
</inventors>

<docdb_family_id>
73650370
</docdb_family_id>

<title>
Adaptive Usage of Irregular Code Schemas Based on Specific System Level Triggers and Policies
</title>

<abstract>
A data storage system performs operations including receiving a data write command specifying data to be written; selecting an irregular LDPC encoding scheme of a plurality of available irregular LDPC encoding schemes available to the encoder in accordance with (i) a working mode of the data storage system, (ii) device-specific criteria and/or (iii) a data type of the specified data; and encoding the specified data to be written using the selected irregular LDPC encoding scheme.
</abstract>

<claims>
1. A data storage system, comprising: a memory including a plurality of memory cells; an encoder configured to encode data using an irregular low-density parity-check (LDPC) encoding scheme; and a controller in communication with the memory and the encoder, the controller configured to: receive a data write command specifying data to be written; select an irregular LDPC encoding scheme of a plurality of available irregular LDPC encoding schemes available to the encoder in accordance with (i) a working mode of the data storage system and/or (ii) a data characteristic of the specified data; and encode the specified data to be written using the selected irregular LDPC encoding scheme.
2. The data storage system of claim 1, wherein the plurality of available irregular LDPC encoding schemes includes a first irregular LDPC encoding scheme optimized for performance, and one or more of: a second irregular LDPC encoding scheme optimized for reliability and a third irregular LDPC encoding scheme optimized for low power.
3. The data storage system of claim 1, wherein the controller being configured to select an irregular LDPC encoding scheme of a plurality of available irregular LDPC encoding schemes available to the encoder includes the controller being configured to: detect one or more conditions of the data storage system and/or data characteristic criteria of the data to be written, wherein the one or more conditions include at least one of: an environmental condition, a life cycle stage of the data storage system, a data type of the specified data, programming throughput during a time period proximate to the receiving of the data write command, and entropy level of the data to be written; and select the irregular LDPC encoding scheme based on the detected one or more conditions of the data storage system.
4. The data storage system of claim 1, wherein the controller being configured to select an irregular LDPC encoding scheme of a plurality of available irregular LDPC encoding schemes available to the encoder in accordance with device-specific criteria includes the controller being further configured to: detect an environmental condition of the data storage system; and select the irregular LDPC encoding scheme based on the detected environmental condition of the data storage system.
5. The data storage system of claim 4, wherein the environmental condition comprises a temperature of the data storage device system, and the controller being configured to select the irregular LDPC encoding scheme comprises the controller being configured to: determine whether the temperature exceeds a threshold; select an irregular LDPC encoding scheme optimized for reliability in accordance with a determination that the temperature exceeds the threshold; and select an irregular LDPC encoding scheme optimized for performance in accordance with a determination that the temperature does not exceed the threshold.
6. The data storage system of claim 1, wherein the controller being configured to select an irregular LDPC encoding scheme of a plurality of available irregular LDPC encoding schemes available to the encoder in accordance with device-specific criteria includes the controller being further configured to: determine a life cycle stage of the data storage system; and select the irregular LDPC encoding scheme based on the determined life cycle stage.
7. The data storage system of claim 6, wherein the controller being configured to determine the life cycle stage of the data storage system comprises measuring a cumulative number of programming cycles undertaken by the data storage system, and selecting the irregular LDPC encoding scheme comprises the controller being configured to: determine whether the cumulative number of programming cycles exceeds a threshold; select an irregular LDPC encoding scheme optimized for reliability in accordance with a determination that the cumulative number of programming cycles exceeds the threshold; and select an irregular LDPC encoding scheme optimized for performance in accordance with a determination that the cumulative number of programming cycles does not exceed the threshold.
8. The data storage system of claim 1, wherein the controller configured to select an irregular LDPC encoding scheme of a plurality of available irregular LDPC encoding schemes available to the encoder in accordance with data characteristic of the specified data includes the controller being further configured to: determine a data type of the specified data; and select the irregular LDPC encoding scheme based on the determined data type of the specified data.
9. The data storage system of claim 8, wherein the controller being configured to determine the data type of the specified data comprises the controller being configured to classify the specified data as: (i) preloaded content data to be written prior to a soldering operation; (ii) critical boot data or management system data; (iii) host boot data or host operating system data; (iv) variable data; and/or (v) TLC data; wherein the controller being configured to select the irregular LDPC encoding scheme comprises the controller being configured to select an irregular LDPC encoding scheme optimized for reliability in accordance with the classification.
10. The data storage system of claim 8, wherein the controller being configured to select the data type of the specified data includes the controller being configured to classify the specified data as: (i) noncritical data; (ii) static data; (iii) XOR snapshot data for TLC data protection; (iv) high entropy; and/or (iv) SLC data; and wherein the controller being configured to select the irregular LDPC encoding scheme comprises the controller being configured to select an irregular LDPC encoding scheme optimized for performance in accordance with the classification.
11. The data storage system of claim 1, wherein the controller being configured to select an irregular LDPC encoding scheme of a plurality of available irregular LDPC encoding schemes available to the encoder in accordance with device-specific criteria includes the controller being further configured to: measure programming throughput during a time period proximate to the receiving of the data write command; and select the irregular LDPC encoding scheme based on the measured programming throughput.
12. The data storage system of claim 11, wherein the controller configured to select the irregular LDPC encoding scheme based on the measured programming throughput comprises the controller being configured to: determine whether the measured programming throughput exceeds a threshold; select an irregular LDPC encoding scheme optimized for low power consumption in accordance with a determination that the measured programming throughput exceeds the threshold; and select an irregular LDPC encoding scheme optimized for performance in accordance with a determination that the measured programming throughput does not exceed the threshold.
13. The data storage system of claim 1, further comprising: a decoder configured to decode data using an irregular LDPC decoding scheme; wherein the controller is in communication with the decoder, and the controller is further configured to: receive a data read command specifying data to be read; select an irregular LDPC decoding scheme of a plurality of irregular LDPC decoding schemes available to the decoder in accordance with a syndrome weight operation; and decode the specified data to be read using the selected irregular LDPC decoding scheme.
14. The data storage system of claim 13, wherein the controller being configured to select the irregular LDPC decoding scheme in accordance with the syndrome weight operation comprises the controller being configured to: select a first irregular LDPC decoding scheme candidate; calculate a first syndrome weight of at least a portion of the specified data to be read using the first irregular LDPC decoding scheme candidate; determine whether the calculated first syndrome weight is less than a predetermined threshold; and in accordance with a determination that the calculated first syndrome weight is less than the predetermined threshold, select the first irregular LDPC decoding scheme candidate as the irregular LDPC decoding scheme.
15. The data storage system of claim 14, wherein the controller being configured to select the irregular LDPC decoding scheme in accordance with the syndrome weight operation further comprises the controller being configured to: in accordance with a determination that the calculated syndrome weight is greater than or equal to the predetermined threshold, select a second irregular LDPC decoding scheme candidate; calculate a second syndrome weight of at least the portion of the specified data to be read using the second irregular LDPC decoding scheme candidate; determine whether the calculated second syndrome weight is less than the predetermined threshold; and in accordance with a determination that the calculated second syndrome weight is less than the predetermined threshold, select the second irregular LDPC decoding scheme candidate as the irregular LDPC decoding scheme.
16. The data storage system of claim 14, wherein the controller being configured to select the first irregular LDPC decoding scheme candidate comprises the controller being configured to: decode a data signature associated with the data to be decoded using a first of the available irregular LDPC decoding schemes, resulting in a first decoded data signature; compare the first decoded data signature to a model data signature; and in accordance with a determination that the first decoded data signature deviates less than a threshold amount from the model data signature, select the first of the available irregular LDPC decoding schemes as the first irregular LDPC decoding scheme candidate.
17. The data storage system of claim 16, wherein the controller being configured to select the first irregular LDPC decoding scheme candidate further comprises the controller being configured to: in accordance with a determination that the first decoded data signature deviates more than or equal to the threshold amount from the model data signature, decode the data signature associated with the data to be decoded using a second of the available irregular LDPC decoding schemes, resulting in a second decoded data signature; compare the second decoded data signature to the model data signature; and in accordance with a determination that the second decoded data signature deviates less than the threshold amount from the model data signature, select the second of the available irregular LDPC decoding schemes as the first irregular LDPC decoding scheme candidate.
18. A method of operating a data storage system comprising a memory including a plurality of memory cells, an encoder and decoder configured to encode or decode data using an irregular low-density parity-check (LDPC) encoding or decoding scheme, respectively, and a controller in communication with the memory, encoder, and decoder, the method comprising: receiving a data write command specifying data to be written; selecting an irregular LDPC encoding scheme of a plurality of available irregular LDPC encoding schemes available to the encoder in accordance with (i) a working mode of the data storage system and/or (ii) a data characteristic of the specified data; and encoding the specified data to be written using the selected irregular LDPC encoding scheme.
19. The method of claim 18, further comprising: receiving a data read command specifying data to be read; selecting an irregular LDPC decoding scheme of a plurality of irregular LDPC decoding schemes available to the decoder in accordance with a syndrome weight operation; and decoding the specified data to be read using the selected irregular LDPC decoding scheme; wherein selecting the irregular LDPC decoding scheme in accordance with the syndrome weight operation comprises: selecting a first irregular LDPC decoding scheme candidate; calculating a first syndrome weight of at least a portion of the specified data to be read using the first irregular LDPC decoding scheme candidate; determining whether the calculated first syndrome weight is less than a predetermined threshold; and in accordance with a determination that the calculated first syndrome weight is less than the predetermined threshold, selecting the first irregular LDPC decoding scheme candidate as the irregular LDPC decoding scheme.
20. A data storage system, comprising: means for receiving a data write command specifying data to be written; means for selecting an irregular LDPC encoding scheme of a plurality of available irregular LDPC encoding schemes available to an encoder in accordance with (i) a working mode of the data storage system and/or (ii) a data characteristic of the specified data; means for encoding the specified data to be written using the selected irregular LDPC encoding scheme; means for receiving a data read command specifying data to be read; means for selecting an irregular LDPC decoding scheme of a plurality of irregular LDPC decoding schemes available to a decoder of the data storage system in accordance with a syndrome weight operation; and means for decoding the specified data to be read using the selected irregular LDPC decoding scheme.
</claims>
</document>
