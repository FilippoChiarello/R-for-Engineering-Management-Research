<document>

<filing_date>
2018-11-08
</filing_date>

<publication_date>
2020-11-10
</publication_date>

<priority_date>
2017-11-09
</priority_date>

<ipc_classes>
G06K9/00,G06K9/62,H04N19/126,H04N19/17,H04N19/172,H04N19/61,H04N19/63,H04N19/635
</ipc_classes>

<assignee>
BOE TECHNOLOGY GROUP COMPANY
</assignee>

<inventors>
NAVARRETE MICHELINI, PABLO
LIU, HANWEN
</inventors>

<docdb_family_id>
61534662
</docdb_family_id>

<title>
Image compression/decompression method and device, and image processing system
</title>

<abstract>
There are disclosed an image compression method, device, and compression/decompression system, the image compression method including: receiving an input image; encoding the input image by utilizing n stages of encoding unit connected in cascades to produce an output image, where n is an integer greater than 1, wherein an input of an i-th stage of encoding unit is an i-th stage of encoding input image and includes mi−1 image components, an output of the i-th stage of encoding unit is an i-th stage of encoding output image and includes mi image components, and the output of the i-th stage of encoding unit is an input of a (i+1)-th stage of encoding unit, where 1≤i<n, m is an integer greater than 1; wherein the output image includes one image component as a reference image of the input image and mn−1 image components corresponding to the input image.
</abstract>

<claims>
1. An image compression method, comprising: receiving an input image; encoding the input image by utilizing n stages of encoding unit connected in cascades to produce an output image, where n is an integer greater than 1, wherein an input of an i-th stage of encoding unit is an i-th stage of encoding input image and comprises mi−1 image components, an output of the i-th stage of encoding unit is an i-th stage of encoding output image and comprises mi image components, and the output of the i-th stage of encoding unit is an input of a (i+1)-th stage of encoding unit, where 1≤i<n, m is an integer greater than 1; wherein the output image comprises one image component as a reference image of the input image and mn−1 image components corresponding to the input image.
2. The image compression method according to claim 1, wherein the input image, the reference image and each image component of the mn−1 image components comprise three channels R, G, B.
3. The image compression method according to claim 1, further comprising: performing an quantization operation on the reference image and the mn−1 image components, to obtain a compressed image corresponding to the input image.
4. The image compression method according to claim 3, wherein the quantization operation is performed through a quantization function, and the quantization function is: where Lj is a quantization level of a j-th output image, aj is a hardness parameter of a j-th image, and j is an integer greater than 1.
5. The image compression method according to claim 1, further comprising: performing an image subtraction on the mn−1 image components and the reference image respectively, to obtain a difference image of the mn−1 image components and the reference image, and performing the quantization operation on the reference image and the mn−1 image components, to obtain the compressed image corresponding to the input image.
6. The image compression method according to claim 1, wherein for the i-th stage of encoding unit, the encoding comprises: receiving the i-th stage of encoding input image; for each image component in the i-th stage of encoding input image, splitting the image component into m encoding input components, wherein a size of each of the m encoding input components is 1/m of a size of each image component in the i-th stage of encoding input image; and image transforming the m encoding input components to generate m encoding output components corresponding to the image component, wherein a size of each of the m encoding output components is a same as a size of each of the m encoding input components; outputting mi encoding output components corresponding to the mi−1 image component of the i-th stage of encoding input image as an i-th stage of encoding output image.
7. The image compression method according to claim 6, wherein m=4, each image component in the i-th stage of encoding input image is split into a first encoding input component, a second encoding input component, a third encoding input component and a fourth encoding input component, the image transforming the first encoding input component, the second encoding input component, the third encoding input component and the fourth encoding input component by utilizing the i-th stage encoding unit comprises: receiving the first encoding input component, the second encoding input component, the third encoding input component and the fourth encoding input component; generating a predicted image based on the first encoding input component and the second encoding input component and obtaining a difference image of the third encoding input component and the fourth encoding input component and the predicted image; generating an updated image relating to the first encoding input component and the second encoding input component based on the difference image, the first encoding input component and the second encoding component; performing a wavelet transform based on the updated image, and generating a first encoding output component and a second encoding output component based on a result of the wavelet transform; performing a wavelet transform based on the difference image, and generating a third encoding output component and a fourth encoding output component based on a result of the wavelet transform.
8. The image compression method according to claim 7, wherein the generating a predicted image based on the first encoding input component and the second encoding input component and obtaining a difference image of the third encoding input component and the fourth encoding input component and the predicted image comprises: generating a first prediction feature and a second prediction feature by utilizing a first prediction convolutional network which takes the first encoding input component and the second encoding input component as an input; performing an image subtraction on the third encoding input component and the first prediction feature to obtain a first difference feature; performing an image subtraction on the fourth encoding input component and the second prediction feature to obtain a second difference feature; the generating a updated image based on the difference image, the first encoding input component and the second encoding input component comprises: generating a first updating feature and a second updating feature by utilizing a first updating convolutional network which takes the first difference feature and the second difference feature as an input; performing an superimposing operation on the first encoding input component and the first updating feature to obtain a first superimposing feature; performing an superimposing operation on the second encoding input component and the second updating feature to obtain a second superimposing feature.
9. The image compression method according to claim 8, wherein the performing a wavelet transform based on the updated image and generating a first encoding output component and a second encoding output component based on a result of the wavelet transform comprises: generating a third prediction feature by utilizing a second prediction convolutional network which takes the first superimposing feature as an input; performing an image subtraction on the second superimposing feature and the third prediction feature to obtain the second encoding output component; generating a third updating feature by utilizing a second updating convolutional network which takes the second encoding output component as an input; performing an superimposing operation on the first superimposing feature and the third updating feature to obtain the first encoding output component.
10. The training method according to claim 9, wherein the target function is a sum of one or more of following respective items: an encoding loss function: where REFk is a first image component output by a k-th stage of encoding unit, LRk is a training image of the k-th stage of encoding unit, wherein LRk is a downsampling image of the training image of the image processing system, and has a size as same as REFk; C0 is an amount of the training image; Cki is an image component output by the k stage of encoding unit, where 1≤i≤mk−1; a decoding loss function:
description="In-line Formulae" end="lead"?LDEC=IQ(REFk,LRk)description="In-line Formulae" end="tail"? where the IQ function evaluates a difference between REFk and LRk; a style loss function: where GX, GY are characteristic quantity of Gram matrix of an image X and an image Y, X is an output image of the k-th stage of encoding unit, and Y is an output image of a (i+1−k)-th stage of encoding unit, where 1≤k≤n; a weight regularization coefficient: where W is a weight parameter of all convolutional networks in the image processing system, and b is bias of all convolutional networks in the image processing system.
11. The image compression method according to claim 8, wherein the performing a wavelet transform based on the difference image and generating a third encoding output component and a fourth encoding output component based on a result of the wavelet transform comprises: generating a fourth prediction feature by utilizing a third prediction convolutional network which takes the first difference feature as an input; performing an image subtraction on the second difference feature and the fourth prediction feature to obtain the fourth encoding output component; generating a fourth updating feature by utilizing a third update convolutional network which takes the fourth encoding output component as an input; performing an superimposing operation on the first difference feature and the fourth updating feature to obtain the third encoding output component.
12. An image decompression method, comprising: receiving a compressed image, the compressed image including one image component as a reference image and mn−1 image component, where m is an integer greater than 1, and n is an integer greater than 1; decoding the compressed image by utilizing n stages of decoding unit connected in cascades to produce a restored image, wherein an input of an i-th stage of decoding unit is an i-th stage of decoding input image and comprises mi−1 image components, an output of the i-th stage of decoding unit is an i-th stage of decoding output image and comprises mi−1 image components, and the output of the i-th stage of decoding unit is an input of a (i+1)-th stage of decoding unit, where 1≤i<n.
13. The image decompression method according to claim 12, wherein the reference image, each image component of the mn−1 image components and the restored image comprise three channels R, G, B.
14. The image compression method according to claim 12, further comprising: performing an superimposing operation on the mn−1 image components and the reference image, to obtain mn−1 superimposing images of the mn−1 image components and the reference image; image decoding the reference image and mn−1 superimposing images by utilizing the n stages of decoding unit connected in cascades.
15. The image decompression method according to claim 12, wherein for the i-th stage of decoding unit, the image decoding comprises: receiving the i-th stage of decoding input image; image inverse transforming the mi image components, generating mi decoding output components corresponding to the i-th stage of decoding input image, wherein a size of each of the mi decoding output components is a same as a size of each of the mi image components; composing the mi decoding output components to mi−1 decoding output sub-images, wherein a size of each of the mi−1 decoding output sub-images is m times of a size of each of the mi image components; outputting mi−1 encoding output sub-images corresponding to the mi image component of the i-th stage of decoding input image as an i-th stage of decoding output image.
16. The image decompression method according to claim 15, wherein m=4, the i-th stage of decoding input image comprises a first decoding input component, a second decoding input component, a third decoding input component and a fourth decoding input component, wherein each decoding input component comprises 4i−1 image components; performing an inverse wavelet transform based on the first decoding input component and the second decoding input component, and obtaining a first difference feature and a second superimposing feature based on a result of the inverse wavelet transform; performing an inverse wavelet transform based on the third decoding input component and the fourth decoding input component, and obtaining a second difference feature and a second superimposing feature based on a result of the inverse wavelet transform; generating an updated image based on the second difference feature and the second superimposing feature, and generating a first decoding output component and a second decoding output component based on the updated image, the first difference feature and the first superimposing feature; generating a predicted image based on the first decoding output component and the second decoding output component, and generating a third decoding output component and a fourth decoding output component based on the predicted image, the second difference feature and the second superimposing feature.
17. An image compression device, comprising one processor configured to execute the method according to claim 1.
18. An image processing system, comprising the image compression device according to claim 17 and the image decompression device, wherein the image decompression device, comprising at least one processor configured to: receive a compressed image, the compressed image including one image component as a reference image and mn−1 image component, where m is an integer greater than 1, and n is an integer greater than 1; decode the compressed image by utilizing n stages of decoding unit connected in cascades to produce a restored image, wherein an input of an i-th stage of decoding unit is an i-th stage of decoding input image and comprises mi−1 image components, an output of the i-th stage of decoding unit is an i-th stage of decoding output image and comprises mi image components, and the output of the i-th stage of decoding unit is an input of a (i+1)-th stage of decoding unit, where 1≤i<n; outputting the restore image corresponding to the compressed image.
19. A training method of the image processing system according to claim 18, comprising: inputting a training image to the image processing system, adjusting weight values of respective convolutional networks in respective convolutional layers in n stages of encoding units and n stages of decoding units, and running a limited number of iterations to optimize a target function.
20. An image decompression device, comprising at least one processor configured to execute the method according to claim 10.
</claims>
</document>
