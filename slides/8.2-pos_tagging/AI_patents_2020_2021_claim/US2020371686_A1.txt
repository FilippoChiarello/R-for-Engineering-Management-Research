<document>

<filing_date>
2020-08-10
</filing_date>

<publication_date>
2020-11-26
</publication_date>

<priority_date>
2017-02-01
</priority_date>

<ipc_classes>
G06F3/023,G06F3/0488,G06F40/263,G06F40/274
</ipc_classes>

<assignee>
GOOGLE
</assignee>

<inventors>
BEAUFAYS, FRANCOISE
ZIVKOVIC DRAGAN
ALSHARIF, OUAIS
CICCOTTO, PETER
</inventors>

<docdb_family_id>
62979932
</docdb_family_id>

<title>
Keyboard Automatic Language Identification and Reconfiguration
</title>

<abstract>
A keyboard is described that determines, using a first decoder and based on a selection of keys of a graphical keyboard, text. Responsive to determining that a characteristic of the text satisfies a threshold, a model of the keyboard identifies the target language of the text, and determines whether the target language is different than a language associated with the first decoder. If the target language of the text is not different than the language associated with the first decoder, the keyboard outputs, for display, an indication of first candidate words determined by the first decoder from the text. If the target language of the text is different: the keyboard enables a second decoder, where a language associated with the second decoder matches the target language of the text, and outputs, for display, an indication of second candidate words determined by the second decoder from the text.
</abstract>

<claims>
1. A method comprising: outputting, by a keyboard application executing at a computing device and for display, a first graphical keyboard in a bottom portion of a presence-sensitive display of the computing device, the first graphical keyboard associated with a first language and having a first layout of keys; determining, by the keyboard application, using a first decoder associated with the first language and based on a selection of one or more keys of the first graphical keyboard, text, the text output for display in an edit region of the presence-sensitive display above the first graphical keyboard; responsive to determining that a characteristic of the text satisfies a threshold for determining a target language of the text, determining, by a machine-learned model of the keyboard application executing at the computing device, the target language of the text, the machine-learned model using rules trained on previous inputs received by the keyboard application to infer the target language of the text from the text; determining, by the machine-learned model executing at the computing device, whether the target language is different than the first language associated with the first graphical keyboard and the first decoder; based on the target language of the text not being different than the first language, outputting, by the keyboard application, for display in a suggestion region of the presence-sensitive display, an indication of one or more first candidate words determined by the first decoder from the text, the suggestion region above the first graphical keyboard and below the edit region; and based on the target language of the text being different than the first language: enabling, by the keyboard application, a second decoder associated with a second language, wherein the second language matches the target language of the text; and outputting, by the keyboard application and for display in the suggestion region, an indication of one or more second candidate words determined by the second decoder from the text.
2. The method of claim 1, the method further comprising: determining, by the machine-learned model executing at the computing device, whether a second target language of second text is different than the first language and the second language; and based on the second target language of the second text being different than the first language and the second language: enabling, by the keyboard application, a third decoder associated with a third language, wherein the third language matches the second target language of the second text; and outputting, by the keyboard application and for display in the suggestion region, an indication of one or more third candidate words determined by the third decoder from the second text.
3. The method of claim 1, the method further comprising: responsive to the target language of the text being different than the first language, outputting, by the keyboard application and for display, a second graphical keyboard associated with the second language that replaces the first graphical keyboard, the second graphical keyboard having a second layout of keys associated with the second language that is different than the first layout of keys.
4. The method of claim 3, wherein a respective character of at least one key of the second graphical keyboard is different than a respective character of a corresponding key of the first graphical keyboard.
5. The method of claim 3, wherein the spacebar key of the second graphical keyboard includes an indication of the second language.
6. The method of claim 5, wherein the spacebar key of the second graphical keyboard further includes an indication of the first language.
7. The method of claim 1, wherein a spacebar key of the first graphical keyboard includes an indication of the first language.
8. The method of claim 1, the method further comprising: responsive to the target language of the text being different than the first language, outputting, by the keyboard application and for display in the suggestion region, an indication of one or more third candidate words determined by the first decoder.
9. A mobile device comprising: a presence-sensitive display component; at least one processor; and a memory that stores instructions for a keyboard application and a machine-learned model of the keyboard application that, when executed at the mobile device, cause the at least one processor to: output, for display at the presence-sensitive display, a first graphical keyboard in a bottom portion of the presence-sensitive display, the first graphical keyboard associated with a first language and having a first layout of keys; determine, using a first decoder associated with the first language and based on a selection of one or more keys of the first graphical keyboard, text, the text output for display in an edit region at the presence-sensitive display above the first graphical keyboard; responsive to determining that a characteristic of the text satisfies a threshold for determining a target language of the text, determine, using the machine-learned model executing at the mobile device, the target language of the text, the machine-learned model configured to use rules trained on previous inputs received by the keyboard application to infer the target language of the text from the text; determine, using the machine-learned model executing at the mobile device, whether the target language is different than the first language associated with the first graphical keyboard and the first decoder; if the target language of the text is not different than the first language, output, for display in a suggestion region at the presence-sensitive display, an indication of one or more first candidate words determined by the first decoder from the text, the suggestion region above the first graphical keyboard and below the edit region; and if the target language of the text is different than the first language: enable a second decoder associated with a second language, wherein the second language matches the target language of the text; and output, for display in the suggestion region at the presence-sensitive display, an indication of one or more second candidate words determined by the second decoder from the text.
10. The mobile device of claim 9, wherein the instructions, when executed, further cause the at least one processor to: determine, by the machine-learned model executing at the mobile device, whether a second target language of second text is different than the first language and the second language; and if the second target language of the second text is different than the first language and the second language: enable a third decoder associated with a third language, wherein the third language matches the second target language of the second text; and output, for display in the suggestion region, an indication of one or more third candidate words determined by the third decoder from the second text.
11. The mobile device of claim 9, wherein if the target language of the text is different than the first language, the instructions, when executed, further cause the at least one processor to output, for display, a second graphical keyboard associated with the second language that replaces the first graphical keyboard, the second graphical keyboard having a second layout of keys associated with the second language that is different than the first layout of keys.
12. The mobile device of claim 11, wherein a respective character of at least one key of the second graphical keyboard is different than a respective character of a corresponding key of the first graphical keyboard.
13. The mobile device of claim 11, wherein the spacebar key of the second graphical keyboard includes an indication of the second language.
14. The mobile device of claim 13, wherein the spacebar key of the second graphical keyboard further includes an indication of the first language.
15. The mobile device of claim 9, wherein a spacebar key of the first graphical keyboard includes an indication of the first language.
16. The mobile device of claim 9, wherein if the target language of the text is different than the first language, the instructions, when executed, further cause the at least one processor to output, for display in the suggestion region, an indication of one or more third candidate words determined by the first decoder.
17. A non-transitory computer-readable storage medium comprising instructions for a keyboard application and a machine-learned model of the keyboard application that, when executed at a computing device, cause at least one processor of the computing device to: output, for display at a presence-sensitive display of the computing device, a first graphical keyboard in a bottom portion of the presence-sensitive display, the first graphical keyboard associated with a first language and having a first layout of keys; determine, using a first decoder associated with the first language and based on a selection of one or more keys of the first graphical keyboard, text, the text output for display in an edit region at the presence-sensitive display above the first graphical keyboard; responsive to determining that a characteristic of the text satisfies a threshold for determining a target language of the text, determine, using the machine-learned model executing at the computing device, the target language of the text, the machine-learned model configured to use rules trained on previous inputs received by the keyboard application to infer the target language of the text from the text; determine, using the machine-learned model executing at the computing device, whether the target language is different than the first language associated with the first graphical keyboard and the first decoder; if the target language of the text is not different than the first language, output, for display in a suggestion region at the presence-sensitive display, an indication of one or more first candidate words determined by the first decoder from the text, the suggestion region above the first graphical keyboard and below the edit region; and if the target language of the text is different than the first language: enable a second decoder associated with a second language, wherein the second language matches the target language of the text; and output, for display in the suggestion region at the presence-sensitive display, an indication of one or more second candidate words determined by the second decoder from the text.
18. The non-transitory computer-readable storage medium of claim 17, wherein the instructions, when executed, further cause the at least one processor to: determine, by the machine-learned model executing at the computing device, whether a second target language of second text is different than the first language and the second language; and if the second target language of the second text is different than the first language and the second language: enable a third decoder associated with a third language, wherein the third language matches the second target language of the second text; and output, for display in the suggestion region, an indication of one or more third candidate words determined by the third decoder from the second text.
19. The non-transitory computer-readable storage medium of claim 17, wherein a spacebar key of the first graphical keyboard includes an indication of the first language.
20. The non-transitory computer-readable storage medium of claim 17, wherein if the target language of the text is different than the first language, the instructions, when executed, further cause the at least one processor to output, for display in the suggestion region, an indication of one or more third candidate words determined by the first decoder.
</claims>
</document>
