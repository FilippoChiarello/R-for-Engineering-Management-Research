<document>

<filing_date>
2020-03-25
</filing_date>

<publication_date>
2020-08-20
</publication_date>

<priority_date>
2016-11-07
</priority_date>

<ipc_classes>
H04L12/701,H04W24/02,H04W40/02,H04W48/20
</ipc_classes>

<assignee>
A9.COM
</assignee>

<inventors>
RODOPER, METE
STRONG, JASMINE
THOMPSON, RYAN
</inventors>

<docdb_family_id>
62064279
</docdb_family_id>

<title>
SYSTEMS AND METHODS FOR ENHANCED MESH NETWORKING
</title>

<abstract>
A method for enhanced mesh networking, including performing network analysis, configuring router link parameters, and managing routing paths, is described. A metric for routing path assessment, including a throughput metric and a channel utilization metric, is described. A Segment Table Announced Mesh Protocol, including determining network segments and designating forwarding devices for communication between the network segments, is described.
</abstract>

<claims>
1. (canceled)
2. A method comprising: determining, by a first access point (AP) device of a local area network (LAN), a first path from the first AP device to a gateway of the LAN, wherein the first path comprises a first set of wireless links via one or more forwarding devices between the first AP device and the gateway, wherein the first path comprises at least one wired link between two respective devices in the first path; determining, by the first AP device, a second path from the AP device to the gateway, wherein the second path comprises a second set of wireless links via one or more forwarding devices between the first AP and the gateway; determining, by the first AP device, a first throughput metric of a first wireless link between the first AP device and a first forwarding device in the first set; determining, by the first AP device, a first channel utilization metric of the first wireless link; determining, by the first AP device, a first link metric of the first wireless link using the first throughput metric and the first channel utilization metric; determining, by the first AP device, a first path cost of the first path as a first cumulative sum of the first link metric, a link metric of each of the other wireless links in the first path, and a link metric of the at least one wired link in the first path; determining, by the first AP device, a second path cost of the second path; receiving, by the first AP device, data from a client device; determining, by the first AP device, that the first path cost is less than the second path cost; and sending, by the first AP device, the data to the gateway via the first path.
3. The method of claim 2, further comprising: determining, by the first AP device, a second throughput metric of a second wireless link between the first AP device and a first forwarding device in the second set; determining, by the first AP device, a second channel utilization metric of the second wireless link; and determining, by the first AP device, a second link metric of the second wireless link using the second throughput metric and the second channel utilization metric, wherein determining the second path cost of the second path as a second cumulative sum of the second link metric and a link metric of each of the other wireless links in the second path.
4. The method of claim 2, wherein the link metric of the at least one wired link in the first path is set to zero.
5. The method of claim 2, wherein determining the first link metric of the first wireless link using the first throughput metric and the first channel utilization metric comprises: determining, by the first AP device, a first difference between i) a first duration of time that an wireless channel associated with the first wireless link is in use and ii) a second duration of time that the first AP device is transmitting; determining, by the first AP device, a fraction of the first difference divided by iii) a third duration of time that the first AP device is active on the wireless channel associated with the first wireless link; determining, by the first AP device, the first channel utilization metric by subtracting the fraction from one; and determining, by the first AP device, the first link metric by dividing a scalar value by a product of the first channel utilization metric and the first throughput metric.
6. The method of claim 5, wherein the scalar value is one.
7. The method of claim 2, wherein the first throughput metric of the first wireless link is an exponentially weighted moving average of a physical layer transmission throughput of the first AP device in the first set.
8. The method of claim 2, wherein determining the first link metric of the first wireless link comprising determining the first link metric of the first wireless link using the first throughput metric, the first channel utilization metric, and a thermal throttling factor associated with a radio of the first AP device.
9. The method of claim 8, wherein determining the first link metric of the first wireless link using the first throughput metric, the first channel utilization metric, and the thermal throttling factor comprises: determining, by the first AP device, a first difference between i) a first duration of time that an wireless channel associated with the first wireless link is in use and ii) a second duration of time that the first AP device is transmitting; determining, by the first AP device, a fraction of a sum of the first difference and the thermal throttling factor, the sum being divided by iii) a third duration of time that the first AP device is active on the wireless channel associated with the first wireless link; determining, by the first AP device, the first channel utilization metric by subtracting the fraction from one; and determining, by the first AP device, the first link metric by dividing a scalar value by a product of the first channel utilization metric and the first throughput metric.
10. The method of claim 8, wherein determining the first link metric of the first wireless link using the first throughput metric, the first channel utilization metric, and the thermal throttling factor comprises: determining, by the first AP device, a first difference between i) a first duration of time that an wireless channel associated with the first wireless link is in use and ii) a second duration of time that the first AP device is transmitting; determining, by the first AP device, a fraction of the first difference divided by iii) a third duration of time that the first AP device is active on the wireless channel associated with the first wireless link; determining, by the first AP device, the first channel utilization metric by subtracting the fraction from one; and determining, by the first AP device, the first link metric by dividing a scalar value by a product of the first channel utilization metric, the first throughput metric, and the thermal throttling factor.
11. The method of claim 2, wherein the at least one wired link between two respective devices in the first path comprises an Ethernet link.
12. The method of claim 2, further comprising: receiving, by the first AP device, a communication directed to an Ethernet device coupled to a first wired link of the at least one wired link the first path; and sending, by the first AP device, the communication to the first forwarding device that is coupled to the first wired link.
13. An access point (AP) device of a local area network (LAN), the AP device comprising: a memory device to store instructions; a radio; and a processor coupled to the radio and the memory device, wherein the instructions, when executed by the processor, cause the processor to: determine a first path from the AP device to a gateway of the LAN, wherein the first path comprises a first set of wireless links via one or more forwarding devices between the AP device and the gateway, wherein the first path comprises at least one wired link between two respective devices in the first path; determine a second path from the AP device to the gateway, wherein the second path comprises a second set of wireless links via one or more forwarding devices between the first AP and the gateway; determine a first throughput metric of a first wireless link between the AP device and a first forwarding device in the first set; determine a first channel utilization metric of the first wireless link; determine a first link metric of the first wireless link using the first throughput metric and the first channel utilization metric; determine a first path cost of the first path as a first cumulative sum of the first link metric, a link metric of each of the other wireless links in the first path, and a link metric of the at least one wired link in the first path; determine a second path cost of the second path; receive data from a client device; determine that the first path cost is less than the second path cost; and send the data to the gateway via the first path.
14. The AP device of claim 13, wherein the instructions further cause the processor to: determine a second throughput metric of a second wireless link between the first AP device and a first forwarding device in the second set; determine a second channel utilization metric of the second wireless link; and determine a second link metric of the second wireless link using the second throughput metric and the second channel utilization metric, wherein determining the second path cost of the second path as a second cumulative sum of the second link metric and a link metric of each of the other wireless links in the second path.
15. The AP device of claim 13, wherein determining the first link metric of the first wireless link using the first throughput metric and the first channel utilization metric comprises: determine a first difference between i) a first duration of time that an wireless channel associated with the first wireless link is in use and ii) a second duration of time that the first AP device is transmitting; determine a fraction of the first difference divided by iii) a third duration of time that the first AP device is active on the wireless channel associated with the first wireless link; determine the first channel utilization metric by subtracting the fraction from one; and determine the first link metric by dividing a scalar value by a product of the first channel utilization metric and the first throughput metric, wherein: the scalar value is one; the link metric of the at least one wired link in the first path is set to zero; the at least one wired link between two respective devices in the first path comprises an Ethernet link; the instructions further cause the processor to: receive a communication directed to an Ethernet device coupled to a first wired link of the at least one wired link the first path; and send the communication to the first forwarding device that is coupled to the first wired link.
16. The AP device of claim 13, wherein the first throughput metric of the first wireless link is an exponentially weighted moving average of a physical layer transmission throughput of the first AP device in the first set.
17. The AP device of claim 13, wherein, to determine the first link metric of the first wireless link, the processor is further to determine the first link metric of the first wireless link using the first throughput metric, the first channel utilization metric, and a thermal throttling factor associated with a radio of the first AP device.
18. The AP device of claim 17, wherein, to determine the first link metric of the first wireless link using the first throughput metric, the first channel utilization metric, and the thermal throttling factor, the processor is further to: determine a first difference between i) a first duration of time that an wireless channel associated with the first wireless link is in use and ii) a second duration of time that the first AP device is transmitting; determine a fraction of a sum of the first difference and the thermal throttling factor, the sum being divided by iii) a third duration of time that the first AP device is active on the wireless channel associated with the first wireless link; determine the first channel utilization metric by subtracting the fraction from one; and determine the first link metric by dividing a scalar value by a product of the first channel utilization metric and the first throughput metric.
19. The AP device of claim 17, wherein, to determine the first link metric of the first wireless link using the first throughput metric, the first channel utilization metric, and the thermal throttling factor, the processor is further to: determine a first difference between i) a first duration of time that an wireless channel associated with the first wireless link is in use and ii) a second duration of time that the first AP device is transmitting; determine a fraction of the first difference divided by iii) a third duration of time that the first AP device is active on the wireless channel associated with the first wireless link; determine the first channel utilization metric by subtracting the fraction from one; and determine the first link metric by dividing a scalar value by a product of the first channel utilization metric, the first throughput metric, and the thermal throttling factor.
20. A non-transitory computer readable storage medium storing instructions that, when executed by a processor of a first access point (AP) device of a local area network (LAN) cause the processor to perform operations comprising: determining a first path from the first AP device to a gateway of the LAN, wherein the first path comprises a first set of wireless links via one or more forwarding devices between the first AP device and the gateway, wherein the first path comprises at least one wired link between two respective devices in the first path; determining a second path from the AP device to the gateway, wherein the second path comprises a second set of wireless links via one or more forwarding devices between the first AP and the gateway; determining a first throughput metric of a first wireless link between the first AP device and a first forwarding device in the first set; determining a first channel utilization metric of the first wireless link; determining a first link metric of the first wireless link using the first throughput metric and the first channel utilization metric; determining a first path cost of the first path as a first cumulative sum of the first link metric, a link metric of each of the other wireless links in the first path, and a link metric of the at least one wired link in the first path; determining a second path cost of the second path; receiving data from a client device; determining that the first path cost is less than the second path cost; and sending the data to the gateway via the first path.
21. The non-transitory computer readable storage medium of claim 20, wherein the operations further comprise: determining a second throughput metric of a second wireless link between the first AP device and a first forwarding device in the second set; determining a second channel utilization metric of the second wireless link; determining a second link metric of the second wireless link using the second throughput metric and the second channel utilization metric, wherein determining the second path cost of the second path as a second cumulative sum of the second link metric and a link metric of each of the other wireless links in the second path.
</claims>
</document>
