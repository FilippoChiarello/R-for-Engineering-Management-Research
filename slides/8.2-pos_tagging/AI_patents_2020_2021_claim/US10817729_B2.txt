<document>

<filing_date>
2018-09-26
</filing_date>

<publication_date>
2020-10-27
</publication_date>

<priority_date>
2018-09-26
</priority_date>

<ipc_classes>
G06K9/00,G06T7/246,G06T7/50,G06T7/80,G07C5/00,G07C5/08,H04N5/232,H04N5/265
</ipc_classes>

<assignee>
ALLSTATE INSURANCE COMPANY
</assignee>

<inventors>
ARAGON, JUAN CARLOS
MADIGAN, REGINA
</inventors>

<docdb_family_id>
69884892
</docdb_family_id>

<title>
Dynamic driving metric output generation using computer vision methods
</title>

<abstract>
Aspects of the disclosure relate to dynamic driving metric output platforms that utilize improved computer vision methods to determine vehicle metrics from video footage. A computing platform may receive video footage from a vehicle camera. The computing platform may determine that a reference marker in the video footage has reached a beginning and an end of a road marker based on brightness transitions, and may insert time stamps into the video accordingly. Based on the time stamps, the computing platform may determine an amount of time during which the reference marker covered the road marking. Based on a known length of the road marking and the amount of time during which the reference marker covered the road marking, the computing platform may determine a vehicle speed. The computing platform may generate driving metric output information, based on the vehicle speed, which may be displayed by an accident analysis platform. Based on known dimensions of pavement markings the computing platform may obtain the parameters of the camera (e.g., focal length, camera height above ground plane and camera tilt angle) used to generate the video footage and use the camera parameters to determine the distance between the camera and any object in the video footage.
</abstract>

<claims>
1. A computing platform, comprising: at least one processor; a communication interface communicatively coupled to the at least one processor; and memory storing computer-readable instructions that, when executed by the at least one processor, cause the computing platform to: receive video footage from a vehicle camera, wherein the vehicle camera is located inside a vehicle; insert, into the video footage, a reference marker comprising a horizontal line located in a center of a frame of the vehicle camera, wherein the reference marker remains centered in the frame throughout a duration of the video footage; determine that the reference marker in the video footage has reached a beginning of a road marking by determining that a first brightness transition in the video footage exceeds a predetermined threshold; insert, into the video footage and in response to determining that the reference marker has reached the beginning of the road marking, a first time stamp indicating a time at which the reference marker reached the beginning of the road marking; determine that the reference marker has reached an end of the road marking by determining that a second brightness transition in the video footage exceeds the predetermined threshold; insert, into the video footage and in response to determining that the reference marker has reached the end of the road marking, a second time stamp indicating a time at which the reference marker reached the end of the road marking; determine, based on the first time stamp and the second time stamp, an amount of time during which the reference marker covered the road marking; determine, based on a known length of the road marking and the amount of time during which the reference marker covered the road marking, a vehicle speed of the vehicle, wherein determining the vehicle speed comprises diving the known length of the road marking by the amount of time during which the reference marker covered the road marking; generate driving metric output information based on the vehicle speed; generate one or more commands directing an accident analysis platform to generate and cause display of a driving metric interface based on the driving metric output information; establish a first wireless data connection with the accident analysis platform; and send, while the first wireless data connection is established and to the accident analysis platform, the driving metric output information and the one or more commands directing the accident analysis platform to generate and cause display of the driving metric interface based on the driving metric output information, wherein: sending the driving metric output information and the one or more commands directing the accident analysis platform to generate and cause display of the driving metric interface based on the driving metric output information causes the accident analysis platform to display the driving metric interface, and the driving metric interface includes a distance between the vehicle and another vehicle.
2. The computing platform of claim 1, wherein the memory stores additional computer-readable instructions that, when executed by the at least one processor, further cause the computing platform to: establish a second wireless data connection with a vehicle camera, wherein the video footage is received while the second wireless data connection is established.
3. The computing platform of claim 1, wherein the memory stores additional computer-readable instructions that, when executed by the at least one processor, further cause the computing platform to determine that the video footage contains a road marking associated with a standard length.
4. The computing platform of claim 1, wherein the memory stores additional computer-readable instructions that, when executed by the at least one processor, further cause the computing platform to insert, into the video footage, a reference marker, wherein the reference marker corresponds to a fixed position in the video footage.
5. The computing platform of claim 1, wherein the memory stores additional computer-readable instructions that, when executed by the at least one processor, further cause the computing platform to convert the video footage to greyscale prior to determining that the reference marker in the video footage has reached the beginning of the road marking.
6. The computing platform of claim 1, wherein the memory stores additional computer-readable instructions that, when executed by the at least one processor, further cause the computing platform to determine camera parameters such as focal length, camera height above a ground plane, and camera tilt angle based on information provided by pavement markings with pre-determined dimensions, and to determine based on these camera parameters a distance between the vehicle camera and an object in the video footage.
7. The computing platform of claim 6, wherein the memory stores additional computer-readable instructions that, when executed by the at least one processor, further cause the computing platform to: generate one or more commands directing a vehicle attribute database to provide vehicle parameters for a vehicle corresponding to the vehicle camera; establish a third wireless data connection with the vehicle attribute database; and send, while the third wireless data connection is established, the one or more commands directing the vehicle attribute database to provide the vehicle parameters.
8. The computing platform of claim 7, wherein the memory stores additional computer-readable instructions that, when executed by the at least one processor, further cause the computing platform to: receive a vehicle parameter output corresponding to the vehicle parameters; and determine, based on the vehicle parameters and the distance between the vehicle camera and an object in the video footage, a distance between the vehicle and the object in the video footage.
9. The computing platform of claim 8, wherein the memory stores additional computer-readable instructions that, when executed by the at least one processor, further cause the computing platform to: update the driving metric output information based on the distance between the vehicle and the object in the video footage; generate one or more commands directing the accident analysis platform to generate and cause display of an updated driving metric interface based on the updated driving metric output information; and send, while the first wireless data connection is established and to the accident analysis platform, the updated driving metric output information and the one or more commands directing the accident analysis platform to generate and cause display of the updated driving metric interface based on the updated driving metric output information.
10. A method comprising: at a computing platform comprising at least one processor, a communication interface, and memory: receiving, by the at least one processor and via the communication interface, video footage from a vehicle camera, wherein the vehicle camera is located inside a vehicle; inserting, into the video footage, a reference marker comprising a horizontal line located in a center of a frame of the vehicle camera, wherein the reference marker remains centered in the frame throughout a duration of the video footage; determining, by the at least one processor, that the reference marker in the video footage has reached a beginning of a road marking by determining that a first brightness transition in the video footage exceeds a predetermined threshold; inserting, by the at least one processor, into the video footage, and in response to determining that the reference marker has reached the beginning of the road marking, a first time stamp indicating a time at which the reference marker reached the beginning of the road marking; determining, by the at least one processor, that the reference marker has reached an end of the road marking by determining that a second brightness transition in the video footage exceeds the predetermined threshold; inserting, by the at least one processor, into the video footage, and in response to determining that the reference marker has reached the end of the road marking, a second time stamp indicating a time at which the reference marker reached the end of the road marking; determining, by the at least one processor and based on the first time stamp and the second time stamp, an amount of time during which the reference marker covered the road marking; determining, by the at least one processor and based on a known length of the road marking and the amount of time during which the reference marker covered the road marking, a vehicle speed of the vehicle, wherein determining the vehicle speed comprises diving the known length of the road marking by the amount of time during which the reference marker covered the road marking; generating, by the at least one processor, driving metric output information based on the vehicle speed; generating, by the at least one processor, one or more commands directing an accident analysis platform to generate and cause display of a driving metric interface based on the driving metric output information; establishing a first wireless data connection with the accident analysis platform; and sending, by the at least one processor, via the communication interface while the first wireless data connection is established and to the accident analysis platform, the driving metric output information and the one or more commands directing the accident analysis platform to generate and cause display of the driving metric interface based on the driving metric output information, wherein: sending the driving metric output information and the one or more commands directing the accident analysis platform to generate and cause display of the driving metric interface based on the driving metric output information causes the accident analysis platform to display the driving metric interface, and the driving metric interface includes a distance between the vehicle and another vehicle.
11. The method of claim 10, further comprising: establishing a second wireless data connection with a vehicle camera, wherein the video footage is received while the second wireless data connection is established.
12. The method of claim 10, further comprising: determining, by the at least one processor, that the video footage contains a road marking associated with a standard length.
13. The method of claim 10, further comprising: inserting, by the at least one processor and into the video footage, a reference marker, wherein the reference marker corresponds to a fixed position in the video footage.
14. The method of claim 10, further comprising: converting, by the at least one processor, the video footage to greyscale prior to determining that the reference marker in the video footage has reached the beginning of the road marking.
15. The method of claim 10, further comprising: determining, by the at least one processor, a distance between the vehicle camera and an object in the video footage.
16. The method of claim 15, further comprising: generating, by the at least one processor, one or more commands directing a vehicle attribute database to provide vehicle parameters for a vehicle corresponding to the vehicle camera; establishing a third wireless data connection with the vehicle attribute database; and sending, while the third wireless data connection is established, the one or more commands directing the vehicle attribute database to provide the vehicle parameters.
17. The method of claim 16, further comprising: receiving a vehicle parameter output corresponding to the vehicle parameters; and determining, based on the vehicle parameters and the distance between the vehicle camera and an object in the video footage, a distance between the vehicle and the object in the video footage.
18. The method of claim 17, further comprising: updating the driving metric output information based on the distance between the vehicle and the object in the video footage; generating one or more commands directing the accident analysis platform to generate and cause display of an updated driving metric interface based on the updated driving metric output information; and sending, while the first wireless data connection is established and to the accident analysis platform, the updated driving metric output information and the one or more commands directing the accident analysis platform to generate and cause display of the updated driving metric interface based on the updated driving metric output information.
19. One or more non-transitory computer-readable media storing instructions that, when executed by a computing platform comprising at least one processor, a communication interface, and memory, cause the computing platform to: receive video footage from a vehicle camera, wherein the vehicle camera is located inside a vehicle; insert, into the video footage, a reference marker comprising a horizontal line located in a center of a frame of the vehicle camera, wherein the reference marker remains centered in the frame throughout a duration of the video footage; determine that the reference marker in the video footage has reached a beginning of a road marking by determining that a first brightness transition in the video footage exceeds a predetermined threshold; insert, into the video footage and in response to determining that the reference marker has reached the beginning of the road marking, a first time stamp indicating a time at which the reference marker reached the beginning of the road marking; determine that the reference marker has reached an end of the road marking by determining that a second brightness transition in the video footage exceeds the predetermined threshold; insert, into the video footage and in response to determining that the reference marker has reached the end of the road marking, a second time stamp indicating a time at which the reference marker reached the end of the road marking; determine, based on the first time stamp and the second time stamp, an amount of time during which the reference marker covered the road marking; determine, based on a known length of the road marking and the amount of time during which the reference marker covered the road marking, a vehicle speed of the vehicle, wherein determining the vehicle speed comprises diving the known length of the road marking by the amount of time during which the reference marker covered the road marking; generate driving metric output information based on the vehicle speed; generate one or more commands directing an accident analysis platform to generate and cause display of a driving metric interface based on the driving metric output information; establish a first wireless data connection with the accident analysis platform; and send, while the first wireless data connection is established and to the accident analysis platform, the driving metric output information and the one or more commands directing the accident analysis platform to generate and cause display of the driving metric interface based on the driving metric output information, wherein: sending the driving metric output information and the one or more commands directing the accident analysis platform to generate and cause display of the driving metric interface based on the driving metric output information causes the accident analysis platform to display the driving metric interface, and the driving metric interface includes a distance between the vehicle and another vehicle.
20. The one or more non-transitory computer-readable media of claim 19, wherein the memory stores additional computer readable media storing instructions, that when executed by the at least one processor, cause the at least one processor to: establish a second wireless data connection with a vehicle camera, wherein the video footage is received while the second wireless data connection is established.
21. The computing platform of claim 1, wherein the memory stores additional computer-readable instructions that, when executed by the at least one processor, further cause the computing platform to determine ego-vehicle speed using distances to specific objects in the video footage by obtaining distances to an object on two given frames, by computing a delta of the distances, and by dividing the delta of the distances by a time that elapses between such frames.
22. The computing platform of claim 1, wherein the memory stores additional computer-readable instructions that, when executed by the at least one processor, further cause the computing platform to determine speed for a vehicle associated with the vehicle camera and distances to objects in video footage from pre-recorded datasets and video available on the Internet for all of which no camera parameters are available, resulting in estimation of one or more of: speed and acceleration for the vehicle, distance to objects, relative speed of other vehicles, relative and absolute speed of other vehicles, and relative and absolute acceleration of other vehicles, from the video footage.
</claims>
</document>
