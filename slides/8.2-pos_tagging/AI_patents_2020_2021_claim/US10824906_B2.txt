<document>

<filing_date>
2018-02-08
</filing_date>

<publication_date>
2020-11-03
</publication_date>

<priority_date>
2017-05-11
</priority_date>

<ipc_classes>
G06F3/0484,G06K9/00,G06K9/36,G06K9/46,G06K9/62,G06N3/04,G06N3/08,G06T11/60,G06T7/00
</ipc_classes>

<assignee>
OMRON CORPORATION
</assignee>

<inventors>
Ikeda, Yasuyuki
</inventors>

<docdb_family_id>
63962432
</docdb_family_id>

<title>
Image processing device, non-transitory computer readable storage medium, and image processing system
</title>

<abstract>
An image processing device includes: a feature detection image generating unit that generates multiple feature detection images corresponding to multiple classes by applying a convolutional neural network having the classes learned previously to an input image; a post-processing unit that generates a measurement result by performing a post-process on at least some feature detection images of the multiple feature detection images on the basis of a setting parameter; and a user interface unit that receives an input of the setting parameter while presenting a user at least one of at least some of the feature detection images which are generated by the feature detection image generating unit and the measurement result which is generated by causing the post-processing unit to perform the post-process using at least some of the feature detection images which are generated by the feature detection image generating unit.
</abstract>

<claims>
1. An image processing device that performs an image measuring process on an input image which is generated by imaging an inspection object, the image processing device comprising: a storage, configured to store an image processing program, wherein the image processing program includes a feature detection image generating unit, a post-processing unit and a user interface unit; and a processor, configured to execute the program by loading a program stored in the storage into a main memory, wherein the processor executes the feature detection image generating unit to respectively generate a plurality of feature detection images corresponding to a plurality of classes by applying a convolutional neural network having the plurality of classes learned previously to the input image, the feature detection images respectively have different features; the processor executes the post-processing unit to generate a measurement result by performing a post-process on at least some feature detection images of the plurality of feature detection images on the basis of a setting parameter; the processor executes the user interface unit to receive an input of the setting parameter while presenting a user at least one of the measurement result and at least some of the plurality of feature detection images, wherein the plurality of feature detection images are generated by the feature detection image generating unit, and the measurement result is generated by causing the post-processing unit to perform the post-process using at least some of the plurality of feature detection images which are generated by the feature detection image generating unit, wherein after receiving the setting parameter by the user interface unit, the processor executes the post-processing unit to: select the at least some feature detection images from the plurality of feature detection images corresponding to the plurality of classes based on information indicating which feature detection image to select of the plurality of feature detection images included in the setting parameter.
2. The image processing device according to claim 1, wherein the post-processing unit includes an image calculating unit, the processor executes the image calculating unit to generate a calculation result image by performing an image calculating process using two or more feature detection images of the plurality of feature detection images.
3. The image processing device according to claim 2, wherein the image calculating process includes at least one of addition of the feature detection images, subtraction of the feature detection images, weighted addition of the feature detection images, and weighted subtraction of the feature detection images.
4. The image processing device according to claim 3, wherein the processor executes the user interface unit to present the user a measurement result which is generated from the calculation result image in addition to the measurement result which is generated from the feature detection images alone.
5. The image processing device according to claim 3, wherein the processor executes the user interface unit to determine a type of an image which is presented to the user depending on the user's selection.
6. The image processing device according to claim 3, wherein the post-processing unit further includes a binarization processing unit, the processor executes the binarization processing unit to perform a binarization process on the feature detection images or the calculation result image, and wherein the processor executes the user interface unit to receive setting of a threshold value which is used for the binarization process in the binarization processing unit as the setting parameter.
7. The image processing device according to claim 3, wherein, when the processor executes the user interface unit to receive change of the setting parameter from the user, the processor executes the post-processing unit to generate a new measurement result by performing the post-process based on the changed setting parameter and the processor executes the user interface unit to present the user the newly generated measurement result.
8. The image processing device according to claim 3, wherein the processor executes the user interface unit to present the user an image in which the measurement result is superimposed on the input image.
9. The image processing device according to claim 2, wherein the processor executes the user interface unit to present the user a measurement result which is generated from the calculation result image in addition to the measurement result which is generated from the feature detection images alone.
10. The image processing device according to claim 9, wherein, when the processor executes the user interface unit to receive change of the setting parameter from the user, the processor executes the post-processing unit to generate a new measurement result by performing the post-process based on the changed setting parameter and the processor executes the user interface unit to present the user the newly generated measurement result.
11. The image processing device according to claim 2, wherein the processor executes the user interface unit to determine a type of an image which is presented to the user depending on the user's selection.
12. The image processing device according to claim 11, wherein, when the processor executes the user interface unit to receive change of the setting parameter from the user, the processor executes the post-processing unit to generate a new measurement result by performing the post-process based on the changed setting parameter and the processor executes the user interface unit to present the user the newly generated measurement result.
13. The image processing device according to claim 2, wherein the post-processing unit further includes a binarization processing unit, the processor executes the binarization processing unit to perform a binarization process on the feature detection images or the calculation result image, and wherein the processor executes the user interface unit to receive setting of a threshold value which is used for the binarization process in the binarization processing unit as the setting parameter.
14. The image processing device according to claim 13, wherein, when the processor executes the user interface unit to receive change of the setting parameter from the user, the processor executes the post-processing unit to generate a new measurement result by performing the post-process based on the changed setting parameter and the processor executes the user interface unit to present the user the newly generated measurement result.
15. The image processing device according to claim 2, wherein, when the processor executes the user interface unit to receive change of the setting parameter from the user, the processor executes the post-processing unit to generate a new measurement result by performing the post-process based on the changed setting parameter and the processor executes the user interface unit to present the user the newly generated measurement result.
16. The image processing device according to claim 2, wherein the processor executes the user interface unit to present the user an image in which the measurement result is superimposed on the input image.
17. The image processing device according to claim 1, wherein, when the processor executes the user interface unit to receive change of the setting parameter from the user, the processor executes the post-processing unit to generate a new measurement result by performing the post-process based on the changed setting parameter and the processor executes the user interface unit to present the user the newly generated measurement result.
18. The image processing device according to claim 1, wherein the processor executes the user interface unit to present the user an image in which the measurement result is superimposed on the input image.
19. A non-transitory computer readable storage medium, which stores an image processing program that realizes an image processing device that performs an image measuring process on an input image which is generated by imaging an inspection object, the image processing program causing a computer to perform: a step of respectively generating a plurality of feature detection images corresponding to a plurality of classes by applying a convolutional neural network having the plurality of classes learned previously to the input image, the feature detection images respectively have different features; a step of generating a measurement result by performing a post-process on at least some feature detection images of the plurality of feature detection images on the basis of a setting parameter; and a step of receiving an input of the setting parameter while presenting a user at least one of the measurement result and at least some of the plurality of generated feature detection images, wherein the measurement result is generated by performing the post-process using at least some of the plurality of generated feature detection images, wherein performing the post-process includes after receiving the setting parameter selecting the at least some feature detection images from the plurality of feature detection images corresponding to the plurality of classes based on information indicating which feature detection image to select of the plurality of feature detection images included in the setting parameter.
20. An image processing system comprising: a hardware image capturer, configured to image an inspection object; and an image processing device that performs an image measuring process on an input image which is generated by the hardware image capturer, wherein the image processing device includes: a storage, configured to store an image processing program, wherein the image processing program includes a feature detection image generating unit, a post-processing unit and a user interface unit; and a processor, configured to execute the program by loading a program stored in the storage into a main memory, wherein the processor executes the feature detection image generating unit to respectively generate a plurality of feature detection images corresponding to a plurality of classes by applying a convolutional neural network having the plurality of classes learned previously to the input image, the feature detection images respectively have different features; the processor executes the post-processing unit to generate a measurement result by performing a post-process on at least some feature detection images of the plurality of feature detection images on the basis of a setting parameter; the processor executes the user interface unit to receive an input of the setting parameter while presenting a user at least one of the measurement result and at least some of the plurality of feature detection images, wherein the plurality of feature detection images are generated by the feature detection image generating unit and the measurement result is generated by causing the post-processing unit to perform the post-process using at least some of the plurality of feature detection images which are generated by the feature detection image generating unit, wherein after receiving the setting parameter by the user interface unit, the processor executes the post-processing unit to: select the at least some feature detection images from the plurality of feature detection images corresponding to the plurality of classes based on information indicating which feature detection image to select of the plurality of feature detection images included in the setting parameter.
</claims>
</document>
