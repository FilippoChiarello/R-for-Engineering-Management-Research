<document>

<filing_date>
2018-03-18
</filing_date>

<publication_date>
2021-01-19
</publication_date>

<priority_date>
2017-10-31
</priority_date>

<ipc_classes>
G01N1/24,G01N33/00,G06N3/08
</ipc_classes>

<assignee>
EAST CHINA UNIVERSITY OF SCIENCE AND TECHNOLOGY
</assignee>

<inventors>
GAO, DAQI
SONG, JIAMIN
WANG, ZEJIAN
ZHANG, XIAOQIN
</inventors>

<docdb_family_id>
66333436
</docdb_family_id>

<title>
Electronic nose instrument for sensory quality evaluation of tobacco and tobacco product
</title>

<abstract>
Provided is a sensory quality evaluation method for tobacco and tobacco products using an electronic nose instrument. The electronic nose instrument includes a gas sensor array module, an automatic smoke sampling system, a computer control and data analysis system, and an automatic ignition device. These components are integrated in a test box to make the instrument be structure miniaturization and work automation. The large tobacco data is established, in which the relationship between the responses of gas sensor array and the brand labels and sensory quality index scores by testing a large number of standard cigarette samples. A cascade type of modular neural networks is proposed with revised activation function and new decision-making and quantification rules to simulate the smoking and evaluating process of the professional panel. The electronic nose instrument and method realize on-site detection, discrimination and quality score estimation of a large number of tobacco and tobacco products.
</abstract>

<claims>
1. A sensory quality evaluation method for tobacco and tobacco products using an electronic nose instrument, wherein the electronic nose instrument comprising: a gas sensor array module, an automatic smoke sampling system, a computer control and data analysis system, and an automatic ignition device, so as to realize a sensory quality index score estimation of the tobaccos and tobacco products; wherein the gas sensor array module comprises 16 SnO2 semiconductor gas sensors, which are evenly distributed in a sealed chamber having a middle diameter of ϕ140 mm and a cross-section size of 20 mm×16 mm and forms an annular working chamber of a gas sensor array; the annular working chamber is disposed in a thermostatic room of 55±0.1° C. and is arranged on a top right of the electronic nose instrument; the automatic smoke sampling system comprises a cigarette holder, a miniature vacuum pump, a first two-position two-port electromagnetic valve, a second two-position two-port electromagnetic valve, a third two-position two-port electromagnetic valve, a fourth two-position two-port electromagnetic valve, a fifth two-position two-port electromagnetic valve, a sixth two-position two-port electromagnetic valve, a first throttle valve, a second throttle valve, a flowmeter, gas pipelines and an overflow smoke gas discharge device; and the automatic smoke sampling system is disposed on a lower right of the electronic nose instrument; the automatic ignition device comprises an ignition coil, a cigarette igniter head, a movable iron core, an electromagnetic coil, a magnetic permeable iron frame, a compression spring, a spring seat, a cable, and a support; the automatic ignition device is disposed on a front right bottom of the electronic nose instrument; the computer control and data analysis system comprises a computer motherboard, a data acquisition card, a precision linear and switching power module, a drive and control circuit module, a hard disk, an internet card, a video card, and a monitor; and the computer control and data analysis system is arranged on a left side of the electronic nose instrument; wherein the automatic smoke sampling system is configured to perform a smoke sampling period of 5 minutes for a tobacco and tobacco product sample; and the gas sensor array is configured to flow through following five stages according to a type of gases: an early recovery stage of 210 seconds, a precise clean air calibration stage of 40 seconds, a balance stage of 2 seconds, a second smoke puff stage of 2 seconds, and an ambient air flushing stage of 46 seconds; wherein the method comprises: during a smoke sampling stage, under a computer control, horizontally moving, by the ignition coil in the automatic ignition device, 9 mm to a left and igniting a cigarette sample at 380° C.; sucking, by the miniature vacuum pump in automatic smoke sampling system, a second smoke gas with a flow rate of 17.5 ml/sec, so as to make the second smoke gas flow through the annular working chamber and sweep over surfaces of sensitive films of the gas sensors for a duration of 2 seconds, so that the gas sensor array produces a sensitive response; from beginning of a balance stage, beginning to sequentially record, by the computer control and data analysis system, voltage response data of the gas sensor array generated in three stages: the balance stage of 2 seconds, the second smoke puff stage of 2 seconds and an ambient air flushing stage of 36 seconds, with a total data recording duration of 40 seconds; in another durations of the smoke sampling period except for 40 seconds, not recording, by the computer control and data analysis system, voltage response data; within the total data recording duration of 40 seconds, generating, by the gas sensor array comprised by 16 gas sensors, a 16-dimensional voltage response vector when a steady-state maximum voltage value of a response curve of a single gas sensor to the second smoke gas is extracted as a feature component; within 10 seconds after an end of the total data recording duration, performing, by the computer control and data analysis system and according to the 16-dimensional voltage response vector, a recognition of brand, origin of manufacture, and authenticity of tobacco and tobacco products and performing a score estimation of five sensory quality indices: aroma, harmony, impurity, irritation and aftertaste; performing, by the computer control and data analysis system, a recognition of tobacco and tobacco product samples, and the sensory quality index score estimation of the tobacco and tobacco product samples by using to a cascade modular neural network model; wherein a first level of the cascade modular neural network model comprises n(n−1)/2 single-output neural networks arranged in parallel, forming n vote recognition groups which identifies n kinds of tobacco and tobacco products, wherein the recognition comprises recognitions of brand, origin of manufacture, and authenticity; wherein a second level of the cascade modular network neural model comprises n×5 single-output neural networks, the n×5 single-output neural networks are divided into n groups, and each of the n groups comprises 5 single-output neural networks and is used to perform the score estimation of the five sensory quality indices: aroma, harmony, impurity, irritation and aftertaste, for the n kinds of tobacco and tobacco products.
2. The method according to claim 1, wherein the cigarette holder has an angle of 0 to 5 degrees between an axis of the cigarette holder and a horizontal plane; before the cigarette sample is automatic ignited, inserting, by an operator, a butt of the cigarette sample into the cigarette holder at a depth of 9±0.5 mm, an inserting operation lasting 15 seconds; and within 15 seconds after an end of the second smoke puff stage, removing, by the operator, a remaining cigarette butt from the cigarette holder, extinguishing and discarding it, within 15 seconds.
3. The method according to claim 1, wherein the ignition coil of the automatic ignition device operates with a 24V working voltage and a 5A current; axes of the cigarette igniter head, the movable iron core, the electromagnetic coil, the compression spring, and the cigarette holder, are arranged at a same horizontal line; under the computer control, the ignition coil is energized from a fifth second before a first smoke puff action and heated to 380° C. within 5 seconds; meanwhile, the electromagnetic coil powers off, and under an action of the compression spring, the ignition coil on the cigarette ignitor head moves 9 mm horizontally from a reference position to a left and ignite the cigarette sample; after a first smoke is sucked for 1 s, the ignition coil is switched off and the electromagnetic coil is energized; under an action of an electromagnetic force of the electromagnetic coil, the ignition coil disengages from the ignited cigarette sample and returns to a reference position.
4. The method according to claim 1, wherein under a suction action of the miniature vacuum pump, a first smoke gas of the cigarette sample is, for 2 seconds, directly discharged to outdoor after sequentially passing through the second two-position two-port electromagnetic valve, the first throttle valve and the flowmeter with a flow rate of 17.5 ml/s, so that the first smoke gas completely does not pass through the annular working chamber and a 35 ml volume of smoke gas is drawn; then the ignited cigarette sample is smoldered/self-sustaining combustion for 20 seconds.
5. The method according to claim 1, wherein under the suction action of the miniature vacuum pump, the second smoke gas of the cigarette sample is, for 2 seconds, discharged to outdoor after sequentially passing through the first two-position two-port electromagnetic valve, the annular working chamber, the fifth two-position two-port electromagnetic valve, the first throttle valve, and the flowmeter with a flow rate of 17.5 ml/s; so that a 35 ml volume of smoke gas is collected.
6. The method according to claim 1, wherein the precise clean air calibration stage is simultaneously carried out with a cigarette insertion stage, an automatic ignition stage, a first smoke puff stage, and a smoldering/self-sustaining combustion stage, which both last 40 seconds; in the precise clean air calibration stage, a clean air is discharged to outdoor after sequentially passing through the second throttle valve, the sixth two-position two-port electromagnetic valve, the annular working chamber, the third two-position two-port electromagnetic valve with a flow rate of 17.5 ml/s; wherein following operations are performed in order: (1) a tested cigarette sample is inserted into the cigarette holder by an operator within 15 seconds; (2) the ignition coil of the automatic ignition device is energized, shifted 9 mm left to contact the tested cigarette sample and heated up to 380° C. within 5 seconds; (3) a first smoke is sucked for 2 seconds; and (4) the cigarette sample is smoldering/self-sustaining combustion lasting 18 seconds.
7. The method according to claim 1, wherein as soon as the second smoke puff stage with a flow rate of 1,050 ml/min is completed, the ambient air flushing stage with a flow rate of 6,500 ml/min begins; an ambient air is, for 15 seconds, discharged to outdoor after sequentially passing through the third two-position two-port electromagnetic valve, the annular working chamber of the gas sensor array, the fifth two-position two-port electromagnetic valve, the fourth two-position two-port electromagnetic valve; a residual cigarette butt of the cigarette sample is removed and discarded by an operator; the ambient air then is, for 31 seconds, discharged to outdoor after sequentially passing through the first two-position two-port electromagnetic valve, the annular working chamber, the fifth two-position two-port electromagnetic valve and the fourth two-position two-port electromagnetic valve with a flow rate of 6,500 ml/min; at an end of the 31 seconds, a detection period of the cigarette sample ends; if a next cigarette sample needs to be detected, the computer system automatically starts a new detection period and transfers to an early recovery stage; otherwise, the operator clicks an "End Detection" button in a screen drop-down menu to end a detection process.
8. The method according to claim 1, wherein in a data acquisition stage, testing, by the electronic nose instrument, standard samples of tobacco and tobacco products which have been evaluated by an assessor panel and given the sensory quality index scores; a measurement period of a single standard sample is 5 minutes; a steady-state maximum voltage value of a response curve of each gas sensor to the second smoke gas is extracted as a feature component so as to obtain a 16-dimensional voltage response vector for a pth standard sample, wherein a 16-dimensional voltage response vector is xp′=(xp1′, . . . , xpi′, . . . , xp16′)T∈R16; through testing N standard samples, obtaining, by the electronic nose instrument, a standard voltage response dataset X′∈RN×16 of the gas sensor array and establishing a corresponding relationship between each 16-dimensional voltage response vector is xp′, and scores of the five sensory quality indices including aroma d1∈RN, harmony d2∈RN, impurity d3∈RN, irritation d4∈RN and aftertaste odor d5∈RN; wherein 10 standard samples are measured for each brand with 3 grades: A, B and C; if a brand number is n, then N=30n.
9. The method according to claim 1, wherein all feature variables of a standard voltage response dataset X′ of the gas sensor array to a standard samples are transformed to a range of [0.0, 6.0] by a positive proportional preprocess; when the steady-state maximum voltage value of a response curve of a gas sensor i to a pth standard sample is xpi′, and a value after a proportional transformation is shown in formula (1): wherein max(X′) and min(X′) are maximum and minimum values of the standard voltage response dataset X′ respectively, xpi is a transformed steady-state maximum voltage value of a response curve of the gas sensor i to the pth standard sample after a proportional transformation; a voltage response vector is thus changed to a 16-dimensional pattern xp=(xp1, . . . , xpi, . . . , xp16)T ∈R16; and max(X′) and min(X′) are saved in the computer as basic parameters; after the standard voltage response dataset X′ is proportionally transformed, a new data set is called a training set and denoted as X; in a recognition and sensory quality index score estimation stage for an undetermined cigarette pattern x, the max(X) and min(X′) are still used to proportionally transform the steady-state maximum voltage value of the response curve xpi′ of the gas sensor i by using the formula (1); wherein each single-output neural network in the cascade modular neural network model is subjected to a learning stage for the training set X, and the recognition and sensory quality index score estimation stage for the undetermined cigarette pattern x.
10. The method according to claim 1, wherein in a learning stage of a first level of the cascade modular neural network model, a training set X is firstly implemented an one-against-one (OAO) decomposition into Cn2=n(n−1)/2 binary-class training subsets, and then, a n(n−1)/2 binary-class training subsets are learned by the n(n−1)/2 single-output neural networks, one by one, using an error back-propagation algorithm; wherein each single-output neural network is single-hidden-layer in structure, a number of input nodes is m=16, a number of hidden nodes is s1=8 and a number of output nodes is 1; a target output is encoded in {0.0, 3.0}, and an activation functions of all hidden nodes and output nodes are ƒ(φ)=3(1+exp(−φ)−1, wherein the first level is n(n−1)/2 single-output neural networks; wherein the electronic nose instrument measures all standard samples of two brands ωj and ωk to obtain a binary-class training subset Xjk={Xj, Xk}, wherein a number of the all standard samples is Njk=Nj+Nk=60, and the single-output neural network ωjk learns the all standard samples of two brands ωj and ωk by using a learning factor ηjk=10/Njk=0.17; for a 16-dimensional pattern xp=(xp1, . . . , xpi, . . . , xp16)T∈R16, an actual output of a hidden node h in the single-output neural network ωjk is:
description="In-line Formulae" end="lead"?ξph(jk)=ƒ(φph(jk))=3(1+exp(−φph(jk)/3)−1 (2)description="In-line Formulae" end="tail"? wherein φph(jk) is a weighted sum of all input components of the 16-dimensional pattern xp for the hidden node h, or: wherein a threshold term is θh(jk)=wh0(jk), and a constant term is xp0=6.0; for the 16-dimensional pattern xp, an actual output of the single-output neural network ωjk is:
description="In-line Formulae" end="lead"?yp(jk)=ƒ(ϕp(jk))=3(1+exp(−ϕp(jk)/3))−1 (4)description="In-line Formulae" end="tail"? wherein ϕp(jk) is a weighted sum of outputs of all hidden nodes of the single-output neural network ωjk and shown as: wherein the threshold term is θ(jk)=w0(jk), and constant term is ξp0(jk)=+3.0.
11. The method according to claim 1, wherein in a learning stage of a second level of the cascade modular neural network model, a training set X is decomposed into n binary-class training subsets; each binary-class training subset is comprised of all patterns from a single tobacco brand, which respectively fit non-linear relations between responses of gas sensor array and scores of the five sensory quality indices of a corresponding brand; each single-output neural network is single-hidden-layer in structure, with m=16 input nodes and s2=8 hidden nodes; an activation function of all hidden and output nodes is still ƒ(φ)=3(1+exp(−φ/3))−1 with a learning rate ηj=5/Nj=0.17, and a back-propagation learning algorithm is still used, wherein the second level is n×5 single-output neural networks, the all patterns are Nj=30; each of score estimation groups comprises five single-output neural networks and the five sensory quality indices are aroma, harmony, impurity, irritation and aftertaste; a training subset Xj is composed of Nj=30 samples from only the brand ωj; five single-output neural networks in a score estimation group Λj fit a non-linear relation between the training subset Xj and the scores of the five sensory quality indices of the brand ωj, wherein the five sensory quality indices are aroma, harmony, impurity, irritation, and aftertaste; a target output of the training subset Xj are a processed sensory quality index score of the brand ωj, which is proportionally transformed to a range of [0.15, 2.85]; for a 16-dimensional pattern xp from the brand ωj, supposed that a rth sensory quality index score is dp(jr)′, a target output of a rth single-output neural network after proportional transformation is: wherein d(jr)′=(d1(jr)′, . . . , dp(jr)′, . . . , d30(jr)′)T is a vector of the rth sensory quality index score for all Nj=30 standard samples of the brand ωj, wherein an actual output of a hidden node h of the rth single-output neural network in a score estimation group Λj is shown in formula (7):
description="In-line Formulae" end="lead"?ξph(jr)=ƒ(φph(jr))=3(1+exp(−φph(jr)/3))−1 (7)description="In-line Formulae" end="tail"? in the formula (7), φph(jr) is a weighted sum of all input components of the 16-dimensional pattern xp for the hidden node h, or: wherein a threshold term is θh(jr)=wh0(jr), and a constant term is xp0=6.0; wherein an actual output of the rth single-output neural network in the score estimation group Λj is shown in formula (9):
description="In-line Formulae" end="lead"?zp(jr)=ƒ(ϕp(jr))=3(1+exp(−ϕp(jr))/3))−1 (9)description="In-line Formulae" end="tail"? in the formula (9), ϕp(jr) is a weighted sum of real outputs of all hidden nodes of the rth single-output neural network, or: wherein the threshold term is θ(jr)=w0(jr) the constant term is ξp0(jr)=+3.0.
12. The method according to claim 1, wherein a first level of the cascade modular neural network model for recognizing tobacco and tobacco products is that each vote recognition group consists of (n−1) single-output neural networks, representing a specified brand of tobacco and tobacco product, and a maximum number of votes is (n−1); each single-output neural network must join in two of n vote recognition groups, and n(n−1)/2 single-output neural networks constitute n vote recognition groups respectively; a majority vote rule is used for decision-making; a single-output neural network ωjk must join in a jth vote recognition group Ωj and a kth vote recognition group Ωk for vote; in the jth vote recognition group, if an actual output y(jk) of the single-output neural network ωjk satisfies y(jk)>1.5, a probability of estimating an undetermined cigarette pattern x to belong to the brand ωj obtains 1 vote; in the kth vote recognition group, if the actual output y(jk)<1.5, a probability of belonging to the brand ωk is given 1 vote; a decision rule is that the undetermined cigarette pattern x belongs to a brand represented by a vote recognition group with a highest number of votes in the n vote recognition groups; if two or more vote recognition groups have n equal and highest vote number, a decision-making is that the undetermined cigarette pattern x does not belong to any existing brand; a second level of the cascade modular neural network model which is used for the sensory quality index score estimation of tobacco and tobacco products is that each score estimation group consists of five single-output neural networks, which is responsible for performing the score estimation of the five sensory quality indices of a corresponding brand, wherein the five sensory quality indices are aroma, harmony, impurity, irritation and aftertaste; n×5 single-output neural networks are divided into n score estimation groups, corresponding to n vote recognition groups with an one-against-one relationship; in a score estimation stage of the five sensory quality indices of the undetermined cigarette sample x, on a premise that the vote recognition group Ωj in the first level of the cascade modular neural network model gets a largest number of votes, a score estimation group Λj in a second level, representing the brand ωj, takes part in an estimation alone, while another score estimation groups do not need to; suppose an actual output of the rth single-output neural network in the score estimation group Λj is z(jr), a estimated score of the rth sensory quality index of the brand ωj is:
13. The method according to claim 1, wherein if a new brand is added to n existing brands, only n single-output neural networks need to be added to a first level of a cascade modular neural network model and learnt; a number of the first level of the cascade modular neural network model is thus increased from an existing n(n−1)/2 to a new n(n+1)/2; for an added brand ωn+1, newly added and learned single-output neural networks are ω(n+1), . . . , ω(n+1), . . . , ω(n+1); correspondingly, to estimate five sensory quality index scores for a newly added brand, five new single-output neural networks are added to a second level of the cascade modular neural network model and learnt, and therefore a number of single-output neural networks is varied from an existing n×5 to (n+1)×5; a fake brand or an existing same brand produced by another manufacturer is regarded as a separate brand for a recognition and the sensory quality index score estimation.
14. The method according to claim 1, wherein the electronic nose instrument performs detection, recognition and sense quality index score estimation operations for cigarette samples by following stages: (1), a power-on stage: during the power-on stage, the electronic nose instrument is preheated for 30 minutes, and an ambient air is discharged to outdoor after sequentially passing through the first two-position two-port electromagnetic valve, the annular working chamber of the gas sensor array, the fifth two-position two-port electromagnetic valve, and the fourth two-position two-port electromagnetic valve with a flow rate of 6,500 ml/min; so that a temperature of the thermostatic room is raised from a room temperature to a constant temperature of 55±0.1° C.; (2), the smoke sampling stage: when an operator clicks a "Start detection" button in a screen drop-down menu, the electronic nose instrument enters a smoke sampling period lasting 5 minutes, and the computer automatically generates a text file named "xxx" in a designated folder to record a response data of a gas sensor array to a smoke gas; (3), the early recovery stage: within 0.00-210.00 s time interval of a smoke sampling period, the ambient air is discharged to outdoor after sequentially passing through the first two-position two-port electromagnetic valve, the annular working chamber, the fifth two-position two-port electromagnetic valve and the fourth two-position two-port electromagnetic valve with the flow rate of 6,500 ml/min; under a flushing operation of the ambient air with the flow rate of 6,500 ml/min, smoke molecules adhered onto surfaces of sensitive films of gas sensors and inner walls of pipelines are flushed away tentatively, so that the gas sensor array returns to a reference state preliminarily for 210 s; (4), the precise clean air calibration stage: within 210.00-250.00 s time interval of the smoke sampling period, two following stages are carried out simultaneously: (a) the precise clean air calibration stage, and (b) a cigarette insertion stage, an automatic ignition stage, a first smoke puff stage, and a smoldering/self-sustaining combustion stage; which last 40 s; (4a), the precise clean air calibration stage: a clean air flows are, for 40 s, discharged to outdoor after sequentially passing through the second throttle valve, the sixth two-position two-port electromagnetic valve, the annular working chamber of the gas sensor array, and the third two-position two-port electromagnetic valve with a flow rate of 17.5 ml/s; so that the gas sensor array returns to the reference state accurately; (4b.1), the cigarette insertion stage: within 210.00-225.00 s time interval of the smoke sampling period, which is first 15 s time slot of the precise clean air calibration stage, a screen displays a word "Cigarette insertion", the operator inserts a filter end of a tested cigarette sample into the cigarette holder, at an insertion depth of 9.0±0.5 mm; (4b.2), the automatic ignition stage: within 225.00-231.00 s time interval of the smoke sampling period, which is 15.00-21.00 s time slot of the precise clean air calibration stage, the ignition coil is energized; meanwhile, the cigarette igniter head moves 9 mm to left so as to contact and ignite the tested cigarette sample for 6 s; in 231.00-269.00 s of the smoke sampling period, the electromagnetic coil is powered, and the ignition coil is powered off and returned to a reference position for 38 s, including a later is of the first smoke puff stage, 18 s of the smoldering/self-sustaining combustion stage, 2 s of the balance stage, 2 s of the second smoke puff stage, and 15 s of a residual cigarette butt removal stage; (4b.3), the first smoke puff stage: within 230.00-232.00 s time interval of the smoke sampling period, which is 20.00-22.00 s time slot of the precise clean air calibration stage, under a suction action of the miniature vacuum pump, the smoke gas is, for 2 s, directly discharged to outdoor after sequentially passing through the second two-position two-port electromagnetic valve, the first throttle valve and the flowmeter with the flow rate of 17.5 ml/s; (4b.4), the smoldering/self-sustaining combustion stage: within 232.00-250.00 s time interval of the smoke sampling period, which is 22.00-40.00 s time slot of the precise clean air calibration stage, the second two-position two-port electromagnetic valve is disconnected, so that the tested cigarette sample enters the smoldering/self-sustaining combustion stage, which lasts 18 s; (5), the balance stage: within 250.00-252.00 s time interval of the smoke sampling period, all two-position two-port electromagnetic valves are disconnected; so that no gas flows in the annular working chamber of the gas sensor array and the tested cigarette sample is still in the smoldering/self-sustaining combustion stage for 2 s; (6), the second smoke puff stage: within 252.00-254.00 s time interval of the smoke sampling period, the first two-position two-port electromagnetic valve and the fifth two-position two-port electromagnetic valve are connected, and the second two-position two-port electromagnetic valve, the third two-position two-port electromagnetic valve, the fourth two-position two-port electromagnetic valve, the sixth two-position two-port electromagnetic valve are disconnected; cigarette smoke is, for 2 s, discharged to outdoor after sequentially passing through the first two-position two-port electromagnetic valve, the annular working chamber of the gas sensor array, the fifth two-position two-port electromagnetic valve, the first throttle valve and the flowmeter with the flow rate of 17.5 ml/s, so that a 35 ml volume of smoke gas is collected; (7), the ambient air flushing stage: within 254.00-300.00 s time interval of the smoke sampling period, an indoor ambient air flows through the annular working chamber of the gas sensor array with the flow rate of 6,500 ml/min; the smoke molecules adhered to the surfaces of sensitive films of gas sensors and the inner walls of pipelines are roughly flushed away, so that the gas sensor array enters the early recovery stage, which comprises following two stages: a residual cigarette butt removal stage and a post removal stage; (7.1), the residual cigarette butt removal stage: within 254.00-269.00 s time interval of the smoke sampling period, the operator takes out and discards the residual cigarette butt within 15 s; during the 15 s duration, the third two-position two-port electromagnetic valve, the fourth two-position two-port electromagnetic valve and the fifth two-position two-port electromagnetic valve are turned on, and the first two-position two-port electromagnetic valve, the second two-position two-port electromagnetic valve and the sixth two-position two-port electromagnetic valve are switched off, and the ambient air is, for 15 s, discharged to outdoor after sequentially passing through the third two-position two-port electromagnetic valve, the annular working chamber of the gas sensor array, the fifth two-position two-port electromagnetic valve and the fourth two-position two-port electromagnetic valve at the rate of 6,500 ml/min; (7.2), the post removal stage: within 269.00-300.00 s time interval of the smoke sampling period, the first two-position two-port electromagnetic valve, the fourth two-position two-port electromagnetic valve and the fifth two-position two-port electromagnetic valve are connected; and the second two-position two-port electromagnetic valve, the third two-position two-port electromagnetic valve and the sixth two-position two-port electromagnetic valve are disconnected; the ambient air is, for 31 s, discharged to outdoor after sequentially passing through the first two-position two-port electromagnetic valve, the annular working chamber of the gas sensor array, the fifth two-position two-port electromagnetic valve and the fourth two-position two-port electromagnetic valve at the flow rate of 6,500 ml/min; wherein positions of the first to sixth two position two port electromagnetic valves and the flow rate of ambient air are exactly same as the early recovery stage of the gas sensor array; (8), a data recording stage: from a time point of 250.00 s time interval in the smoke sampling period, which is from the beginning of the balance stage, the computer saves voltage responses of 16 gas sensors in a "xxx" text file through the 16-channel 16-bit high-precision data acquisition card until a time point of 290.00 s, including the second smoke puff stage, the residual cigarette butt removal stage and the post removal stage; the duration of the data recording stage is 40 s after the residual cigarette butt removal stage; (9), a feature extraction stage: in the smoke sampling period, the computer control and data analysis system extracts, for 40 s, the steady-state maximum voltage value of the response curve of each gas sensor from the "xxx" data recording file as a response component, which represents a response to the second smoke gas, so that a tobacco and tobacco product sample is transformed into a 16-dimensional measurement pattern, and stored in a data set file of tobacco and tobacco product samples in the hard disk; (10), a recognition and sensory quality index score estimation stage: within 290.00-300.00 s time interval of the smoke sampling period, or 10 s after an end of the data recording stage, a first level of the cascade modular neural network model, which is n vote recognition groups, determines a brand, origin and authenticity of a tested cigarette sample according to a majority vote rule; and a score estimation group in a second level of the cascade modular neural network model corresponding to a winning vote recognition group performs the score estimation of the five sensory quality indices, which are aroma, harmony, impurity, irritation and aftertaste, and the recognition and score estimation results are displayed on a monitor; by repeating the stages (2)-(10), the electronic nose instrument realizes smoke detection, recognition and sensory quality index score estimation for a plurality of tobacco and tobacco product samples; wherein a complete test period for a tobacco and tobacco product sample takes 300 s.
</claims>
</document>
