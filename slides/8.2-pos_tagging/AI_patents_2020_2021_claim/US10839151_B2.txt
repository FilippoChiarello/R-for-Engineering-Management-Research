<document>

<filing_date>
2018-12-04
</filing_date>

<publication_date>
2020-11-17
</publication_date>

<priority_date>
2017-12-05
</priority_date>

<ipc_classes>
G06F16/332,G06F16/335,G06F16/951,G06F17/27,G06F3/0481,G06F3/0482,G06F40/151,G06F40/205,G06F40/279,G06N3/08
</ipc_classes>

<assignee>
MYFAVOREATS
</assignee>

<inventors>
RAPAPORT, ORLY
</inventors>

<docdb_family_id>
66658041
</docdb_family_id>

<title>
Systems and methods for automatic analysis of text-based food-recipes
</title>

<abstract>
There is provided a method of computing an ingredient substitute(s), comprising: receiving a target food-recipe data structure, receiving a selection of ingredient(s) for substitution, accessing ingredient substitution data structure(s) each storing substitutes for one of the selected ingredient(s), computing adjusted food-recipe data structure(s) that include a predefined textual code that replaces one of the selected ingredients for substitution, computing for each of the adjusted food-recipe data structures, by a trained neural network, coordinates of a respective adjusted point within a multi-dimensional space, determining, for each of the adjusted food-recipe data structures, the value of the respective coordinates corresponding to each one of the substitute ingredient(s) corresponding to the selected ingredient for substitution, selecting, for each of the selected ingredients for substitution, substitute ingredient indication(s) from the corresponding ingredient substitution data structure according to a requirement of the value of the coordinate, and presenting the selected substitute ingredient indication(s).
</abstract>

<claims>
1. A method of computing by a computer system in communication with an ingredient-substitution dataset, with a trained neural network, and with a client terminal, via a network, a substitute for at least one ingredient in a text-based food-recipe, comprising: receiving a target text-based food-recipe including a set of text-based instructions for preparation of a certain food-recipe according to a set of text-based ingredients; converting the target text-based food-recipe to a target food-recipe data structure storing an indication of the set of text-based ingredients, and the set of text-based instructions; receiving from the client terminal via a GUI presenting the target text-based food-recipe on a display, a selection of at least one text-based ingredient of the set of text-based ingredients for substitution; accessing at least one ingredient substitution data structure each storing at least one ingredient indication that is a substitutes for one of the selected at least one text-based ingredient; computing at least one adjusted food-recipe data structure for the target food-recipe data structure, each adjusted food-recipe data structure includes a predefined textual code that replaces one of the selected text-based ingredients for substitution; computing for each of the adjusted food-recipe data structures, by the trained neural network, coordinates of a respective adjusted point within a multi-dimensional food-recipe space; determining, for each of the adjusted food-recipe data structures, the value of the coordinates of the respective adjusted point within the multi-dimensional food-recipe space corresponding to each one of the substitute ingredient indications of the ingredient substitution data structure corresponding to the selected text-based ingredient for substitution; selecting, for each of the selected text-based ingredients for substitution, at least one substitute ingredient indication from the corresponding ingredient substitution data structure according to a requirement of the value of the coordinate; presenting within the GUI on the display of the client terminal in association with the text-based target food-recipe, for each of the selected text-based ingredients for substitution, the selected at least one substitute ingredient indication; and encoding the target text-based food-recipe for converting into the target food-recipe data structure for feeding into an input layer of the neural network, the encoded converted target food-recipe data structure include at least one of: (i) a vector representation of a plurality of ingredients appearing in the target text-based food-recipe identified within the ingredient dataset, (ii) a vector of quantity for each of the plurality of ingredients appearing in the target text-based food-recipe, (iii) a weighted average of vectors of values of a plurality of parameters of each ingredient appearing in the target text-based food-recipe, and (iv) a vector representation of the text-based instructions of the target text-based food-recipe, and (v) a vector representation of the text-based title of the target text-based food-recipe; wherein: (i) the vector representation of the plurality of ingredients is represented within a multi-dimensional ingredient space, wherein each axes of the multi-dimensional ingredient space corresponds to one ingredient stored in the ingredient dataset, and a value along each axes denotes the presence or absence of the corresponding ingredient in the target text-based food-recipe, (ii) the vector of quantity for each of the plurality of ingredients is represented by a value along an axis indicative of quantity of each respective ingredient in the target text-based food-recipe, (iii) the values of the plural of parameters are indicative of coordinates along each of a plurality of axes of a multi-dimensional ingredient space, each axis denoting one parameter of the plurality of parameters, (iv) the vector representation of the text-based instructions is computed according to at least one of: a bag-of-words representation computed based on term frequency-inverse document frequency (tf-idf), and a latent semantic sentence representation encoded by standard language based neural network output, and (v) the vector representation of the text-based title is computed according to at least one of: a bag-of-words representation computed based on term frequency-inverse document frequency (tf-idf), and a latent semantic sentence representation encoded by standard language based neural network output.
2. The method according to claim 1, further comprising: receiving from the client terminal via a GUI presenting the target text-based food-recipe on a display, at least one parameter of a personal user profile, wherein each parameter of the personal user profile is associated with at least one ingredient indication, wherein the selection of at least one text-based ingredient of the set of text-based ingredients for substitution is performed according to the indication of ingredients that satisfy the personal user profile.
3. The method according to claim 2, wherein one or more parameters of the user profile are selected from the group comprising: ingredients disliked, ingredients preferred, allergies, dairy free, genetically engineered free, organic, low carb, Eatwell Apple, contains nuts, vegetarian, Kosher, gluten free, sugar free, vegan, Halal, and combinations of the aforementioned.
4. The method according to claim 1, wherein the at least one ingredient of the set of ingredients of the target food-recipe data structure is selected for substitution by at least one of clicking with a pointer, hovering a pointer over the at least one text-based ingredient, and clicking an icon associated with the at least one text-based ingredient.
5. The method according to claim 1, and wherein the selected at least one text-based ingredient for substitution is automatically substituted within the GUI with the selected at least one substitute ingredient indication.
6. The method according to claim 1, wherein the requirement comprises selecting a predefined number of substitute ingredient indications according to the highest coordinate values and above a preselected floor-value.
7. The method according to claim 1, wherein the text-based food-recipe is converted into the food-recipe data structure by parsing and formatting the text-based food-recipe, wherein the text-based set of ingredient indications are stored according to predefined identifiers, each ingredient indication of the set of ingredient indications is stored by the food-recipe data structure in association with a respective quantity of the respective ingredient of the respective text-based food-recipe, and the text-based instructions are stored as simple text.
8. The method according to claim 1, wherein values of parameters of each ingredient indication define corresponding values of the coordinates along each of a plurality of axes of a multi-dimensional ingredient space, the parameters include at least one of: a plurality of nutritional parameters, at least one botanical parameter, and a plurality of chemical parameters.
9. The method according to claim 8, wherein the plurality of nutritional parameters are selected from the group comprising: carbohydrate content, sugar content, saturated fat content, fiber content, omega-3 content, and alcohol content, wherein the at least one botanical parameter is selected from the group comprising: fruit, vegetable, nut, and animal part, and the plurality of chemical parameters are selected from the group comprising: texture, comparable taste, and comparable smell.
10. The method according to claim 1, wherein the coordinates of the adjusted point within the multi-dimensional food-recipe space is computed according to values of weights of at least one hidden layer within the neural network, obtained by forward-feeding the food-recipe data structure into the trained neural network.
11. A computer implemented method of generating a neural network for computation of a multi-dimensional representation of a text-based food-recipe, comprising: receiving by a computer system in communication with: a food-recipe dataset, an ingredient dataset, and an ingredient-substitution dataset: a plurality of food-recipe data structures each storing a set of ingredient indications and text of instructions for preparation, a plurality of ingredient data structures each storing values of parameters of a respective ingredient indication of the set of ingredient indications, represented as an ingredient point in a multi-dimensional ingredient space, a plurality of ingredient substitution data structures each storing at least two indications of ingredients stored by the ingredient dataset that are substitutes for at least one ingredient indication stored in at least one food-recipe data structure, and training a neural network according to the plurality of food-recipe data structures, the plurality of ingredient data structures, and the plurality of ingredient substitution data structures, wherein initial network weights of the neural network are randomly selected and adjusted according to a plurality of iterations, and comprising for each iteration: randomly selecting a certain food-recipe data structure, creating an adjusted food-recipe data-structure from the certain food-recipe data-structure by replacing a randomly selected certain ingredient indication with a predefined keyword in the set of ingredients and in the instructions of the certain food-recipe, feeding the adjusted food-recipe data-structure into the current neural network, and computing an objective loss function indicative of a statistical distance between a set of coordinates of the adjusted food-recipe data structure denoting an adjusted point within a multi-dimensional food-recipe space, and a set of coordinates of the certain food-recipe data-structure denoting a certain food-recipe point within the multi-dimensional food-recipe space; wherein the neural network is trained by computation of a set of weights for layers of the neural network according to iterative minimization of the objective loss function until a stop condition is met; wherein the trained neural network computes coordinates of a food-recipe point within a multi-dimensional food-recipe space for an input of a target text-based food-recipe received by the computer system from a client terminal over a network.
12. The method according to claim 11, wherein an input layer of the trained neural network is followed by at least one hidden layer, wherein each at least one hidden layer is of a dimension determined by a predefined parameter, each at least one hidden layer is connected to adjacent layers by full connectivity, wherein a variable weight is assigned on the connection of each coordinate in each certain hidden layer, to each coordinate in the layer above and the layer below each certain layer, wherein a top hidden layer is connected to an output layer, wherein the output layer includes a single coordinate for each possible ingredient stored by the ingredient dataset, wherein the output layer is connected to the topmost hidden layer by full connectivity.
13. The method according to claim 11, wherein at least one of the plurality of ingredient-substitution data structures is computed based on an analysis of data collected by crawling code that automatically crawls food-based content stored on network connected nodes.
14. The method according to claim 11, wherein the neural network is trained based on stochastic gradient descent on a distribution of a randomly selected plurality of food-recipe data structures from the food-recipe dataset.
</claims>
</document>
