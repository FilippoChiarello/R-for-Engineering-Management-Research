<document>

<filing_date>
2020-06-16
</filing_date>

<publication_date>
2020-12-03
</publication_date>

<priority_date>
2015-12-30
</priority_date>

<ipc_classes>
H04L12/721,H04L12/741,H04L12/751,H04W40/28
</ipc_classes>

<assignee>
HUAWEI TECHNOLOGIES COMPANY
</assignee>

<inventors>
JIANG SHENG
DU, ZONGPENG
</inventors>

<docdb_family_id>
59224109
</docdb_family_id>

<title>
ROUTING TABLE CREATION METHOD, ELECTRONIC DEVICE, AND NETWORK
</title>

<abstract>
A routing table creation method, an electronic device, and a network are provided. The method includes: generating a first probe packet, where the first probe packet has a source address and a destination address; sending, from a source node corresponding to the source address, the first probe packet on a network including at least two nodes, until the first probe packet reaches a destination node corresponding to the destination address, and recording addresses of nodes through which the first probe packet passes, to form a first path; generating a second path according to the first path, where the second path is a reverse path of the first path; generating a first response packet, sending the first response packet along a second path until the first response packet reaches the source node; and creating a routing table entry according to the second path.
</abstract>

<claims>
1. An electronic device serving as source node, comprising: a processor, configured to generate a first probe packet, wherein the first probe packet has a source address and a destination address, the source address being an address of the source node; an interface; a transmitter, configured to send the first probe packet through the interface; and a receiver, configured to receive the first response packet through the interface, wherein the first response packet comprises a second path, the second path being a reverse path of a first path, and the first path comprising addresses of nodes through which the first probe packet passes; and, wherein the processor is further configured to create a routing table entry according to a preceding address of an address of the electronic device on the second path, wherein the routing table entry comprises the destination address, and an address of a next hop node and an outbound interface, the address of the next hop node being the preceding address.
2. The electronic device according to claim 1, wherein the processor is further configured to create a path evaluation table entry, wherein the path evaluation table entry comprises the source address and the destination address, the address of the next hop node and the outbound interface, an evaluated value that is of both the next hop node and the outbound interface, and a service identifier and/or a service target, wherein the address of the next hop node is the preceding address.
3. The electronic device according to claim 1, wherein the transmitter is configured to: randomly select a next hop node and an outbound interface, and transmit the first probe packet.
4. An electronic device, comprising: an interface; a receiver, configured to receive a first probe packet by using the interface, wherein the first probe packet has a source address and a destination address, and an address of a node through which the first probe packet has passed so far, and the electronic device is an intermediate node on a path between a source node corresponding to the source address and a destination node corresponding to the destination address; a processor, configured to record an address of the electronic device in the first probe packet, to form a new first probe packet; and a transmitter, configured to send the new first probe packet by through the interface; and, wherein the receiver is further configured to receive the first response packet through the interface, wherein the first response packet comprises a second path, the second path being a reverse path of a first path, and the first path comprising addresses of nodes through which the new first probe packet passes; and the processor is further configured to create a routing table entry according to a preceding address of the address of the electronic device on the second path, wherein the routing table entry comprises the destination address, and an address of a next hop node and an outbound interface, and the address of the next hop node is the preceding address.
5. The electronic device according to claim 4, wherein the processor is further configured to create a path evaluation table entry, wherein the path evaluation table entry comprises the source address and the destination address, the address of the next hop node and the outbound interface, an evaluated value that is of both the next hop node and the outbound interface, and a service identifier and/or a service target, and the address of the next hop node is the preceding address.
6. An electronic device, comprising: a processor, configured to generate a second probe packet, wherein the second probe packet has a source address and a destination address, the electronic device serves as a source node, and the source address is an address of the source node; an interface; a transmitter, configured to send the second probe packet based on a predetermined probability and according to a pre-created routing table entry; and a receiver, configured to receive a second response packet through the interface, wherein the second response packet comprises a fourth path, the fourth path being a reverse path of a third path, and the third path comprising addresses of nodes through which the second probe packet passes, wherein the processor is further configured to: if a match is successfully found in the routing table entry, and a preceding address of an address of the electronic device on the fourth path is the same as an address of a next hop node in the routing table entry, update an evaluated value that is of both the next hop node and an outbound interface in a pre-created path evaluation table entry.
7. The electronic device according to claim 6, wherein the processor is further configured to: if no match is successfully found in the routing table entry, create a new routing table entry according to the preceding address of the address of the electronic device on the fourth path.
8. The electronic device according to claim 6, wherein the processor is further configured to: if a match is successfully found in the routing table entry, and the preceding address of the address of the electronic device on the fourth path is different from the address of the next hop node in the routing table entry, determine whether to update the routing table entry.
9. The electronic device according to claim 8, wherein the processor is configured to: determine an evaluated value that is of both a new next hop node and a new outbound interface, and determine, according to the evaluated value that is of both the new next hop node and the new outbound interface and the evaluated value that is of both the next hop node and the outbound interface in the path evaluation table entry, whether to update the routing table entry.
10. The electronic device according to claim 8, wherein the processor is configured to: determine an evaluated value that is of both a new next hop node and a new outbound interface; input the evaluated value that is of both the new next hop node and the new outbound interface into a random neural network; and determine, according to a computation result of the random neural network, whether to update a routing table entry, wherein each neuron of the random neural network corresponds to an outbound interface, and the random neural network is trained by using a historical evaluated value that is of both a next hop node and an outbound interface.
11. An electronic device, comprising: an interface; a receiver, configured to receive a second probe packet through the interface, wherein the second probe packet has a source address and a destination address, and an address of a node through which the second probe packet has passed, and the electronic device is an intermediate node on a path between a source node corresponding to the source address and a destination node corresponding to the destination address; a processor, configured to record an address of the electronic device in the second probe packet, to form a new second probe packet; and a transmitter, configured to send the new second probe packet based on a predetermined probability through the interface and according to a pre-created routing table entry; and, wherein the receiver is further configured to receive a second response packet, wherein the second response packet comprises a fourth path, the fourth path being a reverse path of a third path, and the third path comprising addresses of nodes through which the new second probe packet passes; and the processor is further configured to: if a match is successfully found in the routing table entry, and a preceding address of the address of the electronic device on the fourth path is the same as an address of a next hop node in the routing table entry, update an evaluated value that is of both the next hop node and an outbound interface in a path evaluation table entry.
12. The electronic device according to claim 11, wherein the processor is further configured to: when no match is successfully found in the routing table entry, create a new routing table entry according to the preceding address of the address of the electronic device on the fourth path.
13. The electronic device according to claim 11, wherein the processor is further configured to: if a match is successfully found in the routing table entry, and the preceding address of the address of the electronic device on the fourth path is different from the address of the next hop node in the routing table entry, determine whether to update the routing table entry.
14. The electronic device according to claim 13, wherein the processor is configured to: determine an evaluated value that is of both a new next hop node and a new outbound interface, and determine, according to the evaluated value that is of both the new next hop node and the new outbound interface and the evaluated value that is of both the next hop node and the outbound interface in the path evaluation table entry, whether to update the routing table entry.
15. The electronic device according to claim 13, wherein the processor is configured to: determine an evaluated value that is of both a new next hop node and a new outbound interface; input the evaluated value that is of both the new next hop node and the new outbound interface into a random neural network; and determine, according to a computation result of the random neural network, whether to update a routing table, wherein each neuron of the random neural network corresponds to an outbound interface, and the random neural network is trained through a historical evaluated value that is of both a next hop node and an outbound interface.
16. An electronic device, comprising: a processor, configured to generate a first probe packet, wherein the first probe packet has a source address and a destination address, the source address is an address of the electronic device, and the electronic device serves as a source node; an interface; a transmitter, configured to send the first probe packet by using the interface; and a receiver, configured to receive a first response packet by using the interface, wherein the first response packet comprises a second path, the second path being a reverse path of a first path, and the first path comprising addresses of nodes through which the first probe packet passes; and, wherein the processor is further configured to: generate a first-path creation packet, wherein the first-path creation packet comprises the first path; and create a routing table entry according to an address of a next hop node and an outbound interface of the source address on the first path, wherein the routing table entry comprises the destination address, and the address of the next hop node and the outbound interface.
17. The electronic device according to claim 16, wherein the processor is further configured to: if a routing table entry has been created, and an outbound interface in the already-created routing table entry is different from an outbound interface corresponding to the first path, determine whether the outbound interface corresponding to the first path is better; and when the outbound interface corresponding to the first path is better, update the already-created routing table entry.
18. The electronic device according to claim 16, wherein the transmitter is further configured to send, through the interface, the first-path creation packet to an intermediate node between the source node and a destination node on the first path, to enable the intermediate node to update a routing table entry of the intermediate node according to an address of a next hop and an outbound interface of an address of the intermediate node on the first path.
19. A network, wherein the network comprises a source node, a destination node, and intermediate nodes between the source node and the destination node; the source node is configured to: generate a first probe packet, and send the first probe packet to a neighboring intermediate node of the source node, wherein the first probe packet has a source address of the source node and a destination address of the destination node; the intermediate nodes from the neighboring intermediate node to a neighboring intermediate node of the destination node are configured to: sequentially send the first probe packet until the first probe packet reaches the destination node, and record respective addresses in the first probe packet to form a first path; the destination node is configured to: generate a second path according to the first path, wherein the second path is a reverse path of the first path, and to generate a first response packet, wherein the first response packet comprises the second path; the destination node and the intermediate nodes are configured to sequentially send the first response packet along the second path until the first response packet reaches the source node; and the intermediate nodes and the source node are configured to create a routing table entry according to the second path, wherein the routing table entry comprises the destination address, and an address of a next hop node and an outbound interface.
20. The network according to claim 19, wherein the intermediate nodes and the source node are further configured to create a path evaluation table entry according to the second path and a service target, wherein the path evaluation table entry comprises the source address and the destination address, the address of the next hop node and the outbound interface, an evaluated value that is of both the next hop node and the outbound interface, and a service identifier and/or the service target.
</claims>
</document>
