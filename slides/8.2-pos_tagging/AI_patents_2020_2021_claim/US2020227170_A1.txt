<document>

<filing_date>
2018-06-14
</filing_date>

<publication_date>
2020-07-16
</publication_date>

<priority_date>
2017-06-15
</priority_date>

<ipc_classes>
A61B5/00,G16H10/60,G16H20/17,G16H50/20,G16H50/30,G16H50/50,G16H70/20,G16H70/40,G16H70/60
</ipc_classes>

<assignee>
NOVO NORDISK
</assignee>

<inventors>
ARADOTTIR, TINNA BJOERK
IMANBAYEV, ANUAR
MILLER, THOMAS DEDENROTH
SHVETS, OLEKSANDR
</inventors>

<docdb_family_id>
62530259
</docdb_family_id>

<title>
INSULIN TITRATION ALGORITHM BASED ON PATIENT PROFILE
</title>

<abstract>
A device, system and method is provided for predicting risk of hypoglycemia and adjusting an insulin medicament dose size for a subject being on pen based multi-daily injections. A first algorithm is provided for computing a first insulin dose size based on a plurality of timestamped blood glucose (BG) measurements and insulin injected dose sizes. A risk prediction module is adapted to, based on machine learning algorithms, predict risk of hypoglycemia based on the timestamped BG measurements and calculate a second insulin dose size resulting in a non-hypoglycemic state. In case the second dose size is lower than the first dose size, the first dose size is automatically adjusted down to the second dose size and communicated as the recommended dose size to the subject.
</abstract>

<claims>
1. A device for predicting risk of hypoglycemia and adjusting an insulin medicament dose size for a subject accordingly to prevent a predicted hypoglycemic event, wherein the device comprises one or more processors and a memory, the memory storing a data structure comprising; a prescribed insulin medicament dosage regimen that specifies a first rule based titration algorithm for computing and recommending a first dose size as an adjustment to a current dosage regimen based upon a first data set comprising: a plurality of blood glucose (BG) measurements taken over a time course, and for each respective measurement in the plurality of measurements, a corresponding timestamp representing when in the time course the respective measurement was made, a plurality of injected insulin dose size taken over a time course, and for each respective injected dose size in the plurality of injected doses, a corresponding timestamp representing when in the time course the respective dose was injected and a respective typestamp of the insulin medicament injected, minimum target fasting and post prandial blood glucose levels, maximum target fasting and post prandial blood glucose levels, a risk prediction module comprising the following machine learning algorithm modules: a short term risk prediction classification machine learning algorithm using a Gaussian Kernel and regularization to compute, based upon the last up to 3 hours of BG measurements from said first data set, the probability of hypoglycaemia occurring within a time period of up to 3 hours from start of computing the risk, a long term risk prediction classification machine learning algorithm using a Gaussian Kernel and regularization to compute, based upon the last up to 24 hours of BG data from said first data set, the probability of hypoglycaemia occurring within a time period of up to 24 hours from start of computing the risk, a subject's pattern recognition machine learning algorithm to analyse correlations between said BG measurements and insulin dose size data of said first data set and identify historic hyperand hypoglycemic events over a predetermined period of time and the severity as to blood glucose level of each of these events, wherein the memory further stores instructions that, when executed by the one or more processors, perform a method comprising: responsive to a request from the subject to compute a recommended dose for a basal or bolus insulin; a) updating the first data set with latest available data, b) computing a post prandial blood glucose level (PPGL) (for bolus insulin dose request) as the lowest weighted average of at least the last three days post prandial blood glucose values in the first set of data, c) computing a titration blood glucose level (TGL) (for basal insulin dose request) as lowest weighted average of at least the last three days daily blood glucose values in the first set of data, exclusive blood glucose values identified in post prandial periods, d) computing a first dose size by running the first rule based titration algorithm, and where the first rule based titration algorithm compute and recommend a first dose size as follows; a first dose size being larger compared to said current dosage regimen for the subject, if said computed TGL or PPGL is above said maximum targets for fasting or post prandial blood glucose levels, or a first dose size being decreased compared to the current dosage regimen for the subject, if said TGL or PPGL is below the said minimum targets for fasting or post prandial blood glucose levels, or a first dose size being equal to the current dosage regimen for the subject if said average TGL or PPGL is within the range between said the minimum and maximum targets for fasting or post prandial blood glucose levels, e) employing said short term risk prediction machine learning classification algorithm f) employing said long term risk prediction machine learning classification algorithm g) employing said subject's pattern recognition algorithm, h) employing a multiple linear regression machine learning algorithm to predict a second dose size resulting in a non-hypoglycemic state for the subject based on the input from the first algorithm, the short term risk prediction algorithm, the long term risk prediction algorithm and subject's pattern recognition algorithm and if said calculated second dose size is lower than the first dose size then; i) automatically adjusting the first dose size down to the second dose size and communicate said second dose size to the subject.
2. A device according to claim 1, wherein the multiple linear regression machine learning algorithm is defined by the function
description="In-line Formulae" end="lead"?hθ(x)=θ0+θ1x(1)+θ2x(2)+ . . . +θnx(n) description="In-line Formulae" end="tail"? where θi are calculated weights corresponding to each input parameter x(i) in determination of said second dose size hθ(x) and x(i) are output values of the algorithms according to steps e)-g).
3. A device according to claim 1, wherein the step of employing said short term risk prediction machine learning classification algorithm comprises; preparing from the first data set specific data sets of historic BG measurements obtained within specific time intervals of the last 15 to 180 minutes, running each prepared data set through a support vector machine classifier with Gaussian Kernel and regularization to compute said output x(i) indicating risk of hypoglycemia within a future time horizon of between 15 to 180 minutes, respectively.
4. A device according to claim 1, wherein the step of employing said long term risk prediction machine learning classification algorithm comprises; preparing from the first data set data sets of historic BG measurements obtained within specific time intervals of the last 12 to 24 hours, running each prepared data set through a support vector machine classifier with Gaussian Kernel and regularization to compute said output x(i) indicating risk of hypoglycemia within a future time horizon of between 12 to 24 hours, respectively.
5. A device according to claim 1, wherein the step of employing said subject's pattern recognition algorithm comprises; preparing from the first data set data sets of historic BG measurements obtained within specific time intervals of the last 15-180 minutes, running each prepared data set through an single class SVM classifier algorithm to analyse correlations between said BG measurements of said data sets and corresponding insulin dose size data of said data sets and identify hyperand hypoglycemic events within said time interval and the severity as to blood glucose level of each of these events.
6. A device according to claim 1, wherein the device further comprises a wireless receiver, and wherein the blood glucose measurements of the first data set is obtained wirelessly from a CGM affixed to the subject and the insulin dose data of the first data set is obtained wirelessly from one or more insulin pens adapted to communicate with the wireless receiver.
7. A device according to claim 6, wherein successive measurements in the plurality of glucose measurements are autonomously taken by the CGM device from the subject at an interval rate of 5 minutes or less, 3 minutes or less, or 1 minute or less.
8. A device according to claim 1, wherein the data structure further comprises a second data set comprising sets of historic data containing one or more of insulin sensitivity factor (ISF) estimations, Insulin on board (IoB) estimations, carbohydrates on board (CoB) estimations, said second data set being used by the risk prediction module to predict a risk of hypoglycaemia.
9. A system for assisting a subject in treating diabetes and comprising a device according to claim 1 integrated into an application running on a mobile device, such as a mobile phone, laptop or tablet, said application being adapted to at least communicate on said mobile device the first and second dose size recommendations to the subject.
10. A system according to claim 9, wherein the BG data and insulin injection data is wirelessly communicated directly from a CGM and injection pen(s), respectively, to the mobile device.
11. A method for assisting a subject in treating diabetes via a computer system comprising one or more processors and a memory storing a data structure comprising; a prescribed insulin medicament dosage regimen that specifies a first rule based titration algorithm for computing and recommending a first dose size as an adjustment to a current dosage regimen based upon a first data set comprising: a plurality of blood glucose (BG) measurements taken over a time course, and for each respective measurement in the plurality of measurements, a corresponding timestamp representing when in the time course the respective measurement was made, a plurality of injected insulin dose size taken over a time course, and for each respective injected dose size in the plurality of injected doses, a corresponding timestamp representing when in the time course the respective dose was injected and a respective typestamp of the insulin medicament injected, minimum target fasting and post prandial blood glucose levels, maximum target fasting and post prandial blood glucose levels, a risk prediction module comprising the following machine learning algorithm modules: a short term risk prediction classification machine learning algorithm using a Gaussian Kernel and regularization to compute, based upon the last up to 3 hours of BG measurements from said first data set, the probability of hypoglycaemia occurring within a time period of up to 3 hours from start of computing the risk, a long term risk prediction classification machine learning algorithm using a Gaussian Kernel and regularization to compute, based upon the last up to 24 hours of BG data from said first data set, the probability of hypoglycaemia occurring within a time period of up to 24 hours from start of computing the risk, a subject's pattern recognition machine learning algorithm to analyse correlations between said BG measurements and insulin dose size data of said first data set and identify historic hyperand hypoglycemic events over a predetermined period of time and the severity as to blood glucose level of each of these events, wherein the memory further stores instructions that, when executed by the one or more processors, perform a method comprising: responsive to a request from the subject to compute a recommended dose for a basal or bolus insulin; a) updating the first data set with latest available data, b) computing a post prandial blood glucose level (PPGL) (for bolus insulin dose request) as the lowest weighted average of at least the last three days post prandial blood glucose values in the first set of data, c) computing a titration blood glucose level (TGL) (for basal insulin dose request) as lowest weighted average of at least the last three days daily blood glucose values in the first set of data, exclusive blood glucose values identified in post prandial periods, d) computing a first dose size by running the first rule based titration algorithm, and where the first rule based titration algorithm compute and recommend a first dose size as follows; a first dose size being larger compared to said current dosage regimen for the subject, if said computed TGL or PPGL is above said maximum targets for fasting or post prandial blood glucose levels, or a first dose size being decreased compared to the current dosage regimen for the subject, if said TGL or PPGL is below the said minimum targets for fasting or post prandial blood glucose levels, or a first dose size being equal to the current dosage regimen for the subject if said average TGL or PPGL is within the range between said the minimum and maximum targets for fasting or post prandial blood glucose levels, e) employing said short term risk prediction machine learning classification algorithm f) employing said long term risk prediction machine learning classification algorithm g) employing said subject's pattern recognition algorithm, h) employing a multiple linear regression machine learning algorithm to predict a second dose size resulting in a non-hypoglycemic state for the subject based on the input from the first algorithm, the short term risk prediction algorithm, the long term risk prediction algorithm and subject's pattern recognition algorithm and if said calculated second dose size is lower than the first dose size then; i) automatically adjusting the first dose size down to the second dose size and communicate said second dose size to the subject.
12. A method according to claim 11, wherein the multiple linear regression machine learning algorithm is defined by the function
description="In-line Formulae" end="lead"?hθ(x)=θ0+θ1x(1)+θ2x(2)+ . . . +θnx(n) description="In-line Formulae" end="tail"? where θi are calculated weights corresponding to each input parameter x in determination of said second dose size hθ(x) and x(i) are output values of the algorithms according to steps e)-g).
13. A method according to claim 11, wherein the step of employing said short term risk prediction machine learning classification algorithm comprises; preparing from the first data set specific data sets of historic BG measurements obtained within specific time intervals of the last 15 to 180 minutes, running each prepared data set through a support vector machine classifier with Gaussian Kernel and regularization to compute said output x(i) indicating risk of hypoglycemia within a future time horizon of between 15 to 180 minutes, respectively.
14. A method according to claim 11, wherein the step of employing said long term risk prediction machine learning classification algorithm comprises; preparing from the first data set data sets of historic BG measurements obtained within specific time intervals of the last 12 to 24 hours, running each prepared data set through a support vector machine classifier with Gaussian Kernel and regularization to compute said output x(i) indicating risk of hypoglycemia within a future time horizon of between 12 to 24 hours, respectively.
15. A method according to claim 11, wherein the step of employing said subject's pattern recognition algorithm comprises; preparing from the first data set data sets of historic BG measurements obtained within specific time intervals of the last 15-180 minutes, running each prepared data set through an single class SVM classifier algorithm to analyse correlations between said BG measurements of said data sets and corresponding insulin dose size data of said data sets and identify hyperand hypoglycemic events within said time interval and the severity as to blood glucose level of each of these events
</claims>
</document>
