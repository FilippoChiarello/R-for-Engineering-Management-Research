<document>

<filing_date>
2019-06-27
</filing_date>

<publication_date>
2020-12-31
</publication_date>

<priority_date>
2019-06-27
</priority_date>

<ipc_classes>
G06K9/62,G06N20/20
</ipc_classes>

<assignee>
MICROSOFT TECHNOLOGY LICENSING
</assignee>

<inventors>
SOMAIYA, MANAS
Ackerman, Ian
Arunmozhi, Madhulekha
</inventors>

<docdb_family_id>
74044701
</docdb_family_id>

<title>
MULTISTAGE FEED RANKING SYSTEM WITH METHODOLOGY PROVIDING SCALABLE MULTI-OBJECTIVE MODEL APPROXIMATION
</title>

<abstract>
Approximating a more complex multi-objective feed item scoring model using a less complex single objective feed item scoring model in a multistage feed ranking system of an online service. The disclosed techniques can facilitate multi-objective optimization for personalizing and ranking feeds including balancing personalizing a feed for viewer experience, downstream professional or social network effects, and upstream effects on content creators. The techniques can approximate the multi-objective model—that uses a rich set of machine learning features for scoring feed items at a second pass ranker in the ranking system—with the more lightweight, single objective model—that uses fewer machine learning features at a first pass ranker in the ranking system. The single objective model can more efficiently score a large set of feed items while maintaining much of the multi-objective model's richness and complexity and with high recall at the second pass ranking stage.
</abstract>

<claims>
1. A method for approximating a multi-objective model of a second pass ranker of a multistage feed ranking system of an online service using a single objective model at a first pass ranker of the multistage feed ranking system, the method comprising: in a context of processing a first plurality of personalized feed requests: logging a first plurality of second pass scores generated by the second pass ranker using the multi-objective model, wherein the first plurality of second pass scores are generated by the second pass ranker for a first plurality of feed items, wherein the second pass ranker executes using one or more computer systems; and learning the single objective model based on a set of training examples and a set of labels for the set of training examples, the set of training examples corresponding to the first plurality of feed items, the set of labels based on the first plurality of second pass scores.
2. The method of claim 1, further comprising: in a context of processing a second plurality of personalized feed requests: the first pass ranker using the learned single objective model to predict a second plurality of second pass scores for a second plurality of feed items, wherein the first pass ranker executes using one or more computer systems; in the context of processing the second plurality of personalized feed requests: the first pass ranker selecting a third plurality of feed items from the second plurality of feed items based on the second plurality of second pass scores for the second plurality of feed items; in the context of processing the second plurality of personalized feed requests: the second pass ranker using the multi-objective model to score the third plurality of feed items thereby generating a third plurality of second pass scores for the third plurality of feed items; and in the context of processing the second plurality of personalized feed requests: the second pass ranker selecting a fourth plurality of feed items, from the third plurality of feed items, to provide to viewers in personalized feeds based on the third plurality of second pass scores.
3. The method of claim 1, further comprising: learning the single objective model based on the set of training examples and the set of labels for the set of training examples using linear regression with ridge regularization.
4. The method of claim 1, further comprising: detecting that a click user input action was taken on a particular feed item of the first plurality of feed items; based on detecting that the click user input action was taken on the particular feed item, computing a particular label, in the set of labels, for a particular training example, in the set of training examples, corresponding to the particular feed item; and wherein the particular label is computed based on a particular second pass score, of the first plurality of second pass scores, for the particular feed item and a click bias factor.
5. The method of claim 1, further comprising: detecting that a viral user input action was taken on a particular feed item of the first plurality of feed items; based on detecting that the viral user input action was taken on the particular feed item, selecting a particular label, in the set of labels, for a particular training example, in the set of training examples, corresponding to the particular feed item; and wherein the particular label is selected as a particular second pass score, of the first plurality of second pass scores, for the particular feed item.
6. The method of claim 1, further comprising: detecting that no user input action was taken on a particular feed item of the first plurality of feed items; Docket No. 60352-0384 based on detecting that no user input action was taken on the particular feed item, selecting a particular label, in the set of labels, for a particular training example, in the set of training examples, corresponding to the particular feed item; and wherein the particular label selected is zero.
7. A method for approximating a multi-objective model of a second pass ranker of a multistage feed ranking system of an online service using a single objective model at a first pass ranker of the multistage feed ranking system, the method comprising: in a context of processing a first plurality of personalized feed requests: a second pass ranker generating a first plurality of second pass scores using the multi-objective model, the first plurality of second pass scores generated by the second pass ranker for a first plurality of feed item instances, wherein the second pass ranker executes using one or more computer systems; assigning a respective weight to each training example in a set of training examples; wherein the set of training examples corresponds to the first plurality of feed item instances; wherein, for each training example in the set of training examples, the respective weight is assigned to the training example based on a type of user input action ultimately taken on a feed item instance, of the first plurality of feed item instances, corresponding to the training example; and learning a machine learning model based on the set of training examples and the respective weights assigned to the set of training examples.
8. The method of claim 7, further comprising: in a context of processing a second plurality of personalized feed requests: the first pass ranker using the learned machine learning model to predict a plurality of positive user input action probabilities for a second plurality of feed item instances, wherein the first pass ranker executes using one or more computer systems; in the context of processing the second plurality of personalized feed requests: the first pass ranker selecting a third plurality of feed item instances from the second plurality of feed item instances based on the plurality of positive user input action probabilities for the second plurality of feed item instances; in the context of processing the second plurality of personalized feed requests: the second pass ranker using the multi-objective model to score the third plurality of feed item instances thereby generating a second plurality of second pass scores for the third plurality of feed item instances; and in the context of processing the second plurality of personalized feed requests: the second pass ranker selecting a fourth plurality of feed item instances, from the third plurality of feed item instances, to provide to viewers in personalized feeds based on the second plurality of second pass scores.
9. The method of claim 7, wherein the machine learning model is a logistic regression model.
10. The method of claim 7, wherein: the assigning a respective weight to each training example in a set of training examples is based on: assigning a first respective weight to a first training example in the set of training examples, and assigning a second respective weight to a second training example in the set of training examples; and wherein the first respective weight is different than the second respective weight.
11. The method of claim 10 wherein: the first respective weight is numerically greater than the second respective weight; the first respective weight is assigned to the first training example based on the type of user input action ultimately taken on a feed item instance being a viral user input action; and the second respective weight is assigned to the second training example based on the type of user input action ultimately taken on a feed item instance being a click user input action.
12. The method of claim 10, wherein: the first respective weight is numerically greater than the second respective weight; Docket No. 60352-0384 the first respective weight is assigned to the first training example based on the type of user input action ultimately taken on a feed item instance being a click user input action; and the second respective weight is assigned to the second training example based on the type of user input action ultimately taken on a feed item instance being a negative user action.
13. One or more non-transitory computer-readable media storing instructions for approximating a multi-objective model of a second pass ranker of a multistage feed ranking system of an online service using a single objective model at a first pass ranker of the multistage feed ranking system, the instructions, when executed by one or more processors, are capable of causing the one or more processors to perform: in a context of processing a first plurality of personalized feed requests: logging a first plurality of second pass scores generated by the second pass ranker using the multi-objective model, the first plurality of second pass scores generated by the second pass ranker for a first plurality of feed items, wherein the second pass ranker executes using one or more computer systems; and learning the single objective model based on a set of training examples and a set of labels for the set of training examples, the set of training examples corresponding to the first plurality of feed items, the set of labels based on the first plurality of second pass scores.
14. The one or more non-transitory computer-readable media of claim 13, the instructions, when executed by the one or more processors, are further capable of causing the one or more processors to perform: in a context of processing a second plurality of personalized feed requests: the first pass ranker using the trained single objective model to predict a second plurality of second pass scores for a second plurality of feed items, wherein the first pass ranker executes using one or more computer systems; in the context of processing the second plurality of personalized feed requests: the first pass ranker selecting a third plurality of feed items from the second plurality of feed items based on the second plurality of second pass scores for the second plurality of feed items; Docket No. 60352-0384 in the context of processing the second plurality of personalized feed requests: the second pass ranker using the multi-objective model to score the third plurality of feed items thereby generating a third plurality of second pass scores for the third plurality of feed items; and in the context of processing the second plurality of personalized feed requests: the second pass ranker selecting a fourth plurality of feed items, from the third plurality of feed items, to provide to viewers in personalized feeds based on the third plurality of second pass scores.
15. The one or more non-transitory computer-readable media of claim 13, the instructions, when executed by the one or more processors, are further capable of causing the one or more processors to perform: learning the single objective model based on the set of training examples and the set of labels for the set of training examples using linear regression with ridge regularization.
16. The one or more non-transitory computer-readable media of claim 13, the instructions, when executed by the one or more processors, are further capable of causing the one or more processors to perform: detecting that a click user input action was taken on a particular feed item of the first plurality of feed items; based on detecting that the click user input action was taken on the particular feed item, computing a particular label, in the set of labels, for a particular training example, in the set of training examples, corresponding to the particular feed item; and wherein the particular label is computed based on a particular second pass score, of the first plurality of second pass scores, for the particular feed item and a click bias factor.
17. The one or more non-transitory computer-readable media of claim 13, the instructions, when executed by the one or more processors, are further capable of causing the one or more processors to perform: Docket No. 60352-0384 detecting that a viral user input action was taken on a particular feed item of the first plurality of feed items; based on detecting that the viral user input action was taken on the particular feed item, selecting a particular label, in the set of labels, for a particular training example, in the set of training examples, corresponding to the particular feed item; and wherein the particular label is selected as a particular second pass score, of the first plurality of second pass scores, for the particular feed item.
18. The one or more non-transitory computer-readable media of claim 13, the instructions, when executed by the one or more processors, are further capable of causing the one or more processors to perform: detecting that no user input action was taken on a particular feed item of the first plurality of feed items; based on detecting that no user input action was taken on the particular feed item, selecting a particular label, in the set of labels, for a particular training example, in the set of training examples, corresponding to the particular feed item; and wherein the particular label selected is zero.
19. One or more non-transitory computer-readable media storing instructions for approximating a multi-objective model of a second pass ranker of a multistage feed ranking system of an online service using a single objective model at a first pass ranker of the multistage feed ranking system, the instructions, when executed by one or more processors, are capable of causing the one or more processors to perform: in a context of processing a first plurality of personalized feed requests: a second pass ranker generating a first plurality of second pass scores using the multi-objective model, the first plurality of second pass scores generated by the second pass ranker for a first plurality of feed item instances, wherein the second pass ranker executes using one or more computer systems; assigning a respective weight to each training example in a set of training examples; wherein the set of training examples corresponds to the first plurality of feed item instances; Docket No. 60352-0384 wherein, for each training example in the set of training examples, the respective weight is assigned to the training example based on a type of user input action ultimately taken on a feed item instance, of the first plurality of feed item instances, corresponding to the training example; and learning a machine learning model based on the set of training examples and the respective weights assigned to the set of training examples.
20. The one or more non-transitory computer-readable media of claim 19, the instructions, when executed by the one or more processors, are capable of causing the one or more processors to perform: in a context of processing a second plurality of personalized feed requests: the first pass ranker using the learned machine learning model to predict a plurality of positive user input action probabilities for a second plurality of feed item instances, wherein the first pass ranker executes using one or more computer systems; in the context of processing the second plurality of personalized feed requests: the first pass ranker selecting a third plurality of feed item instances from the second plurality of feed item instances based on the plurality of positive user input action probabilities for the second plurality of feed item instances; in the context of processing the second plurality of personalized feed requests: the second pass ranker using the multi-objective model to score the third plurality of feed item instances thereby generating a second plurality of second pass scores for the third plurality of feed item instances; and in the context of processing the second plurality of personalized feed requests: the second pass ranker selecting a fourth plurality of feed item instances, from the third plurality of feed item instances, to provide to viewers in personalized feeds based on the second plurality of second pass scores.
21. The one or more non-transitory computer-readable media of claim 19, wherein the machine learning model is a logistic regression model.
22. The one or more non-transitory computer-readable media of claim 19, wherein: the assigning a respective weight to each training example in a set of training examples is based on: assigning a first respective weight to a first training example in the set of training examples, and assigning a second respective weight to a second training example in the set of training examples; and wherein the first respective weight is different than the second respective weight.
23. The one or more non-transitory computer-readable media of claim 22, wherein: the first respective weight is numerically greater than the second respective weight; the first respective weight is assigned to the first training example based on the type of user input action ultimately taken on a feed item instance being a viral user input action; and the second respective weight is assigned to the second training example based on the type of user input action ultimately taken on a feed item instance being a click user input action.
24. The one or more non-transitory computer-readable media of claim 22, wherein: the first respective weight is numerically greater than the second respective weight; the first respective weight is assigned to the first training example based on the type of user input action ultimately taken on a feed item instance being a click user input action; and the second respective weight is assigned to the second training example based on the type of user input action ultimately taken on a feed item instance being a negative user action.
</claims>
</document>
