<document>

<filing_date>
2018-11-16
</filing_date>

<publication_date>
2020-08-04
</publication_date>

<priority_date>
2017-11-27
</priority_date>

<ipc_classes>
G05B13/02,G05B13/04,H02J3/00,H02J3/30,H02J3/32
</ipc_classes>

<assignee>
IHI (ISHIKAWAJIMA-HARIMA HEAVY INDUSTRIES)
</assignee>

<inventors>
CRANE, SERGEY
DOHERTY, TRISTAN
FERRARA, MARCO
KOGUMA, YUJI
</inventors>

<docdb_family_id>
66631704
</docdb_family_id>

<title>
System and method for optimal control of energy storage system
</title>

<abstract>
Systems and methods for optimal control of one or more energy storage systems are provided. Based on live, historical, and/or forecast data received from one or more data sources, one or more forecasts of one or more parameters relating to the operation of the one or more energy storage systems and an associated forecast uncertainty may be calculated by various forecasting techniques. Using one or more optimization techniques, an optimal dispatch schedule for the operation of the one or more energy storage systems may be created based on the forecasts. The optimal dispatch schedule may be used to determine one or more energy storage system parameters, which are used to control the operation of the energy storage systems.
</abstract>

<claims>
1. A method for controlling an operation of one or more energy storage systems, the method comprising the steps of: (a) receiving, at a computer system including at least one computer, live, historical, or forecast data related to the operation of the one or more energy storage systems from one or more data sources; (b) calculating, by the computer system, one or more forecasts of one or more parameters relating to the operation of the one or more energy storage systems and an associated forecast uncertainty using one or more forecasting techniques based on the received live, historical, or forecast data; (c) determining, by the computer system, an optimal dispatch schedule for the operation of the one or more energy storage systems based on the one or more forecasts, wherein determining the optimal dispatch schedule includes: (i) generating, by the computer system, one or more forecast scenarios using at least one of single forecast pass-through technique, Monte-Carlo scenario generation technique and chance constrained optimization constraint generation technique; (ii) selecting, by the computer system, one or more sets of the generated one or more forecast scenarios for optimization; (iii) generating, by the computer system, one or more dispatch schedules by applying one or more optimization techniques to the selected one or more sets of the generated one or more forecast scenarios, wherein the one or more optimization techniques comprise at least one of fixed rule scheduler, forecast-based rule scheduler, non-linear multiple rule optimization scheduler, non-linear economic optimization scheduler and neural network scheduler; and (iv) aggregating, by the computer system, the one or more dispatch schedules using averaging, weighted averaging, time-variable weighted averaging, condition variable weighted averaging, or neural network to produce the optimal dispatch schedule; (d) using, by the computer system, the optimal dispatch schedule to determine one or more energy storage system parameters; and (e) sending, by the computer system, the one or more energy storage system parameters to the one or more energy storage systems to control the operation of the one or more energy storage systems.
2. The method of claim 1, wherein the one or more forecasting techniques comprise at least one of third party forecast pass-through technique, multiple third party forecasts aggregation technique, historical average forecast technique, linear regression forecast technique, linear regression with historical average residual forecast technique and neural network forecast technique.
3. The method of claim 1, wherein the step (b) of calculating one or more forecasts comprises aggregating, by the computer system, the calculated one or more forecasts using averaging, weighted averaging, time-variable weighted averaging, condition variable weighted averaging, or neural network.
4. The method of claim 1, wherein the one or more energy storage system parameters comprise real power or reactive power.
5. The method of claim 1, wherein the step (d) of using the optimal dispatch schedule comprises selecting, by the computer system, one or more modes and one or more mode parameters based on the optimal dispatch schedule and the live data received from the one or more data sources, wherein the modes comprise standby mode, manual mode, load leveling mode, peak shaving mode, trough filling mode, state of charge (SOC) maintenance mode and ramp-rate management mode, and the mode parameters comprise real and reactive power, target grid net real power, maximum grid net real power, minimum grid net real power, target state of charge and maximum grid net real power rate of change.
6. The method of claim 1, wherein: the live, historical, or forecast data in step (a) comprises live, historical, or third party forecast data relating to energy price for real-time markets, energy price for day-ahead markets, ancillary services price for real-time markets, ancillary services price for day-ahead markets, weather, electricity demand and power generator availability.
7. The method of claim 1, wherein: the live, historical, or forecast data in step (a) comprises live, historical, or third party forecast data relating to net substation load, solar generation and temperature.
8. The method of claim 1, wherein: the one or more energy storage systems comprise a battery system comprising one or more inverters and one or more battery management controllers.
9. The method of claim 1, wherein the one or more parameters in step (b) comprise at least one of grid net load, renewable generation, non-renewable generation, market pricing and customer load.
10. The method of claim 1, wherein the step (b) of calculating one or more forecasts comprises generating, by the computer system, a new forecast as soon as new relevant data is available, on a fixed schedule, or on an as-needed manually controlled basis.
11. The method of claim 1, wherein the live data comprises data relating to at least one of weather conditions, electrical generation, third-party forecasts, grid load conditions, energy storage conditions, market conditions and utility/independent system operators (ISO) signals.
12. The method of claim 1, wherein the historical data comprises data relating to at least one of weather conditions, electrical generation, third-party forecasts, grid load conditions, energy storage conditions, market conditions and utility/independent system operators (ISO) signals.
13. The method of claim 1, wherein the step (c) of determining an optimal dispatch schedule comprises generating, by the computer system, a new optimal dispatch schedule as soon as new relevant data is available, on a fixed schedule, or on an as-needed manually controlled basis.
14. A computer system for controlling an operation of one or more energy storage systems, the computer system comprising: one or more processors; and one or more memories operatively connected to the one or more processors and having stored thereon instructions that are executable by the one or more processors to cause the computer system to perform the steps of: (a) receiving, at the computer system, live, historical, or forecast data related to the operation of the one or more energy storage systems from one or more data sources; (b) calculating, by the computer system, one or more forecasts of one or more parameters relating to the operation of the one or more energy storage systems and an associated forecast uncertainty using one or more forecasting techniques based on the received live, historical, or forecast data; (c) determining, by the computer system, an optimal dispatch schedule for the operation of the one or more energy storage systems based on the one or more forecasts, wherein determining an optimal dispatch schedule includes: (i) generating, by the computer system, one or more forecast scenarios using at least one of single forecast pass-through technique, Monte-Carlo scenario generation technique and chance constrained optimization constraint generation technique; (ii) selecting, by the computer system, one or more sets of the generated one or more forecast scenarios for optimization; (iii) generating, by the computer system, one or more dispatch schedules by applying one or more optimization techniques to the selected one or more sets of the generated one or more forecast scenarios, wherein the one or more optimization techniques comprise at least one of fixed rule scheduler, forecast-based rule scheduler, non-linear multiple rule optimization scheduler, non-linear economic optimization scheduler and neural network scheduler; and (iv) aggregating, by the computer system, the one or more dispatch schedules using averaging, weighted averaging, time-variable weighted averaging, condition variable weighted averaging, or neural network to produce the optimal dispatch schedule; (d) using, by the computer system, the optimal dispatch schedule to determine one or more energy storage system parameters; and (e) sending, by the computer system, the one or more energy storage system parameters to the one or more energy storage systems to control the operation of the one or more energy storage systems.
15. The computer system of claim 14, further comprising a data historian comprising one or more data stores operatively connected to at least one of the one or more processors and the one or more memories, the one or more data stores being configured to collect and store data received and generated by the computer system.
16. The computer system of claim 14, wherein the one or more forecasting techniques comprise at least one of third party forecast pass-through technique, multiple third party forecasts aggregation technique, historical average forecast technique, linear regression forecast technique, linear regression with historical average residual forecast technique and neural network forecast technique.
17. The computer system of claim 14, wherein the step (b) of calculating one or more forecasts comprises aggregating, by the computer system, the calculated one or more forecasts using averaging, weighted averaging, time-variable weighted averaging, condition variable weighted averaging, or neural network.
18. The computer system of claim 14, wherein the one or more energy storage system parameters comprise real power or reactive power.
19. The computer system of claim 14, wherein the step (d) of using the optimal dispatch schedule comprises selecting, by the computer system, one or more modes and one or more mode parameters based on the optimal dispatch schedule and the live data received from the one or more data sources, wherein the modes comprise standby mode, manual mode, load leveling mode, peak shaving mode, trough filling mode, state of charge (SOC) maintenance mode and ramp-rate management mode, and the mode parameters comprise real and reactive power, target grid net real power, maximum grid net real power, minimum grid net real power, target state of charge and maximum grid net real power rate of change.
20. The computer system of claim 14, wherein: the live, historical, or forecast data in step (a) comprises live, historical, or third party forecast data relating to energy price for real-time markets, energy price for day-ahead markets, ancillary services price for real-time markets, ancillary services price for day-ahead markets, weather, electricity demand and power generator availability.
21. The computer system of claim 14, wherein: the live, historical, or forecast data in step (a) comprises live, historical, or third party forecast data relating to net substation load, solar generation and temperature.
22. The computer system of claim 14, wherein: the one or more energy storage systems comprise a battery system comprising one or more inverters and one or more battery management controllers.
23. The computer system of claim 14, wherein the one or more parameters in step (b) comprise at least one of grid net load, renewable generation, non-renewable generation, market pricing and customer load.
24. The computer system of claim 14, wherein the step (b) of calculating one or more forecasts comprises generating, by the computer system, a new forecast as soon as new relevant data is available, on a fixed schedule, or on an as-needed manually controlled basis.
25. The computer system of claim 14, wherein the live data comprises data relating to at least one of weather conditions, electrical generation, third-party forecasts, grid load conditions, energy storage conditions, market conditions and utility/independent system operators (ISO) signals.
26. The computer system of claim 14, wherein the historical data comprises data relating to at least one of weather conditions, electrical generation, third-party forecasts, grid load conditions, energy storage conditions, market conditions and utility/independent system operators (ISO) signals.
27. The computer system of claim 14, wherein the step (c) of determining an optimal dispatch schedule comprises generating, by the computer system, a new optimal dispatch schedule as soon as new relevant data is available, on a fixed schedule, or on an as-needed manually controlled basis.
28. The computer system of claim 14, further comprising a data input interface operatively connected to at least one of the one or more processors and the one or more memories, the data input interface being configured to receive the live, historical, or forecast data from the one or more data sources.
29. The computer system of claim 28, wherein the data input interface is configured to detect missing metadata associated with the received live, historical, or forecast data and add the missing metadata to the received live, historical, or forecast data.
30. The computer system of claim 14, further comprising a user visualization and control interface operatively connected to at least one of the one or more processors and the one or more memories.
31. The computer system of claim 30, wherein the user visualization and control interface comprises a web-based graphical user interface displayed on a display device.
32. A non-transitory computer readable medium having stored thereon program code configured for execution by a computer system comprising at least one computer, wherein, when executed by the computer system, the program code causes the computer system to perform a method for controlling an operation of one or more energy storage systems, the method comprising the steps of: (a) receiving, at the computer system, live, historical, or forecast data related to the operation of the one or more energy storage systems from one or more data sources; (b) calculating, by the computer system, one or more forecasts of one or more parameters relating to the operation of the one or more energy storage systems and an associated forecast uncertainty using one or more forecasting techniques based on the received live, historical, or forecast data; (c) determining, by the computer system, an optimal dispatch schedule for the operation of the one or more energy storage systems based on the one or more forecasts, wherein determining an optimal dispatch schedule includes: (i) generating, by the computer system, one or more forecast scenarios using at least one of single forecast pass-through technique, Monte-Carlo scenario generation technique and chance constrained optimization constraint generation technique; (ii) selecting, by the computer system, one or more sets of the generated one or more forecast scenarios for optimization; (iii) generating, by the computer system, one or more dispatch schedules by applying one or more optimization techniques to the selected one or more sets of the generated one or more forecast scenarios, wherein the one or more optimization techniques comprise at least one of fixed rule scheduler, forecast-based rule scheduler, non-linear multiple rule optimization scheduler, non-linear economic optimization scheduler and neural network scheduler; and (iv) aggregating, by the computer system, the one or more dispatch schedules using averaging, weighted averaging, time-variable weighted averaging, condition variable weighted averaging, or neural network to produce the optimal dispatch schedule; (d) using, by the computer system, the optimal dispatch schedule to determine one or more energy storage system parameters; and (e) sending, by the computer system, the one or more energy storage system parameters to the one or more energy storage systems to control the operation of the one or more energy storage systems.
33. The computer readable medium of claim 32, wherein the one or more energy storage system parameters comprise real power or reactive power.
34. The computer readable medium of claim 32, wherein the step (c) of determining an optimal dispatch schedule comprises generating, by the computer system, a new optimal dispatch schedule as soon as new relevant data is available, on a fixed schedule, or on an as-needed manually controlled basis.
35. The computer readable medium of claim 32, wherein the one or more forecasting techniques comprise at least one of third party forecast pass-through technique, multiple third party forecasts aggregation technique, historical average forecast technique, linear regression forecast technique, linear regression with historical average residual forecast technique and neural network forecast technique.
36. The computer readable medium of claim 32, wherein the step (b) of calculating one or more forecasts comprises aggregating, by the computer system, the calculated one or more forecasts using averaging, weighted averaging, time-variable weighted averaging, condition variable weighted averaging, or neural network.
37. The computer readable medium of claim 32, wherein generating one or more forecast scenarios includes using at least one of single forecast pass-through technique, Monte-Carlo scenario generation technique and chance constrained optimization constraint generation technique.
38. The computer readable medium of claim 32, wherein the step (d) of using the optimal dispatch schedule comprises selecting, by the computer system, one or more modes and one or more mode parameters based on the optimal dispatch schedule and the live data received from the one or more data sources, wherein the one or more modes comprise at least one of standby mode, manual mode, load leveling mode, peak shaving mode, trough filling mode, state of charge (SOC) maintenance mode or ramp-rate management mode, and the one or more mode parameters comprise at least one of real and reactive power, target grid net real power, maximum grid net real power, minimum grid net real power, target state of charge or maximum grid net real power rate of change.
39. The computer readable medium of claim 32, wherein: the live, historical, or forecast data in step (a) comprises live, historical, or third party forecast data relating to energy price for real-time markets, energy price for day-ahead markets, ancillary services price for real-time markets, ancillary services price for day-ahead markets, weather, electricity demand and power generator availability.
40. The computer readable medium of claim 32, wherein: the live, historical, or forecast data in step (a) comprises live, historical, or third party forecast data relating to net substation load, solar generation and temperature.
41. The computer readable medium of claim 32, wherein: the one or more energy storage systems comprise a battery system comprising one or more inverters and one or more battery management controllers.
42. The computer readable medium of claim 32, wherein the one or more parameters in step (b) comprise at least one of grid net load, renewable generation, non-renewable generation, market pricing and customer load.
43. The computer readable medium of claim 32, wherein the step (b) of calculating one or more forecasts comprises generating, by the computer system, a new forecast as soon as new relevant data is available, on a fixed schedule, or on an as-needed manually controlled basis.
44. The computer readable medium of claim 32, wherein the received live data comprises data relating to at least one of weather conditions, electrical generation, third-party forecasts, grid load conditions, energy storage conditions, market conditions or utility/independent system operators (ISO) signals.
45. The computer readable medium of claim 32, wherein the received historical data comprises data relating to at least one of weather conditions, electrical generation, third-party forecasts, grid load conditions, energy storage conditions, market conditions or utility/independent system operators (ISO) signals.
46. A method for controlling an operation of one or more energy storage systems, the method comprising the steps of: (a) receiving, at a computer system including at least one computer, live, historical, or forecast data related to the operation of the one or more energy storage systems from one or more data sources, the live, historical, or forecast data including live, historical, or third party forecast data relating to energy price for real-time markets, energy price for day-ahead markets, ancillary services price for real-time markets, ancillary services price for day-ahead markets, weather, electricity demand and power generator availability; (b) calculating, by the computer system, one or more forecasts of one or more parameters relating to the operation of the one or more energy storage systems and an associated forecast uncertainty using one or more forecasting techniques based on the received live, historical, or forecast data, the one or more forecasting techniques including a neural network forecast technique; (c) determining, by the computer system, an optimal dispatch schedule for the operation of the one or more energy storage systems based on the one or more forecasts, wherein determining the optimal dispatch schedule includes: (i) generating, by the computer system, one or more forecast scenarios for the energy price for real-time markets, the energy price for day-ahead markets, the ancillary services price for real-time markets and the ancillary services price for day-ahead markets using Monte-Carlo scenario generation technique; (ii) generating, by the computer system, one or more sets of the generated one or more forecast scenarios that are more similar to one another, more different from one another, or randomly distributed across the generated one or more forecast scenarios; (iii) generating, by the computer system, one or more dispatch schedules by applying non-linear economic optimization scheduler to the selected one or more sets of the generated one or more forecast scenarios; and (iii) averaging, by the computer system, the generated one or more dispatch schedules to produce the optimal dispatch schedule; (d) using, by the computer system, the optimal dispatch schedule to determine one or more energy storage system parameters; and (e) sending, by the computer system, the one or more energy storage system parameters to the one or more energy storage systems to control the operation of the one or more energy storage systems.
47. A method for controlling an operation of one or more energy storage systems, the method comprising the steps of: (a) receiving, at a computer system including at least one computer, live, historical, or forecast data related to the operation of the one or more energy storage systems from one or more data sources, the live, historical, or forecast data including live, historical, or third party forecast data relating to net substation load, solar generation and temperature; (b) calculating, by the computer system, one or more forecasts of one or more parameters relating to the operation of the one or more energy storage systems and an associated forecast uncertainty using one or more forecasting techniques based on the received live, historical, or forecast data, wherein calculating the one or more forecasts includes: creating, by the computer system, at least two forecasts for the net substation load by simultaneously using linear regression with historical average residual forecast technique and neural network forecast technique, and producing, by the computer system, the one or more forecasts by either selecting one of the at least two forecasts based on historically expected uncertainty associated with each of the at least two forecasts based on historically expected uncertainty associated with each of the at least two forecasts, or averaging the at least two forecasts; (c) determining, by the computer system, an optimal dispatch schedule for the operation of the one or more energy storage systems based on the one or more forecasts, wherein determining the optimal dispatch schedule includes: (i) generating, by the computer system, a predetermined number of forecast scenarios for the net substation load using Monte-Carlo scenario generation technique; (ii) selecting, by the computer system, a subset of the generated predetermined number of forecast scenarios based on system configuration, available computational time and resources, or reported forecast uncertainty; (iii) generating, by the computer system, a dispatch schedule for each of the selected subset of the generated predetermined number of forecast scenarios by using non-linear multiple rule optimization scheduler to minimize a peak net substation load after the operation of the one or more energy storage systems; and (iv) averaging, by the computer system, the generated dispatch schedules for the selected subset of the generated predetermined number of forecast scenarios to produce the optimal dispatch schedule; (d) using, by the computer system, the optimal dispatch schedule to determine one or more energy storage system parameters; and (e) sending, by the computer system, the one or more energy storage system parameters to the one or more energy storage systems to control the operation of the one or more energy storage systems.
48. A method for controlling an operation of one or more energy storage systems, the one or more energy storage systems including a battery system having one or more inverters and one or more battery management controllers, the method comprising the steps of: (a) receiving, at a computer system including at least one computer, live, historical, or forecast data related to the operation of the one or more energy storage systems from one or more data sources, the live, historical, or forecast data including live, historical, or third party forecast data relating to weather and load; (b) calculating, by the computer system, one or more forecasts of one or more parameters relating to the operation of the one or more energy storage systems and an associated forecast uncertainty using one or more forecasting techniques based on the received live, historical, or forecast data, the calculating the one or more forecasts including producing, by the computer system, the one or more forecasts by calculating probability of a system peak occurring in each of next twenty-four hours using neural network forecast technique based on the received live, historical, or third party forecast data relating to weather and load; (c) determining, by the computer system, an optimal dispatch schedule for the operation of the one or more energy storage systems based on the one or more forecasts, wherein determining the optimal dispatch schedule includes: determining, by the computer system, the optimal dispatch schedule based on the one or more forecasts using a forecast based rule scheduler to minimize customer load and maximize an output of the one or more energy storage systems during a peak hour; (d) using, by the computer system, the optimal dispatch schedule to determine one or more energy storage system parameters, wherein using the optimal dispatch schedule to determine one or more energy storage system parameters includes: determining, by the computer system, real power and reactive power to input or extract from a grid or a microgrid connected to the battery system based on the optimal dispatch schedule and the live data received from the one or more data sources; and (e) sending, by the computer system, the one or more energy storage system parameters to the one or more energy storage systems to control the operation of the one or more energy storage systems.
49. A computer system for controlling an operation of one or more energy storage systems, the computer system comprising: one or more processors; and one or more memories operatively connected to the one or more processors and having stored thereon instructions that are executable by the one or more processors to cause the computer system to perform the steps of: (a) receiving, at the computer system, live, historical, or forecast data related to the operation of the one or more energy storage systems from one or more data sources, the live, historical, or forecast data including live, historical, or third party forecast forecast data relating to energy price for real-time markets, energy price for day-ahead markets, ancillary services price for real-time markets, ancillary services price for day-ahead markets, weather, electricity demand and power generator availability; (b) calculating, by the computer system, one or more forecasts of one or more parameters relating to the operation of the one or more energy storage systems and an associated forecast uncertainty using one or more forecasting techniques based on the received live, historical, or forecast data, the one or more forecasting techniques including neural network forecast technique; (c) determining, by the computer system, an optimal dispatch schedule for the operation of the one or more energy storage systems based on the one or more forecasts, wherein determining the optimal dispatch schedule includes: (i) generating, by the computer system, one or more forecast scenarios for the energy price for real-time markets, the energy price for day-ahead markets, the ancillary services price for real-time markets and the ancillary services price for day-ahead markets using Monte-Carlo scenario generation technique; (ii) generating, by the computer system, one or more sets of the generated one or more forecast scenarios that are more similar to one another, more different from one another, or randomly distributed across the generated one or more forecast scenarios; (iii) generating, by the computer system, one or more dispatch schedules by applying non-linear economic optimization scheduler to a selected one or more sets of the generated one or more forecast scenarios; and (iv) averaging, by the computer system, the generated one or more dispatch schedules to produce the optimal dispatch schedule; (d) using, by the computer system, the optimal dispatch schedule to determine one or more energy storage system parameters; and (e) sending, by the computer system, the one or more energy storage system parameters to the one or more energy storage systems to control the operation of the one or more energy storage systems.
50. A computer system for controlling an operation of one or more energy storage systems, the computer system comprising: one or more processors; and one or more memories operatively connected to the one or more processors and having stored thereon instructions that are executable by the one or more processors to cause the computer system to perform the steps of: (a) receiving, at the computer system, live, historical, or forecast data related to the operation of the one or more energy storage systems from one or more data sources, the live, historical, or forecast data including live, historical, or third party forecast data relating to net substation load, solar generation and temperature; (b) calculating, by the computer system, one or more forecasts of one or more parameters relating to the operation of the one or more energy storage systems and an associated forecast uncertainty using one or more forecasting techniques based on the received live, historical, or forecast data, wherein calculating the one or more forecasts includes: creating, by the computer system, at least two forecasts for the net substation load by simultaneously using linear regression with historical average residual forecast technique and neural network forecast technique; and producing, by the computer system, the one or more forecasts by either selecting one of at least two forecasts based on historically expected uncertainty associated with each of the at least two forecasts, or averaging the at least two forecasts; (c) determining, by the computer system, an optimal dispatch schedule for the operation of the one or more energy storage systems based on the one or more forecasts, wherein determining the optimal dispatch schedule includes: (i) generating, by the computer system, a predetermined number of forecast scenarios for the next substation load using Monte-Carlo scenario generation technique; (ii) selecting, by the computer system, a subset of the generated predetermined number of forecast scenarios based on system configuration, available computational time and resources, or reported forecast uncertainty; (iii) generating, by the computer system, a dispatch schedule for each of the selected subset of the generated predetermined number of forecast scenarios by using non-linear multiple rule optimization scheduler to minimize peak net substation load after the operation of the one or more energy storage systems; and (iv) averaging, by the computer system, the generated dispatch schedules for the selected subset of the generated predetermined number of forecast scenarios to produce the optimal dispatch schedule; (d) using, by the computer system, the optimal dispatch schedule to determine one or more energy storage system parameters; and (e) sending, by the computer system, the one or more energy storage system parameters to the one or more energy storage systems to control the operation of the one or more energy storage systems.
51. A computer system for controlling an operation of one or more energy storage systems, the computer system comprising: one or more processors; and one or more memories operatively connected to the one or more processors and having stored thereon instructions that are executable by the one or more processors to cause the computer system to perform the steps of: (a) receiving, at the computer system, live, historical, or forecast data related to the operation of the one or more energy storage systems from one or more data sources, the live, historical, or forecast data including live, historical, or third party forecast data relating to weather and load; (b) calculating, by the computer system, one or more forecasts of one or more parameters relating to the operation of the one or more energy storage systems and an associated forecast uncertainty using one or more forecasting techniques based on the received live, historical, or forecast data, the calculating the one or more forecasts including producing, by the computer system, the one or more forecasts by calculating probability of a system peak occurring in each of next twenty-four hours using neural network forecast technique based on the received live, historical, or third party forecast data relating to weather and load; (c) determining, by the computer system, an optimal dispatch schedule for the operation of the one or more energy storage systems based on the one or more forecasts, wherein determining an optimal dispatch schedule includes: determining, by the computer system, the optimal dispatch schedule based on the one or more forecasts using a forecast based rule scheduler to minimize customer load and maximize an output of the one or more energy storage systems during a peak hour; (d) using, by the computer system, the optimal dispatch schedule to determine one or more energy storage system parameters, wherein using the optimal dispatch schedule to determine one or more energy storage system parameters includes: determining, by the computer system, real power and reactive power to input or extract from a grid or microgrid connected to the battery system based on the optimal dispatch schedule and the live data received from the one or more data sources; and (e) sending, by the computer system, the one or more energy storage system parameters to the one or more energy storage systems to control the operation of the one or more energy storage systems.
52. A non-transitory computer readable medium having stored thereon program code configured for execution by a computer system comprising at least one computer, wherein, when executed by the computer system, the program code causes the computer system to perform a method for controlling an operation of one or more energy storage systems, the method comprising the steps of: (a) receiving, at the computer system, live, historical, or forecast data related to the operation of the one or more energy storage systems from one or more data sources, the live, historical, or forecast data including live, historical, or third party forecast data relating to energy price for real-time markets, energy price for day-ahead markets, ancillary services price for real-time markets, ancillary services price for day-ahead markets, weather, electricity demand and power generator availability; (b) calculating, by the computer system, one or more forecasts of one or more parameters relating to the operation of the one or more energy storage systems and an associated forecast uncertainty using one or more forecasting techniques based on the received live, historical, or forecast data, the one or more forecasting techniques including a neural network forecast technique; (c) determining, by the computer system, an optimal dispatch schedule for the operation of the one or more energy storage systems based on the one or more forecasts, wherein determining an optimal dispatch schedule includes: (i) generating, by the computer system, one or more forecast scenarios for the energy price for real-time markets, the energy price for day-ahead markets, the anciallary services price for real-time markets and the ancillary services price for day-ahead markets using Monte-Carlo scenario generation technique; (ii) selecting, by the computer system, one or more sets of the generated one or more forecast scenarios that are more similar to one another, more different from one another, or randomly distributed across the generated one or more forecast scenarios; (iii) generating, by the computer system, one or more dispatch schedules by applying non-linear economic optimization scheduler to a selected one or more sets of the generated one or more forecast scenarios; and (iv) averaging, by the computer system, the generated one or more dispatch schedules to produce the optimal dispatch schedule; (d) using, by the computer system, the optimal dispatch schedule to determine one or more energy storage system parameters; and (e) sending, by the computer system, the one or more energy storage system parameters to the one or more energy storage systems to control the operation of the one or more energy storage systems.
53. A non-transitory computer readable medium having stored thereon program code configured for execution by a computer system comprising at least one computer, wherein, when executed by the computer system, the program code causes the computer system to perform a method for controlling an operation of one or more energy storage systems, the method comprising the steps of: (a) receiving, at the computer system, live, historical, or forecast data related to the operation of the one or more energy storage systems from one or more data sources, the live, historical, or forecast data including live, historical, or third party forecast data relating to net substation load, solar generation and temperature; (b) calculating, by the computer system, one or more forecasts of one or more parameters relating to the operation of the one or more energy storage systems and an associated forecast uncertainty using one or more forecasting techniques based on the received live, historical, or forecast data, wherein calculating the one or more forecasts includes: creating, by the computer system, at least two forecasts for the net substation load by simultaneously using linear regression with historical average residual forecast technique and neural network forecast technique; and producing, by the computer system, the one or more forecasts by either selecting one of at least two forecasts for net substation load based on historically expected uncertainty associated with each of the at least two forecasts, or averaging the at least two forecasts; (c) determining, by the computer system, an optimal dispatch schedule for the operation of the one or more energy storage systems based on the one or more forecasts, wherein determining an optimal dispatch schedule includes: (i) generating, by the computer system, a predetermined number of forecast scenarios for the net substation load using Monte-Carlo scenario generation technique; (ii) selecting, by the computer system, a subset of the generated predetermined number of forecast scenarios based on system configuration, available computational time and resources, or reported forecast uncertainty; (iii) generating, by the computer system, a dispatch schedule for each of the selected subset of the generated predetermined number of forecast scenarios by using non-linear multiple rule optimization scheduler to minimize a peak net substation load after the operation of the one or more energy storage systems; and (iv) averaging, by the computer system, the generated dispatch schedules for the selected subset of the generated predetermined number of forecast scenarios to produce the optimal dispatch schedule; (d) using, by the computer system, the optimal dispatch schedule to determine one or more energy storage system parameters; and (e) sending, by the computer system, the one or more energy storage system parameters to the one or more energy storage systems to control the operation of the one or more energy storage systems.
54. A non-transitory computer readable medium having stored thereon program code configured for execution by a computer system comprising at least one computer, wherein, when executed by the computer system, the program code causes the computer system to perform a method for controlling an operation of one or more energy storage systems, the one or more energy storage systems including a battery system having one or more inverters and one or more battery managements controllers, the method comprising the steps of: (a) receiving, at the computer system, live, historical, or forecast data related to the operation of the one or more energy storage systems from one or more data sources, the live, historical, or forecast data including live, historical, or third party forecast data relating to weather and load; (b) calculating, by the computer system, one or more forecasts of one or more parameters relating to the operation of the one or more energy storage systems and an associated forecast uncertainty using one or more forecasting techniques based on the received live, historical, or forecast data, the calculating the one or more forecasts including producing, by the computer system, the one or more forecasts by calculating probability of a system peak occurring in each of next twenty-four hours using neural network forecast technique based on the received live, historical, or third party forecast data relating to weather and load; (c) determining, by the computer system, an optimal dispatch schedule for the operation of the one or more energy storage systems based on the one or more forecasts, wherein determining the optimal dispatch schedule includes: determining, by the computer system, the optimal dispatch schedule based on the one or more forecasts using a forecast based rule scheduler to minimize customer load and maximize an output of the one or more energy storage systems during a peak hour; (d) using, by the computer system, the optimal dispatch schedule to determine one or more energy storage system parameters, wherein using the optimal dispatch schedule to determine one or more energy storage system parameters includes: determining, by the computer system, real power and reactive power to input or extract from a grid or microgrid connected to the battery system based on the optimal dispatch schedule and the live data received from the one or more data sources; and (e) sending, by the computer system, the one or more energy storage system parameters to the one or more energy storage systems to control the operation of the one or more energy storage systems.
</claims>
</document>
