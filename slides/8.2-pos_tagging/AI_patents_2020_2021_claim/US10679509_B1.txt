<document>

<filing_date>
2016-09-20
</filing_date>

<publication_date>
2020-06-09
</publication_date>

<priority_date>
2016-09-20
</priority_date>

<ipc_classes>
G08G5/00,H04L29/08
</ipc_classes>

<assignee>
AMAZON TECHNOLOGIES
</assignee>

<inventors>
YARLAGADDA, PRADEEP KRISHNA
</inventors>

<docdb_family_id>
70973086
</docdb_family_id>

<title>
Autonomous UAV obstacle avoidance using machine learning from piloted UAV flights
</title>

<abstract>
A machine learning engine may correlate characteristics of obstacles identified during remotely piloted UAV flights with manual course deviations performed for obstacle avoidance. An obstacle detection application may access computer vision footage to determine notable characteristics (e.g. a direction of travel and/or velocity) of obstacles identified during the piloted UAV flights. A deviation characteristics application may access flight path information identify course deviations performed by a pilot in response to the obstacles. A machine learning engine may use the obstacle characteristic data and the deviation characteristics data as training data to generate an optimal course deviation model to use by an autopilot module to autonomously avoid obstacles during autonomous UAV flights. In creating the optimal deviation model, the training data may be processed by the machine learning engine to identify correlations between certain types of manual course deviations performed to avoid certain types of obstacles.
</abstract>

<claims>
1. A system comprising: one or more processors; and memory storing computer-executable instructions that, when executed, cause the one or more processors to perform acts comprising: creating training data, wherein the creating the training data comprises: accessing computer vision footage corresponding to remotely piloted unmanned aerial vehicle (UAV) flights to identify a plurality of obstacles; and identifying, based at least in part on flight path information corresponding to the remotely piloted UAV flights, a plurality of manual course deviations performed during the remotely piloted UAV flights in response to the plurality of obstacles; creating, using a machine learning engine, an optimal deviation model based at least in part on the training data, wherein the creating the optimal deviation model comprises: analyzing the computer vision footage with respect to the plurality of manual course deviations to determine a plurality of indicators corresponding to the plurality of obstacles; and creating a regression function that uses occurrences of individual indicators, of the plurality of indicators, as inputs to calculate optimal course deviations based at least in part on corresponding degrees of the occurrences of the individual indicators; and deploying the optimal deviation model during an autonomous UAV flight of a UAV, wherein deploying the optimal deviation model comprises: monitoring new computer vision footage corresponding to the autonomous UAV flight to identify new occurrences of the individual indicators in association with a new obstacle; calculating, using the regression function and at least one corresponding degree of the new occurrences of the individual indicators, a new optimal course deviation for avoidance of the new obstacle; and causing the new optimal course deviation to be performed during the autonomous UAV flight.
2. The system as recited in claim 1, wherein the at least one corresponding degree corresponds to a distance between the new obstacle and the UAV during the autonomous UAV flight, and wherein the new optimal course deviation includes at least an angular deviation from at least a portion of a course of the autonomous UAV flight, the angular deviation being inversely related to the distance between the new obstacle and the UAV.
3. The system as recited in claim 1, wherein the plurality of indicators includes at least a first indicator and a second indicator associated with the new obstacle, and wherein the optimal deviation model applies at least a first weight to the first indicator and a second weight to the second indicator in calculation of the new optimal course deviation.
4. The system as recited in claim 1, wherein the acts further comprise: accessing sensor data corresponding to the plurality of manual course deviations performed during the remotely piloted UAV flights, the sensor data including at least accelerometer data; and classifying, based at least in part on the sensor data, a first set of the plurality of manual course deviations as stable course deviations and a second set of the plurality of manual course deviations as unstable course deviations.
5. The system as recited in claim 4, wherein the regression function is based at least in part on the classifying to calculate the optimal course deviations based at least in part on the stable course deviations.
6. A method comprising: identifying, based at least in part on recorded flight data corresponding to piloted unmanned aerial vehicle (UAV) flights and computer vision footage corresponding to the piloted UAV flights, a plurality of indicators associated with obstacles to be avoided, wherein individual indicators of the plurality of indicators correlate with one or more manual course deviations performed during the piloted UAV flights in response to the obstacles to be avoided; determining, using a machine learning engine and based at least in part on the one or more manual course deviations, an optimal deviation model to calculate optimal course deviations based at least in part on occurrences of the individual indicators during an autonomous UAV flight of a UAV, the autonomous UAV flight being different than the piloted UAV flights; and deploying the optimal deviation model during the autonomous UAV flight, wherein deploying the optimal deviation model comprises: monitoring new flight data corresponding to the autonomous UAV flight to identify new occurrences of the individual indicators in association with a new obstacle to be avoided, the new flight data including computer vision footage of the autonomous UAV flight; determining, based at least in part on using the new occurrences of the individual indicators as inputs to the optimal deviation model, a new optimal course deviation for avoidance of the new obstacle to be avoided; and causing the UAV to perform the new optimal course deviation during the autonomous UAV flight to avoid the new obstacle.
7. The method as recited in claim 6, further comprising: accessing sensor data corresponding to the one or more manual course deviations performed during the piloted UAV flights; determining, based at least in part on the sensor data, first stability scores associated with a first maneuver type and second stability scores associated with a second maneuver type; and wherein the determining of the new optimal course deviation further comprises selecting, based at least on a corresponding degree of the new occurrences and the first stability scores and the second stability scores, at least one of the first maneuver type or the second maneuver type to include in the new optimal course deviation.
8. The method as recited in claim 6, further comprising: determining first resource-expenditures (REs) associated with a first maneuver type and second REs associated with a second maneuver type; and wherein the determining of the new optimal course deviation is further based at least in part on comparing available resources, associated with the autonomous UAV flight, to at least one of the first REs or the second REs to select at least one of the first maneuver type or the second maneuver type to include in the new optimal course deviation.
9. The method as recited in claim 6, further comprising: determining, based at least in part on the recorded flight data, a plurality of cargo configurations corresponding to the piloted UAV flights during the one or more manual course deviations; and determining a new cargo configuration corresponding to the autonomous UAV flight, wherein the new optimal course deviation is further based at least in part on the new cargo configuration.
10. The method as recited in claim 6, wherein the determining the new optimal course deviation further comprises: determining, based at least in part on the new occurrences of the individual indicators, an estimated trajectory of the new obstacle to be avoided; determining at least one of a first maneuver type or a second maneuver type to include in the new optimal course deviation; and determining at least one corresponding degree for at least one of the first maneuver type or the second maneuver type.
11. The method as recited in claim 10, wherein the first maneuver type corresponds to a horizontal course alteration, and wherein the second maneuver type corresponds to an alteration of at least one of a velocity of the UAV or an altitude of the UAV.
12. The method as recited in claim 6, wherein the determining the new optimal course deviation further comprises determining, based at least in part on the new occurrences of the individual indicators, a distance between the new obstacle to be avoided and the UAV during the autonomous UAV flight, and wherein the determining the new optimal course deviation includes calculating at least one of (i) an angular deviation from a course of the autonomous UAV flight or (ii) a speed reduction for the UAV.
13. The method as recited in claim 6, wherein the obstacles to be avoided include occurrences of lens flare during the piloted UAV flights, the one or more manual course deviations to mitigate the occurrences of lens flare, and wherein the new obstacle to be avoided is an occurrence of lens flare.
14. The method of claim 6, wherein the recorded flight data further comprises stereo vision footage of the obstacles to be avoided recorded during piloted UAV flights, and wherein the new flight data further includes substantially live stereo vision footage of the new obstacle to be avoided taken from the UAV during the autonomous UAV flight.
15. The method as recited in claim 6, wherein the determining the new optimal course deviation for avoidance of the new obstacle to be avoided is further based at least in part on a current level of on-board energy resources.
16. A system comprising: one or more processors; and memory storing computer-executable instructions that, when executed, cause the one or more processors to perform acts comprising: analyzing, using a machine learning engine, computer vision footage, of piloted unmanned aerial vehicle (UAV) flights, with respect to flight path information, of the piloted UAV flights, to identify a plurality of indicators corresponding to manual course deviations performed in response to obstacles, the plurality of indicators including at least a first indicator and a second indicator; generating, using the machine learning engine, an optimal deviation model to calculate optimal course deviations based at least in part on occurrences of individual indicators of the plurality of indicators during an autonomous UAV flight of a UAV, wherein the optimal deviation model includes at least a first weight corresponding to the first indicator and a second weight corresponding to the second indicator; and generating an autopilot module that is configured to deploy the optimal deviation model during an autonomous UAV flight of a UAV by performing operations comprising: monitoring new flight data corresponding to the autonomous UAV flight to identify new occurrences of the individual indicators in association with a new obstacle; determining, using the new occurrences as inputs to the optimal deviation model, a new optimal course deviation for avoidance of the new obstacle; and causing the UAV to perform the new optimal course deviation during the autonomous UAV flight.
17. The system as recited in claim 16, wherein the plurality of indicators includes at least one environment condition indicator, the at least one environment condition indicator including at least one of temperature indicators, barometric pressure indicators, or air density indicators.
18. The system as recited in claim 16, wherein the plurality of indicators includes at least an obstacle erraticness indicator, and wherein the new optimal course deviation provides a separation between the UAV and the new obstacle that is at least partially based at least in part on the obstacle erraticness indicator.
19. The system as recited in claim 16, wherein the generating the optimal deviation model to calculate optimal course deviations includes generating a regression model of at least some geo-coordinates corresponding to a plurality of paths of the manual course deviations.
20. The system as recited in claim 16, wherein the optimal deviation model is generated based on at least partially on a supervised learning process during which one or more human experts label various portions of training data, wherein the one or more human experts include at least one of a pilot, an engineer, or a flight coordinator.
</claims>
</document>
