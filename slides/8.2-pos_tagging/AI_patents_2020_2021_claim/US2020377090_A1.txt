<document>

<filing_date>
2020-05-21
</filing_date>

<publication_date>
2020-12-03
</publication_date>

<priority_date>
2019-05-29
</priority_date>

<ipc_classes>
B60W30/14,B60W40/105,B60W50/08,B60W60/00
</ipc_classes>

<assignee>
Hyundai-Aptiv AD LLC
</assignee>

<inventors>
SLUTSKYY, KOSTYANTYN
SECCAMONTE, FRANCESCO
</inventors>

<docdb_family_id>
73550648
</docdb_family_id>

<title>
ESTIMATING SPEED PROFILES
</title>

<abstract>
Among other things, we describe techniques for estimating a speed profile for a proposed trajectory for a vehicle and operating the vehicle along the proposed trajectory according to the speed profile, including a method for: obtaining, by a planning circuit on a vehicle, a proposed trajectory for the vehicle in response to a driving scenario; obtaining, by the planning circuit, an estimated speed profile, and a confidence score, wherein the confidence score represents a similarity of the estimated speed profile to an actual speed profile that would be generated by a control circuit for the proposed trajectory; determining whether the confidence score meets a confidence threshold; and in accordance with a determination that the confidence score exceeds the confidence threshold, operating, by a control circuit on the vehicle, the vehicle along the proposed trajectory.
</abstract>

<claims>
1. A computer-implemented method, comprising: obtaining, by a planning circuit on a vehicle, a proposed trajectory for the vehicle in response to a driving scenario; obtaining, by the planning circuit, an estimated speed profile, and a confidence score, wherein the confidence score represents a similarity of the estimated speed profile to an actual speed profile that would be generated by a control circuit for the proposed trajectory; determining whether the confidence score meets a confidence threshold; and in accordance with a determination that the confidence score exceeds the confidence threshold, operating, by a control circuit on the vehicle, the vehicle along the proposed trajectory.
2. The method of claim 1, further comprising: in accordance with a determination that the confidence score does not meet the confidence threshold: obtaining, by the planning circuit, a second trajectory based on a predetermined speed profile heuristic, and operating, by the control circuit, the vehicle along the second trajectory.
3. The method of claim 2, wherein the predetermined speed profile heuristic is an optimistic heuristic.
4. The method of claim 2, wherein the predetermined speed profile heuristic is a pessimistic speed profile heuristic.
5. The method of claim 1, wherein obtaining, by the planning circuit, an estimated speed profile and a confidence score comprises: receiving, by the control circuit, a query for the estimated speed profile, comprising data defining the driving scenario and the proposed trajectory; generating, by the control circuit, the estimated speed profile using the proposed trajectory and the data defining the driving scenario; and generating, by the control circuit, the confidence score.
6. The method of claim 5, wherein generating, by the control circuit, the estimated speed profile using the proposed trajectory and the data defining the driving scenario comprises: generating the estimated speed profile using a trained model, wherein the trained model represents a plurality of associations between a plurality of trajectories and a plurality of speed profiles, and wherein each speed profile in the plurality of speed profiles is generated by the control circuit from a respective trajectory in the plurality of trajectories.
7. The method of claim 6, wherein: the trained model is trained on a second plurality of speed profiles generated by a control circuit configured to receive data from a first perception pipeline; wherein receiving, by the planning circuit, the proposed trajectory comprises receiving the proposed trajectory using the data in the first perception pipeline.
8. The method of claim 7, wherein, the control circuit is further configured for receiving data from a second perception pipeline that is unavailable to the first perception pipeline.
9. The method of claim 1, wherein generating, by the control circuit, the confidence score comprises: obtaining a set of principal components from a principal component analysis of a plurality of speed profiles; and generating the confidence score as a variance between the set of principal components and the estimated speed profile.
10. A system comprising: a control circuit configured for: obtaining a trajectory, operating a vehicle along the trajectory, and generating a speed profile representing a velocity that the vehicle will have when the control circuit operates the vehicle along the trajectory; and a planning circuit configured for: obtaining a proposed trajectory for the vehicle in response to a driving scenario, obtaining an estimated speed profile, and a confidence score, and wherein the confidence score represents a similarity of the estimated speed profile to an actual speed profile that would be generated by the control circuit for the proposed trajectory, determining whether the confidence score meets a confidence threshold; and wherein the control circuit is further configured for, in accordance with a determination that the confidence score meets the confidence threshold, operating the vehicle along the trajectory.
11. The system of claim 10, wherein the planning circuit is further configured for: in accordance with a determination that the confidence score does not meet the confidence threshold: obtaining, by the planning circuit, a second trajectory based on a predetermined speed profile heuristic, and operating the vehicle along the second trajectory.
12. The system of any claim 11, wherein the predetermined speed profile heuristic is an optimistic heuristic.
13. The system of claim 11, wherein the predetermined speed profile heuristic is a pessimistic speed profile heuristic.
14. The system of claim 11, wherein the control circuit is further configured for: receiving a first query for an estimated speed profile, wherein the first query comprises data defining a first driving scenario and a first trajectory, and generating an estimated speed profile using the data defining the first driving scenario; and wherein obtaining, by the planning circuit, an estimated speed profile and a confidence score comprises: receiving, by the control circuit, a query for the estimated speed profile, comprising data defining the driving scenario and the proposed trajectory, generating, by the control circuit, the estimated speed profile using the proposed trajectory and the data defining the driving scenario, and generating, by the control circuit, the confidence score.
15. The system of claim 14, wherein generating, by the control circuit, the estimated speed profile using the proposed trajectory and the data defining the driving scenario comprises: generating the estimated speed profile using a trained model, wherein the trained model defines a plurality of associations between a plurality of trajectories and a plurality of speed profiles, wherein each speed profile in the plurality of speed profiles was generated by the control circuit from a respective trajectory in the plurality of trajectories.
16. The system of claim 11, wherein generating, by the control circuit, the confidence score comprises: obtaining a set of principal components from a principal component analysis of a plurality of speed profiles; and generating the confidence score as a variance between the set of principal components and the estimated speed profile.
17. The system of claim 11, wherein: the trained model is trained on training data comprising data defining a second plurality of speed profiles generated by a control circuit configured to receive data from a first perception pipeline; and wherein obtaining, by the planning circuit, the proposed trajectory comprises obtaining the proposed trajectory using the data in the first perception pipeline.
18. The system of claim 17, wherein the control circuit is further configured for: obtaining data from a second perception pipeline that is unavailable to the first perception pipeline.
19. A non-transitory computer-readable storage medium comprising one or more programs for execution by one or more processors of a first device, the one or more programs including instructions which, when executed by the one or more processors, cause the first device to perform operations comprising: obtaining, by a planning circuit on a vehicle, a proposed trajectory for the vehicle in response to a driving scenario, obtaining, by the planning circuit, an estimated speed profile, and a confidence score, wherein the confidence score represents a measure of similarity of the estimated speed profile to an actual speed profile that would be generated by a control circuit for the proposed trajectory, determining whether the confidence score that meets a confidence threshold, and in accordance with a determination that the confidence score exceeds the confidence threshold, operating, by the control circuit on the vehicle, the vehicle along the proposed trajectory.
20. The computer-readable storage medium of claim 19, wherein the operations further comprise: in accordance with a determination that the confidence score does not meet the confidence threshold: obtaining, by the planning circuit, a second trajectory based on a predetermined speed profile heuristic, and operating, by the control circuit, the vehicle along the second trajectory.
</claims>
</document>
