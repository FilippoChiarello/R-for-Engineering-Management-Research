<document>

<filing_date>
2018-09-28
</filing_date>

<publication_date>
2020-05-05
</publication_date>

<priority_date>
2018-09-28
</priority_date>

<ipc_classes>
G06F17/16,G06F9/30,G06N3/063,G11C11/418,G11C11/419,G11C11/56,G11C7/10,G11C7/12,G11C8/08
</ipc_classes>

<assignee>
INTEL CORPORATION
</assignee>

<inventors>
CHEN, GREGORY K.
KNAG, PHIL
KRISHNAMURTHY, RAM
KUMAR, RAGHAVAN
MANIPATRUNI, SASIKANTH
MATHURIYA, AMRITA
SHARMA, ABHISHEK
SUMBUL, HUSEYIN EKIN
YOUNG, IAN, A.
</inventors>

<docdb_family_id>
65897920
</docdb_family_id>

<title>
Binary, ternary and bit serial compute-in-memory circuits
</title>

<abstract>
A binary CIM circuit enables all memory cells in a memory array to be effectively accessible simultaneously for computation using fixed pulse widths on the wordlines and equal capacitance on the bitlines. The fixed pulse widths and equal capacitance ensure that a minimum voltage drop in the bitline represents one least significant bit (LSB) so that the bitline voltage swing remains safely within the maximum allowable range. The binary CIM circuit maximizes the effective memory bandwidth of a memory array for a given maximum voltage range of bitline voltage.
</abstract>

<claims>
1. An integrated circuit comprising: a memory array of memory cells to store a binary weight matrix; a memory access circuit of bitlines having equal capacitance and wordlines driven with pulses of fixed duration to activate one or more memory cells in the memory array based on an input vector, wherein the memory access circuit to enable an activated bitcell in the memory array to cause a voltage drop in a bitline to which the activated bitcell is coupled, wherein the voltage drop is equivalent to voltage drops caused by other activated memory cells in the memory array; and a capacitor circuit coupled to the bitlines to accumulate bitline voltages after voltage drops into a voltage output, the voltage output to represent a dot product of the input vector and the binary weight matrix stored in the memory array.
2. The integrated circuit of claim 1, the memory access circuit including a wordline driver to modulate the pulses of fixed duration based on the input vector, wherein the pulses to activate the one or more memory cells in the memory array based on binary weights of the binary weight matrix, the binary weights stored in the memory cells.
3. The integrated circuit of claim 2, wherein the memory array is to store multibit binary weights as a thermometer weight scalar in a same memory row of the memory array, wherein the thermometer weight scalar is to enable the voltage output to represent the dot product of the input vector and the binary weight matrix with an increase in precision.
4. The integrated circuit of claim 2, wherein the memory access circuit is further to: receive an input vector representing a multibit value stored as a thermometer input scalar; replicate binary weights of the binary weight matrix across multiple rows of the memory array of memory cells, the multiple rows corresponding to a dimension of the thermometer input scalar; and the wordline driver to modulate the pulses of fixed duration across all of the multiple rows to enable the voltage output to represent the dot product of the input vector and the binary weight matrix with an increase in precision.
5. The integrated circuit of claim 2, wherein: the input vector represents a multibit integer input value; and the capacitor circuit includes a bit serial accumulation capacitor to perform an analog bit serial accumulation operation for each bit of the multibit integer input value.
6. The integrated circuit of claim 5, wherein to perform the analog bit serial accumulation operation the capacitor circuit is to accumulate and shift values of output vectors obtained from dot products of each bit of a multibit integer input vector and the binary weight matrix, wherein accumulated and shifted values represent the dot product of the input vector and the binary weight matrix.
7. The integrated circuit of claim 1, the capacitor circuit including: a column switch capacitor coupled to a bitline to accumulate a bitline voltage after voltage drops caused by activated memory cells coupled to the bitline, an accumulated bitline voltage not exceeding an allowable voltage swing; and wherein the accumulated bitline voltage represents a positive integer value of an output vector equal to the dot product of the input vector and the binary weight matrix.
8. The integrated circuit of claim 1, wherein: binary weights of the binary weight matrix include multibit binary weights stored as binary integers in a row of consecutive memory cells spanning multiple columns of the memory array; and the capacitor circuit includes a weighted column switch capacitor for each column of memory cells, the weighted column switch capacitor capable of charge sharing with neighboring capacitors spanning the multiple columns of the memory array, the capacitor circuit to: disconnect a binary weighted fraction of each weighted column switch capacitor during charge sharing with neighboring capacitors, wherein the binary weighted fraction of each weighted column switch capacitor represents a ratio of weighted column switch capacitors across neighboring capacitors, the ratio based on a power of two.
9. The integrated circuit of claim 1, wherein: bitlines of the memory access circuit include differential bitlines to double an allowable voltage swing caused by activated memory cells; binary weights of the binary weight matrix include signed binary weights, wherein the activated bitcell in which a signed binary weight is stored is enabled to cause voltage drops to the differential bitlines; and the capacitor circuit coupled to the differential bitlines includes a differential column switch capacitor for each column of the memory array, the differential column switch capacitor to: accumulate differential bitline voltages after voltage drops, an accumulated differential bitline voltage not exceeding a doubled allowable voltage swing; determine a differential voltage output between the accumulated differential bitline voltage; and wherein the differential voltage output for each column of the memory array represents a signed integer value of an output vector equal to the dot product of the input vector and the binary weight matrix.
10. The integrated circuit of claim 9, wherein the input vector represents a ternary input value and: a first pulse of fixed duration based on the input vector represents a ternary value of one, the first pulse to enable activated memory cells to cause voltage drops in a first one of the differential bitlines; a second pulse of fixed duration based on the input vector represents a ternary value of negative one, the second pulse to enable activated memory cells to cause voltage drops to a second one of the differential bitlines; and no pulse based on the input vector representing a zero ternary value to enable no memory cells to cause voltage drops to any of the differential bitlines.
11. The integrated circuit of claim 9, wherein: binary weights of the binary weight matrix include multibit binary weights stored as signed binary integers, wherein the activated memory cells in which the signed binary integers are stored are enabled to cause voltage drops in the differential bitlines; and the capacitor circuit includes a negation circuit coupled to a column of the memory array corresponding to a bitcell in which a most significant bit of a multibit binary weight is stored, the negation circuit to invert an accumulated differential bitline voltage caused by the activated memory cells.
12. The integrated circuit of claim 9, wherein: binary weights of the binary weight matrix include multibit binary weights stored as signed binary integers, wherein the activated memory cells in which the signed binary integers are stored are enabled to cause voltage drops in the differential bitlines; and the capacitor circuit includes a weighted differential column switch capacitor coupled to a column of the memory array, the weighted differential column switch capacitor capable of charge sharing with neighboring capacitors spanning multiple columns of the memory array, the capacitor circuit further to: disconnect a binary weighted fraction of each weighted differential column switch capacitor during charge sharing of neighboring capacitors, wherein the binary weighted fraction of each weighted differential column switch capacitor represents a ratio of weighted differential column switch capacitors across neighboring capacitors, the ratio based on a power of two; and wherein the capacitor circuit further includes a negation circuit to swap the differential voltage output for each column of the memory array.
13. The integrated circuit of claim 1, wherein the memory cells of the memory array are any of a 6T SRAM and an 8T SRAM memory cell.
14. An apparatus, comprising: a compute-in-memory (CIM) circuit, the CIM circuit comprising a computation circuit coupled to a memory array of memory cells for storing a binary weight matrix, the computation circuit comprising: precharged bitlines of equal capacitance coupled to columns of memory cells of the memory array; wordlines coupled to rows of memory cells of the memory array; column switch capacitors coupled to the precharged bitlines of equal capacitance; wherein the computation circuit to: generate pulses of fixed duration across the rows of memory cells based on an input vector to the computation circuit, capture on the precharged bitlines an amount of voltage drop for memory cells that discharge to the precharged bitlines in response to the pulses of fixed duration, the amount of voltage drop for a bitcell equivalent to an amount of voltage drop for any other bitcell that discharges to the precharged bitlines, and accumulate, in the column switch capacitors, equivalent amounts of voltage drop on the precharged bitlines of equal capacitance; and wherein an accumulated voltage drop on all the precharged bitlines represents a binary dot product of the input vector and the binary weight matrix.
15. The apparatus of claim 14, wherein the memory cells of the memory array are any of a 6T SRAM and an 8T SRAM memory cell.
16. The apparatus of claim 14, wherein the accumulated voltage drop on a bitline represents a positive integer value of an output vector equal to the dot product of the input vector and the binary weight matrix.
17. The apparatus of claim 14, wherein: binary weights of the binary weight matrix stored in the memory array include multibit binary weights stored in memory cells as binary integers in a row of consecutive memory cells spanning multiple columns of memory cells in the memory array; and a column switch capacitor of a column of memory cells includes a differential column switch capacitor having a pair of column switch capacitors to form a weighted differential column switch capacitor capable of charge sharing with neighboring capacitors spanning the multiple columns of memory cells in which a multibit binary weight is stored, the computation circuit to: disconnect a binary weighted fraction of each weighted differential column switch capacitor during charge sharing with neighboring capacitors, wherein the binary weighted fraction of each weighted differential column switch capacitor represents a ratio of weighted differential column switch capacitors across neighboring capacitors, the ratio based on a power of two.
18. The apparatus of claim 14, wherein the accumulated voltage drop on a bitline of equal capacitance is within an allowable voltage swing.
19. The apparatus of claim 18, wherein: the bitlines of equal capacitance include bitline bars of equal capacitance doubling the allowable voltage swing for column of the memory array; the binary weights of the binary weight matrix stored in the memory array include signed binary weights, wherein a bitcell storing a signed binary weight to discharge to a bitline and a bitline bar; and a column switch capacitor includes a differential column switch capacitor having a pair of column switch capacitors coupled to the bitline and the bitline bar for a column of memory cells, the computation circuit to: determine a differential voltage between a bitline voltage and a bitline bar voltage for the column of memory cells, the bitline voltage and the bitline bar voltage each based on respective accumulated equivalent voltage drops within a doubled allowable voltage swing; and wherein the differential voltage for each column of memory cells represents a signed integer value of an output vector equal to the dot product of the input vector and the binary weight matrix.
20. The apparatus of claim 19, wherein: the binary weights of the binary weight matrix stored in the memory array include multibit binary weights stored as signed binary integers, wherein a bitcell storing a signed binary integer discharges to a bitline and a bitline bar for a column of memory cells; and the column switch capacitor includes a negation circuit for a column in the memory array corresponding to the bitcell storing a most significant bit of the multibit binary weight, the negation circuit to invert the differential voltage for the column corresponding to the bitcell storing the most significant bit.
21. The apparatus of claim 19, wherein the input vector represents a ternary input value, the computation circuit further comprising a pulse generator to generate: a first pulse of fixed duration based on the input vector representing the ternary input value of one, the first pulse to enable memory cells to discharge only to the bitline and not the bitline bar; a second pulse of fixed duration based on the input vector representing the ternary input value of negative one, the second pulse to enable memory cells to discharge only to the bitline bar and not the bitline; and no pulse based on the input vector representing the ternary input value of zero and no discharge of any memory cells to either the bitline or bitline bar.
22. The apparatus of claim 19, wherein: the binary weights of the binary weight matrix stored in the memory array include signed binary integers stored in a row of consecutive memory cells spanning multiple columns, wherein memory cells in which the signed binary integers are stored discharge to a bitline and a bitline bar; the differential column switch capacitor includes a weighted differential column switch capacitor for a column of memory cells, the weighted differential column switch capacitor capable of charge sharing with neighboring capacitors spanning the multiple columns in which a multibit binary weight is stored, the computation circuit further to: disconnect a binary weighted fraction of the differential column switch capacitor during charge sharing of neighboring differential column switch capacitors, wherein the binary weighted fractions represent a ratio of column capacitors across neighboring differential column switch capacitors, the ratio based on a power of two; and wherein the computation circuit further includes a negation circuit to swap the differential voltage of the columns of the memory array.
23. The apparatus of claim 22, wherein: the input vector represents a multibit integer input value; and the computation circuit includes a bit serial accumulation capacitor to perform an analog bit serial accumulation operation for each bit of the multibit integer input value.
24. A system comprising: a processor; a memory device communicatively coupled with the processor, the memory device including a compute-in-memory (CIM) circuit, the CIM circuit comprising a computation circuit coupled to a memory array, the computation circuit comprising: a memory array of memory cells to store a binary weight matrix; a memory access circuit of bitlines having equal capacitance and wordlines driven with pulses of fixed duration based on an input vector, the pulses to activate one or more memory cells in the memory array; the memory access circuit to enable an activated bitcell in the memory array to cause a voltage drop in a bitline to which the activated bitcell is coupled, wherein the voltage drop is equivalent to voltage drops caused by other activated memory cells in the memory array; and a capacitor circuit coupled to the bitlines to accumulate bitline voltages after voltage drops into a voltage output, the voltage output to represent a binary dot product of the input vector and the binary weight matrix stored in the memory array.
25. The system of claim 24, the memory access circuit including a wordline driver to modulate the pulses of fixed duration based on the input vector, wherein the pulses to activate the one or more memory cells in the memory array based on binary weights of the binary weight matrix, the binary weights stored in the memory cells.
26. The system of claim 24, the capacitor circuit including: a column switch capacitor coupled to a bitline to accumulate a bitline voltage after voltage drops caused by activated memory cells coupled to the bitline, an accumulated bitline voltage not exceeding an allowable voltage swing; and wherein the accumulated bitline voltage represents a positive integer value of an output vector equal to the dot product of the input vector and the binary weight matrix.
</claims>
</document>
