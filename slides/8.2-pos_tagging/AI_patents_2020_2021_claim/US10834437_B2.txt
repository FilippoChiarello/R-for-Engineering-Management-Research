<document>

<filing_date>
2017-12-12
</filing_date>

<publication_date>
2020-11-10
</publication_date>

<priority_date>
2017-12-12
</priority_date>

<ipc_classes>
G06N20/00,H04N21/234,H04N21/236,H04N21/25,H04N21/2547,H04N21/258,H04N21/262,H04N21/2668,H04N21/466,H04N21/475
</ipc_classes>

<assignee>
FACEBOOK
</assignee>

<inventors>
BAPNA, ABHISHEK
HUANG, ERIC HSIN-CHUN
LI, SHUO
</inventors>

<docdb_family_id>
66697519
</docdb_family_id>

<title>
Inserting secondary content into primary content presented by an online system
</title>

<abstract>
An online system receives a request for a video to be presented by the online system to a target user. The online system determines whether to insert secondary content into the video. For such a determination, the online system identifies a position in the video for inserting secondary content. Further, the online system determines a loss score and a gain score. The loss score measures a loss of interaction by the target user if the secondary content were inserted. The gain score includes a monetary compensation to be received by the online system for inserting the secondary content at the identified position. The online system compares the loss score and the gain score. Based on the gain score offsetting the loss score, the online systems modifies the video by inserting the secondary content at the identified position and provides the modified video for display to the target user.
</abstract>

<claims>
1. A method comprising: receiving a request for a video to be presented by an online system to a target user; identifying a position in the video for inserting secondary content; determining a loss score indicating a prediction of decrease in engagement by the target user with the online system if the secondary content were inserted at the identified position, wherein the determination is based on characteristics of the target user retrieved by the online system; determining a gain score comprising a value to the online system for inserting the secondary content at the identified position; determining that the gain score offsets the loss score; determining to insert the secondary content at the identified position based on the gain score offsetting the loss score; modifying the video by adding the secondary content to the video at the identified position; providing the modified video for display to a client device of the target user; identifying a second position in the video for inserting the secondary content; determining a second loss score indicating a prediction of decrease in engagement by the target user with the online system if the secondary content were inserted at the second position, wherein the determination is based on characteristics of the target user; determining a second gain score comprising a value to the online system for inserting the secondary content at the second position; determining that the second loss score offsets the second gain score; determining not to insert the secondary content at the gain position based on the second loss score offsets the second gain score; and providing the modified video for display to the client device of the target user.
2. The method of claim 1, wherein determining a loss score indicating a prediction of decrease in engagement by the target user with the online system if the secondary content were inserted at the identified position comprises: inputting the characteristics of the target user into a machine learning model, the machine learning model outputting a probability of the loss of interaction; and determining the loss score based on the probability of the loss of interaction.
3. The method of claim 1, wherein determining a loss score indicating a prediction of decrease in engagement by the target user with the online system if the secondary content were inserted at the identified position comprises: identifying a plurality of types of interaction; determining an interaction loss score for each identified type of interaction, the interaction loss score indicating a loss of the identified type of interaction by the target user if the secondary content were inserted at the identified position; and aggregating interaction loss scores of the plurality of types of interaction.
4. The method of claim 3, wherein determining an interaction loss score for each identified type of interaction comprises: inputting a set of characteristics of the target user into a machine learning model for the identified type of interaction, the machine learning model outputting a probability of a loss of the identified type of interaction.
5. The method of claim 3, wherein the plurality of types of interaction include playing, liking, commenting, sharing, clicking, or any combination thereof.
6. The method of claim 1, wherein the gain score comprises a monetary component indicating a compensation to be received by the online system for inserting the secondary content at the identified position and an organic component indicating a gain of interaction by the target user if the secondary content were inserted at the identified position.
7. The method of claim 6, wherein determining the gain score comprises: determining the monetary component of the gain score; determining the organic component of the gain score; and aggregating the monetary component with the organic component.
8. The method of claim 7, wherein determining the organic component of the gain score comprises: inputting a set of characteristics of the target user and a set of characteristics of the secondary content into a machine learning model, the machine learning model outputting a probability of the gain of interaction by the target user if the secondary content were inserted at the identified position; and determining the organic component of the gain score based on the probability.
9. The method of claim 1, wherein determining the gain score and determining the loss score is during presentation of the video by the online system to the target user.
10. The method of claim 1, wherein identifying a position in the video for inserting secondary content comprises: determining an amount of play time of the video before the identified position, wherein the determined amount of play time is no less than a threshold amount of time.
11. The method of claim 1, wherein identifying a position in the video for inserting secondary content comprises: determining an amount of play time between the identified position and another position in the video where secondary content is inserted, wherein the determined amount of play time is no less than a threshold amount of time.
12. The method of claim 1, wherein identifying a position in the video for inserting secondary content comprises: identifying the position based on a specification received from a provider of the video.
13. The method of claim 1, wherein identifying a position in the video for inserting secondary content comprises: selecting a plurality of positions in the video; determining a gain score and a loss score for each of the selected positions; ranking the selected positions based on their gain scores and loss scores; and identifying the position based on the rankings of the selected positions.
14. A non-transitory computer readable medium storing executable instructions thereon, which when executed cause a computer processor to: receive a request for a video to be presented by an online system to a target user; identify a position in the video for inserting secondary content; determine a loss score indicating a prediction of decrease in engagement by the target user with the online system if the secondary content were inserted at the identified position, wherein the determination is based on characteristics of the target user retrieved by the online system; determine a gain score comprising a value to the online system for inserting the secondary content at the identified position; determine that the gain score offsets the loss score; determine to insert the secondary content at the identified position based on the gain score offsetting the loss score; modify the video by adding the secondary content to the video at the identified position; provide, by the online system through a network, the modified video for display to a client device of the target user; identifying a second position in the video for inserting the secondary content; determining a second loss score indicating a prediction of decrease in engagement by the target user with the online system if the secondary content were inserted at the second position, wherein the determination is based on characteristics of the target user; determining a second gain score comprising a value to the online system for inserting the secondary content at the second position; determining that the second loss score offsets the second gain score; determining not to insert the secondary content at the gain position based on the second loss score offsets the second gain score; and providing the modified video for display to the client device of the target user.
15. The computer readable medium of claim 14, wherein the computer program instructions for determining a loss score indicating a prediction of decrease in engagement by the target user with the online system if the secondary content were inserted at the identified position comprise instructions that when executed cause the computer processor to: input the characteristics of the target user into a machine learning model, the machine learning model outputting a probability of the loss of interaction; and determine the loss score based on the probability of the loss of interaction.
16. The computer readable medium of claim 14, wherein the computer program instructions for determining a loss score indicating a prediction of decrease in engagement by the target user with the online system if the secondary content were inserted at the identified position comprise instructions that when executed cause the computer processor to: identify a plurality of types of interaction; determine an interaction loss score for each identified type of interaction, the interaction loss score indicating a loss of the identified type of interaction by the target user if the secondary content were inserted at the identified position; and aggregate interaction loss scores of the plurality of types of interaction.
17. The computer readable medium of claim 14, wherein the gain score comprises a monetary component indicating a compensation to be received by the online system for inserting the secondary content at the identified position and an organic component indicating a gain of interaction by the target user if the secondary content were inserted at the identified position.
18. The computer readable medium of claim 14, wherein the computer program instructions for identifying a position in the video for inserting secondary content comprises instructions that when executed cause the computer processor to: determine an amount of play time of the video before the identified position, wherein the determined amount of play time is no less than a threshold amount of time.
19. The computer readable medium of claim 14, wherein the computer program instructions for identifying a position in the video for inserting secondary content comprises instructions that when executed cause the computer processor to: identify the position based on a specification received from a provider of the video.
20. A system comprising: a processor; and a memory storing instructions, which when executed, cause the processor: receiving a request for a video to be presented by an online system to a target user; identifying a position in the video for inserting secondary content; determining a loss score indicating a prediction of decrease in engagement by the target user with the online system if the secondary content were inserted at the identified position, wherein the determination is based on characteristics of the target user retrieved by the online system; determining a gain score comprising a value to the online system for inserting the secondary content at the identified position; determining that the gain score offsets the loss score; determining to insert the secondary content at the identified position based on the gain score offsetting the loss score; modifying the video by adding the secondary content to the video at the identified position; providing, by the online system through a network, the modified video for display to a client device of the target user; identifying a second position in the video for inserting the secondary content; determining a second loss score indicating a prediction of decrease in engagement by the target user with the online system if the secondary content were inserted at the second position, wherein the determination is based on characteristics of the target user; determining a second gain score comprising a value to the online system for inserting the secondary content at the second position; determining that the second loss score offsets the second gain score; determining not to insert the secondary content at the gain position based on the second loss score offsets the second gain score; and providing the modified video for display to the client device of the target user.
21. The method of claim 1, wherein the characteristics of the target user are selected from a group consisting of hobbies, preferences, age, work experience, educational history, gender, location, images, videos, interactions with content item, and interactions with connections.
</claims>
</document>
