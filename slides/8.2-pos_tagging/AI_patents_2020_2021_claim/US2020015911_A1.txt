<document>

<filing_date>
2018-02-21
</filing_date>

<publication_date>
2020-01-16
</publication_date>

<priority_date>
2017-02-21
</priority_date>

<ipc_classes>
A61B34/20,A61B5/00,A61B6/03,A61B90/00
</ipc_classes>

<assignee>
HANYANG UNIVERSITY
KOH YOUNG TECHNOLOGY
</assignee>

<inventors>
YI, BYUNG JU
</inventors>

<docdb_family_id>
63252797
</docdb_family_id>

<title>
IMAGE MATCHING DEVICE AND IMAGE MATCHING METHOD
</title>

<abstract>
The present disclosure provides an image matching device. The image matching device according to the present disclosure includes a 3D scanner configured to three-dimensionally scan a dorsal surface of a patient to obtain a first dorsal surface scan image, a tracking sensor configured to obtain position and posture information of a reference marker and position and posture information of a scanner marker, and a processor configured to generate a virtual first vertebrae measurement image for estimation of a position of the vertebrae of the patient based on a human body correlation model and the first dorsal surface scan image and match a coordinate system of the virtual first vertebrae measurement image with a coordinate system of the patient based on the position and posture information of the reference marker and the position and posture information of the scanner marker.
</abstract>

<claims>
1. An image matching device, comprising: a 3D scanner configured to three-dimensionally scan a dorsal surface of a patient supported on a surgery table in a first posture to obtain a first dorsal surface scan image; a tracking sensor configured to obtain position and posture information of a reference marker provided on a body of the patient and position and posture information of a scanner marker provided on the 3D scanner; a memory configured to store a human body correlation model on a correlation between the dorsal surface and a vertebrae of the patient; and a processor electrically connected to the 3D scanner, the tracking sensor and the memory, the processor configured to: generate a virtual first vertebrae measurement image for estimation of a position of the vertebrae of the patient based on the human body correlation model and the first dorsal surface scan image; and match a coordinate system of the virtual first vertebrae measurement image with a coordinate system of the patient based on the position and posture information of the reference marker and the position and posture information of the scanner marker.
2. The device of claim 1, wherein the processor is further configured to: extract dorsal surface information of the patient in the first posture from the first dorsal surface scan image; obtain vertebrae position information of the patient in the first posture based on the human body correlation model and the dorsal surface information; and generate the virtual first vertebrae measurement image based on the vertebrae position information.
3. The device of claim 1, wherein the human body correlation model is a first correlation model that is generated by using a correlation between a second dorsal surface scan image obtained by three-dimensionally scanning the dorsal surface of the patient in a second posture and a second vertebrae measurement image obtained by capturing an image of the vertebrae of the patient in the second posture.
4. The device of claim 3, wherein the human body correlation model is a second correlation model that is generated by correcting the first correlation model using a correlation between a third dorsal surface scan image obtained by three-dimensionally scanning the dorsal surface of at least one patient selected from a group of a plurality of different patients and a third vertebrae measurement image obtained by capturing an image of a vertebrae of the at least one patient.
5. The device of claim 4, further comprising: a vertebrae image camera configured to capture an image of the vertebrae of the patient in the first posture to obtain a fourth vertebrae measurement image, wherein the processor is further configured to: correct the human body correlation model using a correlation between the fourth vertebrae measurement image and the first dorsal surface scan image; and generate the virtual first vertebrae measurement image using the corrected human body correlation model.
6. The device of claim 5, wherein the processor is further configured to: repeatedly perform, a predetermined number of times, a correction of the human body correlation model based on the fourth vertebrae measurement image.
7. The device of claim 1, further comprising: a robot arm having a distal end to which a surgical tool is attached, wherein the tracking sensor obtains position and posture information of a robot arm marker provided on the robot arm, and the processor controls the robot arm based on the position and posture information of the robot arm marker appearing on the coordinate system of the patient matched with the coordinate system of the virtual first vertebrae measurement image.
8. The device of claim 1, wherein the processor is further configured to: obtain a third coordinate transformation relationship between the virtual first vertebrae measurement image and the position and posture information of the reference marker, based on the position and posture information of the reference marker, the position and posture information of the scanner marker, a first coordinate transformation relationship between the position and posture information of the scanner marker and the first dorsal surface scan image and a second coordinate transformation relationship between the first dorsal surface scan image and the virtual first vertebrae measurement image; and match the coordinate system of the virtual first vertebrae measurement image with the coordinate system of the patient based on the third coordinate transformation relationship.
9. The device of claim 5, wherein each of the second vertebrae measurement image, the third vertebrae measurement image and the fourth vertebrae measurement image is one of a Computed Tomography Angiograph (CTA) image, a Magnetic Resonance Imaging (MRI) image and a Computed Tomography (CT) image.
10. An image matching method, comprising: obtaining, by a 3D scanner, a first dorsal surface scan image by three-dimensionally scanning a dorsal surface of a patient supported on a surgery table in a first posture; obtaining position and posture information of a reference marker provided on a body of the patient and position and posture information of a scanner marker provided on the 3D scanner; generating a virtual first vertebrae measurement image for estimation of a position of a vertebrae of the patient based on a human body correlation model on a correlation between the dorsal surface and the vertebrae of the patient and the first dorsal surface scan image; and matching a coordinate system of the virtual first vertebrae measurement image with a coordinate system of the patient based on the position and posture information of the reference marker and the position and posture information of the scanner marker.
11. The method of claim 10, wherein the generating the virtual first vertebrae measurement image includes: extracting dorsal surface information of the patient in the first posture from the first dorsal surface scan image; obtaining vertebrae position information of the patient in the first posture based on the human body correlation model and the dorsal surface information; and generating the virtual first vertebrae measurement image based on the vertebrae position information.
12. The method of claim 10, wherein the human body correlation model is a first correlation model that is generated by using a correlation between a second dorsal surface scan image obtained by three-dimensionally scanning the dorsal surface of the patient in a second posture and a second vertebrae measurement image obtained by capturing an image of the vertebrae of the patient in the second posture.
13. The method of claim 12, wherein the human body correlation model is a second correlation model that is generated by correcting the first correlation model using a correlation between a third dorsal surface scan image obtained by three-dimensionally scanning the dorsal surface of at least one patient selected from a group of different patients and a third vertebrae measurement image obtained by capturing an image of a vertebrae of the at least one patient.
14. The method of claim 13, further comprising: obtaining a fourth vertebrae measurement image by capturing an image of the vertebrae of the patient in the first posture; and correcting the human body correlation model using a correlation between the fourth vertebrae measurement image and the first dorsal surface scan image, wherein the generating the virtual first vertebrae measurement image includes generating the virtual first vertebrae measurement image using the corrected human body correlation model.
15. The method of claim 14, wherein the correcting the human body correlation model is repeatedly performed a predetermined number of times.
16. The method of claim 10, further comprising: obtaining position and posture information of a robot arm marker provided on a robot arm having a distal end to which a surgical tool is attached; and controlling the robot arm based on the position and posture information of the robot arm marker appearing on the coordinate system of the patient matched with the coordinate system of the virtual first vertebrae measurement image.
17. The method of claim 10, wherein the matching the coordinate system of the virtual first vertebrae measurement image with the coordinate system of the patient includes: obtaining a third coordinate transformation relationship between the virtual first vertebrae measurement image and the position and posture information of the reference marker, based on the position and posture information of the reference marker, the position and posture information of the scanner marker, a first coordinate transformation relationship between the position and posture information of the scanner marker and the first dorsal surface scan image and a second coordinate transformation relationship between the first dorsal surface scan image and the virtual first vertebrae measurement image; and matching the coordinate system of the virtual first vertebrae measurement image with the coordinate system of the patient based on the third coordinate transformation relationship.
18. The method of claim 14, wherein each of the second vertebrae measurement image, the third vertebrae measurement image and the fourth vertebrae measurement image is one of a Computed Tomography Angiograph (CTA) image, a Magnetic Resonance Imaging (MRI) image and a Computed Tomography (CT) image.
19. A non-transitory computer-readable recording medium storing a program to be executed on a computer, the program including executable commands for, when executed by a processor, causing the processor to perform: obtaining a first dorsal surface scan image by causing a 3D scanner to three-dimensionally scan a dorsal surface of a patient supported on a surgery table in a first posture; obtaining position and posture information of a reference marker provided on a body of the patient and position and posture information of a scanner marker provided on the 3D scanner; generating a virtual first vertebrae measurement image for estimation of a position of a vertebrae of the patient based on a human body correlation model on a correlation between the dorsal surface and the vertebrae of the patient and the first dorsal surface scan image; and matching a coordinate system of the virtual first vertebrae measurement image with a coordinate system of the patient based on the position and posture information of the reference marker and the position and posture information of the scanner marker.
20. The recording medium of claim 19, wherein the human body correlation model is a first correlation model that is generated by using a correlation between a second dorsal surface scan image obtained by three-dimensionally scanning the dorsal surface of the patient in a second posture and a second vertebrae measurement image obtained by capturing an image of the vertebrae of the patient in the second posture.
</claims>
</document>
