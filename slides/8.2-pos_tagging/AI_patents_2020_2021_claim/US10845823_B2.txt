<document>

<filing_date>
2019-12-19
</filing_date>

<publication_date>
2020-11-24
</publication_date>

<priority_date>
2018-12-19
</priority_date>

<ipc_classes>
G01C21/16,G05D1/00,G05D1/08,G05D1/10
</ipc_classes>

<assignee>
JOBY AERO
</assignee>

<inventors>
BEVIRT, JOEBEN
O'CONNOR, KEVIN
CORDES, KYLE
BURGHARDT, MICHAEL
BURGHARDT, DANIEL
GU, TIANYU
WALLER, STEVE
</inventors>

<docdb_family_id>
71097660
</docdb_family_id>

<title>
Vehicle navigation system
</title>

<abstract>
A system and method that function to generate an updated vehicle state based on a previous vehicle state and a set of sensor measurements. The previous vehicle state can be selected from a set of redundant prior vehicle state candidates. The system and method can optionally detect and correct for sensor measurement faults or failures, prior to updating the vehicle state.
</abstract>

<claims>
1. A system for a vehicle comprising: a plurality of sensors arranged onboard the vehicle configured to generate values for a set of contextual vehicle measurements, wherein the set of contextual vehicle measurements comprises inertial measurements and non-inertial measurements generated by inertial sensors and non-inertial sensors, respectively, the plurality of sensors comprising: a first sensor subset and a second sensor subset, wherein the second sensor subset is redundant with the first sensor subset; and a first vehicle navigation system communicatively connected to the plurality of sensors comprising: a voting module configured to determine a previous vehicle state from a set of received vehicle states based on a voting scheme; a prediction module configured to generate a vehicle state prediction based on the previous vehicle state and a single motion model coupling the inertial measurements with the non-inertial measurements, wherein the vehicle state prediction comprises a prediction value for each of the set of contextual vehicle measurements; a fault detection module configured to detect a set of measurement faults, within the set of contextual vehicle measurements, based on the prediction value for each of the set of contextual vehicle measurements, wherein the fault detection module is configured to generate an updated set of contextual vehicle measurements excluding the set of measurement faults; and an update module configured to determine an updated vehicle state based on the updated set of contextual vehicle measurements, the vehicle state prediction, and an observation model.
2. The system of claim 1, further comprising a vehicle controller communicatively connected to the processing system, the vehicle controller configured to control the vehicle based on the updated vehicle state.
3. The system of claim 2, wherein the vehicle comprises an electric aircraft, wherein the vehicle controller is configured to control a rotor of the electric aircraft.
4. The system of claim 1, further comprising a second vehicle navigation system and a third vehicle navigation system, each communicatively connected to the first vehicle navigation system.
5. The system of claim 4, wherein the previous vehicle state is determined from the set of received vehicle states comprising a first, second, and third vehicle state determined at the first, second, and third vehicle navigation systems, respectively, for a prior time step.
6. The system of claim 5, further comprising a vehicle controller communicatively connected to the first, second, and third vehicle navigations systems, the vehicle controller configured to determine a vehicle state based on the voting scheme.
7. The system of claim 4, wherein the vehicle defines a sagittal plane separating a left side of the vehicle from a right side of the vehicle, wherein the first vehicle navigation system is located on the left side of the vehicle, wherein the second vehicle navigation system is located on the right side of the vehicle.
8. The system of claim 1, wherein: the first sensor subset comprises at least three inertial measurement units, wherein the second sensor subset comprises at least three inertial measurement units.
9. The system of claim 1, wherein the first sensor subset comprises a first magnetometer, first barometer, and first inertial measurement unit, wherein the second sensor subset comprises a second magnetometer, second barometer and second inertial measurement unit.
10. The system of claim 9, wherein single motion model outputs predictions for linear acceleration and angular velocity.
11. The system of claim 10, wherein the single motion model further outputs angular acceleration.
12. The system of claim 1, wherein the set of contextual vehicle data measurements comprises air data.
13. A method for vehicle control, comprising: determining a vehicle state prediction based on a single motion model and a previous vehicle state; receiving a set of contextual measurements from a plurality of sensors, the plurality of sensors comprising: a first sensor subset and a second sensor subset, the second sensor subset redundant with the first sensor subset, wherein the plurality of sensors comprises inertial sensors and non-inertial sensors; for each measurement in the set of contextual measurements, determining a measurement prediction with the vehicle state prediction; detecting a measurement fault within the set of contextual measurements based on the measurement prediction and, in response to detecting a measurement fault, updating the set of contextual measurements; and determining an updated vehicle state with the vehicle state prediction, the set of contextual measurements, and an observation model.
14. The method of claim 13, further comprising: determining a voted vehicle state from a set of updated vehicle states by a voting scheme; and controlling the vehicle based on the voted vehicle state.
15. The method of claim 13, further comprising: determining a measurement covariance for each the plurality of sensors, the measurement covariance decoupled from a vehicle state covariance update; and modifying the observation model based on the measurement covariance for each of the plurality of sensors.
16. The method of claim 15, wherein the measurement covariance is determined independently for at least one gyroscope and at least one accelerometer.
17. The method of claim 13, wherein the inertial sensors comprise a number (N) of inertial sensors, the wherein updating the set of contextual measurements comprises removing a maximum of N/2-1 measurements from the N inertial sensors.
18. The method of claim 13, wherein detecting a measurement fault comprises: comparing a sensor measurement to a mean measurement of the first sensor subset.
19. The method of claim 13, wherein the single motion model uses a subset of sigma points computed from only one side of a distribution relative to an operating point.
20. The method of claim 13, wherein the vehicle state prediction comprises an attitude prediction.
</claims>
</document>
