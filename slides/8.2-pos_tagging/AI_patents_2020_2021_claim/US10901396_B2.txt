<document>

<filing_date>
2019-04-05
</filing_date>

<publication_date>
2021-01-26
</publication_date>

<priority_date>
2018-04-13
</priority_date>

<ipc_classes>
G05B13/02,G05B19/00,G05B19/414,G05B19/418,G06N20/00
</ipc_classes>

<assignee>
FANUC
</assignee>

<inventors>
LIANG, YAO
TSUNEKI, RYOUTAROU
</inventors>

<docdb_family_id>
68053221
</docdb_family_id>

<title>
Machine learning device, control device, and machine learning method
</title>

<abstract>
A machine learning device performs machine learning related to optimization of a compensation value of a compensation generation unit with respect to a servo control device that includes a compensation generation unit configured to generate a compensation value to be added to a control command for controlling a servo motor and a limiting unit configured to limit the compensation value or the control command to which the compensation value is added so as to fall within a setting range. During a machine learning operation, when the compensation value or the control command is outside the setting range and the limiting unit limits the compensation value or the control command so as to fall within the setting range, the machine learning device applies the compensation value to the learning and continues with a new search to optimize the compensation value generated by the compensation generation unit.
</abstract>

<claims>
1. A machine learning device configured to perform machine learning related to optimization of a compensation value of a compensation generation unit with respect to a servo control device that includes the compensation generation unit configured to generate a compensation value to be applied to a control command for controlling a servo motor configured to drive an axis of a machine tool, a robot, or an industrial machine and a limiting unit configured to limit the compensation value or the control command to which the compensation value is added so as to fall within a setting range, wherein during a machine learning operation, when the compensation value or the control command to which the compensation value is added is outside the setting range and the limiting unit limits the compensation value or the control command to which the compensation value is added so as to fall within the setting range, the machine learning device is configured to apply the compensation value to the learning and continue with a new search to optimize the compensation value generated by the compensation generation unit.
2. The machine learning device according to claim 1, wherein when the compensation value or the control command to which the compensation value is added is limited by the limiting unit, the limiting unit is configured to notify the machine learning device that the compensation value or the control command to which the compensation value is added is outside the setting range, and upon receiving the notification, the machine learning device is configured to apply the compensation value to the learning.
3. The machine learning device according to claim 2, wherein reinforcement learning is performed as the machine learning, and when the notification is received from the limiting unit, the machine learning device is configured to set a reward such that the compensation value in which the compensation value or the control command to which the compensation value is added exceeds the setting range is not selected.
4. The machine learning device according to claim 3, wherein the machine learning device is configured to update a value function based on the reward, generate an optimal compensation value or adjustment information of compensation parameters based on the updated value function, and output the optimal compensation value or the adjustment information of compensation parameters to the compensation generation unit.
5. The machine learning device according to claim 1, wherein the control command includes at least one of a velocity command and a torque command, and the compensation value includes at least one of a position feedforward term to be added to the velocity command and a velocity feedforward term to be added to the torque command.
6. The machine learning device according to claim 1, wherein the setting range is a range in which an upper limit and a lower limit are fixed.
7. The machine learning device according to claim 1, wherein the setting range is a range in which an upper limit and a lower limit vary.
8. The machine learning device according to claim 7, wherein the limiting unit changes the upper limit and the lower limit of the setting range according to machining accuracy or a machining cycle time.
9. A control device comprising: the machine learning device according to claim 1; and a servo control device including a compensation generation unit configured to generate a compensation value to be added to a control command for controlling a servo motor configured to drive an axis of a machine tool, a robot, or an industrial machine, and a limiting unit configured to limit the compensation value or the control command to which the compensation value is added so as to fall within a setting range.
10. The control device according to claim 9, wherein the machine learning device is included in the servo control device.
11. A machine learning method of a machine learning device configured to perform machine learning related to optimization of a compensation value with respect to a servo control device configured to generate a compensation value to be applied to a control command for controlling a servo motor configured to drive an axis of a machine tool, a robot, or an industrial machine and limit the compensation value or the control command to which the compensation value is added so as to fall within a setting range, wherein during a machine learning operation, when the compensation value or the control command to which the compensation value is added is outside the setting range and the servo control device limits the compensation value or the control command to which the compensation value is added so as to fall within the setting range, the machine learning device applies the compensation value to the learning and continues with a new search to optimize the compensation value.
</claims>
</document>
