<document>

<filing_date>
2015-08-03
</filing_date>

<publication_date>
2020-12-15
</publication_date>

<priority_date>
2015-08-03
</priority_date>

<ipc_classes>
G06F15/18,G06F16/532,G06F16/583,G06F16/951,G06F17/30,G06K9/00,G06K9/46,G06K9/62,G06N20/00
</ipc_classes>

<assignee>
ORAND
</assignee>

<inventors>
SAAVEDRA RONDO, JOSÃ‰ MANUEL
</inventors>

<docdb_family_id>
57942198
</docdb_family_id>

<title>
Sketch-based image searching system using cell-orientation histograms and outline extraction based on medium-level features
</title>

<abstract>
The present invention relates to an image retrieval system using sketches. The system comprises: a device connected to a communication network having an application that allows the user to draw a query result and display images as a result, a processing unit comprising at least one search engine, a component for processing images of a collection, and a storage medium for storing images of the collection along with the feature vectors thereof. The search engine includes: a features extraction component for sketches; a component for performing similarity searches; the image processing component comprises: a component for converting an image to a sketch form and a feature extraction component for sketches. The invention also relates to the associated method.
</abstract>

<claims>
1. An image retrieval method using sketches, characterized in that it comprises the following steps: a. processing a set of images from a collection stored in a data storage means to extract outlines and features vectors for sketches; b. the user entering a query on a device with connection to the network through an installed application and sending the query to a processing unit; c. receiving the query in the processing unit to: i. extract features of the sketch type query, the extract method comprising the steps of: a. dividing the sketch into a set of cells; b. calculating representative gradients by cells; c. dividing the sketch into blocks; d. calculating histogram of cells orientation for each block; e. normalizing vectors per block; f. generating an added histogram based on the histograms per block; g. normalizing the added histogram; ii. perform a search by visual similarity between a query and all the images stored in the data storage means using features for sketches; a. receiving the answer to the query from the device with network connection and displaying it to the user.
2. The method according to claim 1, characterized in that the outline extraction method is based on machine learning.
3. The method according to claim 1, characterized in that the outline extraction method uses sketch tokens.
4. The method according to claim 1, characterized in that the outline extraction method uses the Canny operator.
5. The method according to claim 1, characterized in that the sketch is an image of outlines obtained from a regular image.
6. The method according to claim 1, characterized in that the calculation of gradients per cell uses bi-linear interpolation.
7. The method according to claim 1, characterized in that the calculation of histograms per block uses tri-linear interpolation.
8. The method according to claim 1, characterized in that the calculation of the added histogram is made by concatenating the histograms per block.
9. The method according to claim 1, characterized in that the normalization of the added histogram uses power normalization.
10. A method for extracting features from sketches based on histograms of local gradients with interpolated voting, comprising the following steps: a. dividing the sketch image into a set of cells; b. calculating a representative gradients for each cell, where the representative gradient is computed as an average of all the gradients that fall in or near to the cell, and this average is computed using the components sine and cosine of a modified gradient vector per each point; a modified version of a gradient vector is generated by doubling the angle and squaring the magnitude, where doubling the angle aims to avoid that opposite gradients cancel each other, while squaring the magnitude allows to strengthen gradients with high magnitude; c. dividing the sketch into blocks; d. calculating histogram of cells orientation for each block using the representative gradients; e. normalizing vectors per block dividing it by its norm; f. generating a final histogram concatenating the histograms per block; g. normalizing the resulting histogram by the square root normalization method by computing the square root of each value in the vector, and transforming the result to a unit vector.
11. The method according to claim 10, characterized in that the computation of representative gradients is done by bi-linear interpolation, where each pixel's gradient contributes to the four nearest cell, and the contribution is weighted inversely to the distance between the pixel location to the center to the corresponding cell.
12. The method according to claim 10, characterized in that the calculation of histogram per block uses tri-linear interpolation, where each cell's gradient contributes to the four nearest blocks, and the contribution is weighted inversely to the distance of the cell location to the center of the corresponding block; in addition, as a histogram is being computed, the angle of the cell gradient will vote to the two closer buckets, weighted by distance between the angle and the value represented by the buckets.
</claims>
</document>
