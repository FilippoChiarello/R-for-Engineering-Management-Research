<document>

<filing_date>
2017-12-28
</filing_date>

<publication_date>
2020-01-23
</publication_date>

<priority_date>
2017-03-17
</priority_date>

<ipc_classes>
G06F16/51,G06F16/583,G06K9/62
</ipc_classes>

<assignee>
BEIJING JINGDONG CENTURY TRADING
BEIJING JINGDONG SHANGKE INFORMATION TECHNOLOGY COMPANY
</assignee>

<inventors>
AN, SHAN
CHEN YU
</inventors>

<docdb_family_id>
63522754
</docdb_family_id>

<title>
HIGH-DIMENSIONAL IMAGE FEATURE MATCHING METHOD AND DEVICE
</title>

<abstract>
A high-dimensional image feature matching method and device relating to the field of image retrieval. The method includes extracting a high-dimensional image feature of an image to be retrieved; dividing the high-dimensional image feature of the image to be retrieved into a plurality of low-dimensional image features; comparing each of the low-dimensional image features of the image to be retrieved with clustering centers at each layer of the low-dimensional image features of the images in a database; and determining a similarity the low-dimensional image feature between the image to be retrieved and each of some images in the database according to a comparison result, so that at least one feature matching the high-dimensional image feature of the image to be retrieved is retrieved in the database.
</abstract>

<claims>
1. A high-dimensional image feature matching method, comprising: extracting a high-dimensional image feature of an image to be retrieved; dividing the high-dimensional image feature of the image to be retrieved into a plurality of low-dimensional image features; determining a nearest clustering center at each layer of low-dimensional image features of images in a database corresponding to each of the low-dimensional image features of the image to be retrieved, by comparing each of the low-dimensional image features of the image to be retrieved with clustering centers at each layer, wherein the determined nearest clustering center is nearest to the corresponding low-dimensional image feature; and determining a similarity of the low-dimensional image feature between the image to be retrieved and each of some images in the database according to the determined nearest clustering center, so that at least one high-dimensional image feature matching the high-dimensional image feature of the image to be retrieved is retrieved in the database.
2. The high-dimensional image feature matching method according to claim 1, wherein the clustering centers at each layer of the low-dimensional image features of the images in the database are determined by: extracting a high-dimensional image feature of each of the images in the database; dividing the high-dimensional image feature of each of the images in the database into a plurality of low-dimensional image features; and determining the clustering centers at each layer of the low-dimensional image features by performing layered clustering calculation on the low-dimensional image features of the images in the database.
3. The high-dimensional image feature matching method according to claim 2, wherein each of the clustering centers at each layer of the low-dimensional image features of the images in the database is associated with an inverted file.
4. The high-dimensional image feature matching method according to claim 2, wherein determining clustering centers at each layer of the low-dimensional image features by performing layered clustering calculation on the low-dimensional image features of the images in the database comprises: performing unsupervised training on a set consisting of low-dimensional image features of the images in the database, wherein a bifurcating factor of a clustering is defined to be k; randomly selecting one low-dimensional image feature data point in an initial training set as an initial clustering center of a kmeans clustering algorithm; determining k initial clustering centers according to probability ratios of low-dimensional image feature data points to nearest centers; dividing a set consisting of the low-dimensional image features of the images in the database into k sets using the kmeans clustering algorithm, and making the k sets as sets of a first layer of a kmeans tree; sequentially performing iterative division of each set of a current layer in the kmeans tree using the kmeans clustering algorithm until a leaf layer of the kmeans tree is reached; calculating a clustering center of each set of each layer of the low-dimensional image features of the images in the database according to a clustering mean.
5. The high-dimensional image feature matching method according to claim 4, wherein comparing each of the low-dimensional image features of the image to be retrieved with clustering centers at each layer of the low-dimensional image features of the images in a database comprises: comparing each of the low-dimensional image features of the image to be retrieved with each of k clustering centers of a first layer of the kmeans tree of the low-dimensional image features of the images in the database, to determine a nearest clustering center corresponding to each of the low-dimensional image features of the image to be retrieved at the first layer, wherein the nearest clustering center is nearest to the corresponding low-dimensional image feature; and comparing each of the low-dimensional image features of the image to be retrieved with each of k clustering centers of the current layer by recursion, starting from a second layer of the kmeans tree, and ending at a leaf layer of the kmeans tree, wherein the k clustering centers of the current layer are sub-clustering centers of the nearest clustering center of the previous layer.
6. The high-dimensional image feature matching method according to claim 1, wherein determining a similarity of the low-dimensional image feature between the image to be retrieved and each of some images in the database according to the determined nearest clustering center, so that at least one high-dimensional image feature matching the high-dimensional image feature of the image to be retrieved is retrieved in the database comprises: determining a feature vector of each of the images associated with the determined nearest clustering center in the database and a feature vector of the image to be retrieved, by calculating the low-dimensional image features of the images in the database and the low-dimensional image features of the image to be retrieved, using a term frequency-inverse document frequency algorithm, and according to the determined nearest clustering center; determining a similarity score of the low-dimensional image feature between the image to be retrieved and each of the images associated with the determined nearest clustering center in the database, according to the distance between the feature vector of each of the images associated with the determined nearest clustering center in the database and the feature vector of the image to be retrieved; and obtaining N images with the highest score in the database using a quick select algorithm combined with an insertion sort algorithm, and making the high-dimensional image features of the N images with the highest score as features matching the high-dimensional image feature of the image to be retrieved.
7. 7-12. (canceled)
13. A high-dimensional image feature matching device, comprising: a memory; and a processor coupled to the memory, wherein the processor is configured to perform a high-dimensional image feature method on a basis of instructions stored in the memory, comprising: extracting a high-dimensional image feature of an image to be retrieve& dividing the high-dimensional image feature of the image to be retrieved into a plurality of low-dimensional image features; determining a nearest clustering center at each layer of low-dimensional image features of images in a database corresponding to each of the low-dimensional image features of the image to be retrieved, by comparing each of the low-dimensional image features of the image to be retrieved with clustering centers at each layer, wherein the determined nearest clustering center is nearest to the corresponding low-dimensional image feature; and determining a similarity of the low-dimensional image feature between the image to be retrieved and each of some images in the database according to the determined nearest clustering center, so that at least one high-dimensional image feature matching the high-dimensional image feature of the image to be retrieved is retrieved in the database.
14. A computer readable storage medium on which computer program instructions are stored, which when executed by a processor implement a high-dimensional image feature method, comprising: extracting a high-dimensional image feature of an image to be retrieved; dividing the high-dimensional image feature of the image to be retrieved into a plurality of low-dimensional image features; determining a nearest clustering center at each layer of low-dimensional image features of images in a database corresponding to each of the low-dimensional image features of the image to be retrieved, by comparing each of the low-dimensional image features of the image to be retrieved with clustering centers at each layer, wherein the determined nearest clustering center is nearest to the corresponding low-dimensional image feature; and determining a similarity of the low-dimensional image feature between the image to be retrieved and each of some images in the database according to the determined nearest clustering center, so that at least one high-dimensional image feature matching the high-dimensional image feature of the image to be retrieved is retrieved in the database.
15. The high-dimensional image feature matching device according to claim 13, wherein the clustering centers at each layer of the low-dimensional image features of the images in the database are determined by: extracting a high-dimensional image feature of each of the images in the database; dividing the high-dimensional image feature of each of the images in the database into a plurality of low-dimensional image features; and determining the clustering centers at each layer of the low-dimensional image features by performing layered clustering calculation on the low-dimensional image features of the images in the database.
16. The high-dimensional image feature matching device according to claim 15, wherein each of the clustering centers at each layer of the low-dimensional image features of the images in the database is associated with an inverted file.
17. The high-dimensional image feature matching device according to claim 15, wherein determining clustering centers at each layer of the low-dimensional image features by performing layered clustering calculation on the low-dimensional image features of the images in the database comprises: performing unsupervised training on a set consisting of low-dimensional image features of the images in the database, wherein a bifurcating factor of a clustering is defined to be k; randomly selecting one low-dimensional image feature data point in an initial training set as an initial clustering center of a kmeans clustering algorithm; determining k initial clustering centers according to probability ratios of low-dimensional image feature data points to nearest centers; dividing a set consisting of the low-dimensional image features of the images in the database into k sets using the kmeans clustering algorithm, and making the k sets as sets of a first layer of a kmeans tree; sequentially performing iterative division of each set of a current layer in the kmeans tree using the kmeans clustering algorithm until a leaf layer of the kmeans tree is reached; calculating a clustering center of each set of each layer of the low-dimensional image features of the images in the database according to a clustering mean.
18. The high-dimensional image feature matching device according to claim 17, wherein comparing each of the low-dimensional image features of the image to be retrieved with clustering centers at each layer of the low-dimensional image features of the images in a database comprises: comparing each of the low-dimensional image features of the image to be retrieved with each of k clustering centers of a first layer of the kmeans tree of the low-dimensional image features of the images in the database, to determine a nearest clustering center corresponding to each of the low-dimensional image features of the image to be retrieved at the first layer, wherein the nearest clustering center is nearest to the corresponding low-dimensional image feature; and comparing each of the low-dimensional image features of the image to be retrieved with each of k clustering centers of the current layer by recursion, starting from a second layer of the kmeans tree, and ending at a leaf layer of the kmeans tree, wherein the k clustering centers of the current layer are sub-clustering centers of the nearest clustering center of the previous layer.
19. The high-dimensional image feature matching device according to claim 13, wherein determining a similarity of the low-dimensional image feature between the image to be retrieved and each of the images in the database according to the determined nearest clustering center, so that at least one high-dimensional image feature matching the high-dimensional image feature of the image to be retrieved is retrieved in the database comprises: determining a feature vector of each of the images associated with the determined nearest clustering center in the database and a feature vector of the image to be retrieved, by calculating the low-dimensional image features of the images in the database and the low-dimensional image features of the image to be retrieved, using a term frequency-inverse document frequency algorithm, and according to the determined nearest clustering center; determining a similarity score of the low-dimensional image feature between the image to be retrieved and each of the images associated with the determined nearest clustering center in the database, according to the distance between the feature vector of each of the images associated with the determined nearest clustering center in the database and the feature vector of the image to be retrieved; and obtaining N images with the highest score in the database using a quick select algorithm combined with an insertion sort algorithm, and making the high-dimensional image features of the N images with the highest score as features matching the high-dimensional image feature of the image to be retrieved.
20. The computer-readable storage medium according to claim 14, wherein the clustering centers at each layer of the low-dimensional image features of the images in the database are determined by: extracting a high-dimensional image feature of each of the images in the database; dividing the high-dimensional image feature of each of the images in the database into a plurality of low-dimensional image features; and determining the clustering centers at each layer of the low-dimensional image features by performing layered clustering calculation on the low-dimensional image features of the images in the database.
21. The computer-readable storage medium according to claim 20, wherein each of the clustering centers at each layer of the low-dimensional image features of the images in the database is associated with an inverted file.
22. The computer-readable storage medium according to claim 20, wherein determining clustering centers at each layer of the low-dimensional image features by performing layered clustering calculation on the low-dimensional image features of the images in the database comprises: performing unsupervised training on a set consisting of low-dimensional image features of the images in the database, wherein a bifurcating factor of a clustering is defined to be k; randomly selecting one low-dimensional image feature data point in an initial training set as an initial clustering center of a kmeans clustering algorithm; determining k initial clustering centers according to probability ratios of low-dimensional image feature data points to nearest centers; dividing a set consisting of the low-dimensional image features of the images in the database into k sets using the kmeans clustering algorithm, and making the k sets as sets of a first layer of a kmeans tree; sequentially performing iterative division of each set of a current layer in the kmeans tree using the kmeans clustering algorithm until a leaf layer of the kmeans tree is reached; calculating a clustering center of each set of each layer of the low-dimensional image features of the images in the database according to a clustering mean.
23. The computer-readable storage medium according to claim 22, wherein comparing each of the low-dimensional image features of the image to be retrieved with clustering centers at each layer of the low-dimensional image features of the images in a database comprises: comparing each of the low-dimensional image features of the image to be retrieved with each of k clustering centers of a first layer of the kmeans tree of the low-dimensional image features of the images in the database, to determine a nearest clustering center corresponding to each of the low-dimensional image features of the image to be retrieved at the first layer, wherein the nearest clustering center is nearest to the corresponding low-dimensional image feature; and comparing each of the low-dimensional image features of the image to be retrieved with each of k clustering centers of the current layer by recursion, starting from a second layer of the kmeans tree, and ending at a leaf layer of the kmeans tree, wherein the k clustering centers of the current layer are sub-clustering centers of the nearest clustering center of the previous layer.
24. The computer-readable storage medium according to 14, wherein determining a similarity of the low-dimensional image feature between the image to be retrieved and each of the images in the database according to the determined nearest clustering center, so that at least one high-dimensional image feature matching the high-dimensional image feature of the image to be retrieved is retrieved in the database comprises: determining a feature vector of each of the images associated with the determined nearest clustering center in the database and a feature vector of the image to be retrieved, by calculating the low-dimensional image features of the images in the database and the low-dimensional image features of the image to be retrieved, using a term frequency-inverse document frequency algorithm, and according to the determined nearest clustering center; determining a similarity score of the low-dimensional image feature between the image to be retrieved and each of the images associated with the determined nearest clustering center in the database, according to the distance between the feature vector of each of the images associated with the determined nearest clustering center in the database and the feature vector of the image to be retrieved; and obtaining N images with the highest score in the database using a quick select algorithm combined with an insertion sort algorithm, and making the high-dimensional image features of the N images with the highest score as features matching the high-dimensional image feature of the image to be retrieved.
</claims>
</document>
