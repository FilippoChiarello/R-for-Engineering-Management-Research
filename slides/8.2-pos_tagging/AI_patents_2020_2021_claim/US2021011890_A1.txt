<document>

<filing_date>
2019-10-30
</filing_date>

<publication_date>
2021-01-14
</publication_date>

<priority_date>
2019-07-11
</priority_date>

<ipc_classes>
G06F16/21,G06F16/22,H04L12/24
</ipc_classes>

<assignee>
EXFO
</assignee>

<inventors>
NADEAU, SYLVAIN
MDINI, MAHA
Whatley, Justin
</inventors>

<docdb_family_id>
68426129
</docdb_family_id>

<title>
Automatic Root Cause Diagnosis in Networks Based on Hypothesis Testing
</title>

<abstract>
An embodiment may involve obtaining a set of data records including features characterizing operational aspects of a communication network. Each data record may include a feature vector and performance metrics of the communication network. Each feature vector may include a multiple elements corresponding to feature-value pairs. A first statistical analysis may be applied to the set of data records and their performance metrics to identify major contributors to degraded network performance. A second statistical analysis may be applied to identify elements that negatively influence the major contributors, and to discriminate between additive effects and incompatibilities as the source of negative influence. For each major contributor, a hierarchical dependency tree may be constructed with the major contributor as the root node and influencer elements as other nodes. Redundant dependencies may be removed, mutually dependent influencer elements grouped, and only the longest edges retained, in order to create dependency graph.
</abstract>

<claims>
1. A computer-implemented method comprising: obtaining a set of data records including features that characterize operational aspects of a communication network, wherein each given data record comprises a feature vector and one or more performance metrics characterizing operational performance of the communication network, wherein each feature vector of the set comprises a plurality of elements, ei, i=1, . . . , n, each made up of a feature-value pair, (fi,vk), k=1, . . . , mj, for each j=i, that identifies fj with a particular one of n operational aspects of the communication network and assigns to vk one of mj values of the particular operational aspect, and wherein the operational aspects characterized by features correspond to hardware, software, operational, or functional components related to the network operations; applying a first statistical analysis to the set of data records and their performance metrics to generate one or more data subsets, each comprising a respective subset of feature vectors that each contains a respective, particular inefficient element, wherein the respective, particular inefficient element is associated with a statistically significant negative contribution to network performance; respectively applying a second statistical analysis to each respective subset of feature vectors to (i) identify for the respective, particular inefficient element a respective set of influencer elements representing elements associated with statistically significant negative influence on causing the negative contribution to network performance associated with the respective, particular inefficient element, and (ii) where the respective set of influencer elements is non-empty, discriminate between those influencer elements associated with additive negative influence and those associated with an incompatibility with the particular operational aspect of the communication network and assigned value identified with the respective, particular inefficient element; for each respective subset of feature vectors, analyzing each possible pair of elements of the influencer elements of the respective influencer set of the respective, particular inefficient element to determine a dependency relationship based on a co-occurrence of inefficiency associated with both pair members, wherein all determined dependency relationships from all pairs represent a respective hierarchical dependency tree in which influencer elements of the respective influencer set correspond to nodes; for each determined dependency relationship in each respective hierarchical dependency tree, applying a metric-based rule to identify redundant dependencies of the respective hierarchical dependency tree, and removing at least one element of each of the redundant dependencies from each respective hierarchical dependency tree; grouping mutually dependent influencer elements of each respective hierarchical dependency tree and retaining only a longest of any multiple paths between remaining nodes to generate a respective dependency graph; and displaying at least one respective dependency graph in a display device of the system.
2. The computer-implemented method of claim 1, wherein applying a first statistical analysis to the set of data records and their performance metrics to generate the one or more data subsets, each comprising the respective subset of feature vectors that each contains a respective, particular inefficient element, comprises: for each pair (fj,fk), j≠k, in the set of data records, applying a χ2 test to identify redundant pairs for which fj and fk provide redundant information with respect to respectively associated metrics, and for each redundant pair, marking one of the pair members as excluded from consideration in further analysis; for each fj=t not marked as excluded from consideration, subdividing the set of data records into one or more respective feature subsets each having the same respective value vi, and applying, with respect to respectively associated metrics, a variance test to the respective feature subsets to determine whether fj=t represents a discriminating feature, and if not, marking fj=t as excluded from consideration in further analysis; and for each particular element of the set of data records having (i) an identical value and corresponding to a feature fj=s that is not excluded from consideration by either the χ2 test or the variance test, and (ii) a statistically significant negative contribution to network performance with respect to an associated performance metric, retaining as one of the generated one or more data subsets a respective collection of feature vectors each containing the particular element, wherein the particular element is the particular inefficient element.
3. The computer-implemented method of claim 1, wherein applying a first statistical analysis to the set of data records and their performance metrics to generate the one or more data subsets, each comprising the respective subset of feature vectors that each contains a respective, particular inefficient element, comprises: computing a first mean of an associated performance metric for a first data set that includes the given particular element; computing a second mean of the associated performance metric for a second data set that excludes the given particular element; and based on a comparison of the first and second computed means, determining that the given particular element has a statistically significant negative contribution to network performance with respect to the associated performance metric.
4. The computer-implemented method of claim 1, wherein applying a first statistical analysis to the set of data records and their performance metrics to generate the one or more data subsets, each comprising the respective subset of feature vectors that each contains a respective, particular inefficient element, comprises: ranking the respective, particular inefficient elements of among the respective subsets into a list according to increasing negative contribution to network performance; and retaining only a threshold number of list elements in ranked order.
5. The computer-implemented method of claim 1, wherein applying the second statistical analysis to each respective subset of feature vectors to identify for the respective, particular inefficient element a respective set of influencer elements comprises: for each respective subset of feature vectors, identifying every given element, excluding the particular inefficient element, having (i) an identical value, and (ii) a statistically significant negative contribution to network performance with respect to an associated performance metric; and including the given element in the respective set of influencer elements.
6. The computer-implemented method of claim 1, wherein applying the second statistical analysis to each respective subset of feature vectors to discriminate between those influencer elements associated with additive negative influence and those associated with an incompatibility with the particular operational aspect of the communication network and assigned value identified with the respective, particular inefficient element, comprises: for each respective subset of feature vectors, determining for each given influencer element of the respective influencer set, a respective influencer subset of feature vectors corresponding to those containing the given influencer element; and for each respective influencer subset: (i) determining a first intersection with the respective subset of feature vectors; (ii) determining a second intersection with a complementary set of respective subset of feature vectors; (iii) applying a T-test to compare the first and second intersections; and (iv) if the T-test comparison yields a statistically significant difference, then marking the given influencer element as an incompatibility element, otherwise marking the given influencer element as an additive element.
7. The computer-implemented method of claim 1, wherein analyzing each possible pair of elements of the influencer elements of the respective influencer set of the respective, particular inefficient element to determine a dependency relationship based on a co-occurrence of inefficiency associated with both pair members comprises: for each possible pairing of the influencer elements of the respective influencer set, determining a joint distribution of the respective associated features (fr,ft); determining a co-occurrence of the influencer elements of the respective influencer set based on the joint distribution; and determining for each co-occurrence whether it is directional or two-way.
8. The computer-implemented method of claim 1, wherein, for each determined dependency relationship in each respective hierarchical dependency tree, applying a metric-based rule to identify redundant dependencies of the respective hierarchical dependency tree, and removing at least one element of each of the redundant dependencies from each respective hierarchical dependency tree comprises: for each hierarchical dependency between a dependent parent element, ep, and a dependent child element ec, computing a first metric mean with respect to an associated performance metric of each of ep and ec for a first particular set containing ep and not containing ec; computing a second metric mean with respect to the associated performance metric for second particular set containing the respective, particular inefficient element; comparing the first and second metric means; if the first metric mean is smaller than the second metric mean, then removing the parent element from the respective hierarchical dependency tree; and if the second metric mean is smaller than the first metric mean by more than a threshold amount, then removing the child element from the respective hierarchical dependency tree.
9. The computer-implemented method of claim 1, wherein grouping mutually dependent influencer elements of each respective hierarchical dependency tree and retaining only a longest of any multiple paths between remaining nodes to generate a respective dependency graph comprises: for each node of each respective hierarchical dependency tree, grouping mutually dependent elements; for each pair of nodes connected with multiple paths, applying a depth first search (DFS) algorithm to determine the longest of the multiple paths; and removing all of multiple paths that are not the longest paths.
10. The computer-implemented method of claim 1, wherein the set of data records comprises log records of operations in the communication network, and wherein the each log record is one of a voice call, a session detail record for a data session, a performance record, or a status or health check record for at least one of a network device, a network service, network operation system, or network monitoring system.
11. A system comprising: one or more processors; and memory configured for storing instructions that, when executed by the one or more processors, cause the system to carry out operations including: obtaining a set of data records including features that characterize operational aspects of a communication network, wherein each given data record comprises a feature vector and one or more performance metrics characterizing operational performance of the communication network, wherein each feature vector of the set comprises a plurality of elements, ei, i=1, . . . , n, each made up of a feature-value pair, (fi,vk), k=1, . . . , mj, for each j=i, that identifies fj with a particular one of n operational aspects of the communication network and assigns to vk one of mj values of the particular operational aspect, and wherein the operational aspects characterized by features correspond to hardware, software, operational, or functional components related to the network operations; applying a first statistical analysis to the set of data records and their performance metrics to generate one or more data subsets, each comprising a respective subset of feature vectors that each contains a respective, particular inefficient element, wherein the respective, particular inefficient element is associated with a statistically significant negative contribution to network performance; respectively applying a second statistical analysis to each respective subset of feature vectors to (i) identify for the respective, particular inefficient element a respective set of influencer elements representing elements associated with statistically significant negative influence on causing the negative contribution to network performance associated with the respective, particular inefficient element, and (ii) where the respective set of influencer elements is non-empty, discriminate between those influencer elements associated with additive negative influence and those associated with an incompatibility with the particular operational aspect of the communication network and assigned value identified with the respective, particular inefficient element; for each respective subset of feature vectors, analyzing each possible pair of elements of the influencer elements of the respective influencer set of the respective, particular inefficient element to determine a dependency relationship based on a co-occurrence of inefficiency associated with both pair members, wherein all determined dependency relationships from all pairs represent a respective hierarchical dependency tree in which influencer elements of the respective influencer set correspond to nodes; for each determined dependency relationship in each respective hierarchical dependency tree, applying a metric-based rule to identify redundant dependencies of the respective hierarchical dependency tree, and removing at least one element of each of the redundant dependencies from each respective hierarchical dependency tree; grouping mutually dependent influencer elements of each respective hierarchical dependency tree and retaining only a longest of any multiple paths between remaining nodes to generate a respective dependency graph; and displaying at least one respective dependency graph in a display device.
12. The system of claim 11, wherein applying a first statistical analysis to the set of data records and their performance metrics to generate the one or more data subsets, each comprising the respective subset of feature vectors that each contains a respective, particular inefficient element, comprises: for each pair (fj,fk), j≠k, in the set of data records, applying a χ2 test to identify redundant pairs for which fj and fk provide redundant information with respect to respectively associated metrics, and for each redundant pair, marking one of the pair members as excluded from consideration in further analysis; for each fj=t not marked as excluded from consideration, subdividing the set of data records into one or more respective feature subsets each having the same respective value vi, and applying, with respect to respectively associated metrics, a variance test to the respective feature subsets to determine whether fj=t represents a discriminating feature, and if not, marking fj=t as excluded from consideration in further analysis; and for each particular element of the set of data records having (i) an identical value and corresponding to a feature fj=s that is not excluded from consideration by either the χ2 test or the variance test, and (ii) a statistically significant negative contribution to network performance with respect to an associated performance metric, retaining as one of the generated one or more data subsets a respective collection of feature vectors each containing the particular element, wherein the particular element is the particular inefficient element.
13. The system of claim 11, wherein applying a first statistical analysis to the set of data records and their performance metrics to generate the one or more data subsets, each comprising the respective subset of feature vectors that each contains a respective, particular inefficient element, comprises: ranking the respective, particular inefficient elements of among the respective subsets into a list according to increasing negative contribution to network performance; and retaining only a threshold number of list elements in ranked order.
14. The system of claim 11, wherein applying the second statistical analysis to each respective subset of feature vectors to identify for the respective, particular inefficient element a respective set of influencer elements comprises: for each respective subset of feature vectors, identifying every given element, excluding the particular inefficient element, having (i) an identical value, and (ii) a statistically significant negative contribution to network performance with respect to an associated performance metric; and including the given element in the respective set of influencer elements.
15. The system of claim 11, wherein applying the second statistical analysis to each respective subset of feature vectors to discriminate between those influencer elements associated with additive negative influence and those associated with an incompatibility with the particular operational aspect of the communication network and assigned value identified with the respective, particular inefficient element, comprises: for each respective subset of feature vectors, determining for each given influencer element of the respective influencer set, a respective influencer subset of feature vectors corresponding to those containing the given influencer element; and for each respective influencer subset: (i) determining a first intersection with the respective subset of feature vectors; (ii) determining a second intersection with a complementary set of respective subset of feature vectors; (iii) applying a T-test to compare the first and second intersections; and (iv) if the T-test comparison yields a statistically significant difference, then marking the given influencer element as an incompatibility element, otherwise marking the given influencer element as an additive element.
16. The system of claim 11, wherein analyzing each possible pair of elements of the influencer elements of the respective influencer set of the respective, particular inefficient element to determine a dependency relationship based on a co-occurrence of inefficiency associated with both pair members comprises: for each possible pairing of the influencer elements of the respective influencer set, determining a joint distribution of the respective associated features (fr,ft); determining a co-occurrence of the influencer elements of the respective influencer set based on the joint distribution; and determining for each co-occurrence whether it is directional or two-way.
17. The system of claim 11, wherein, for each determined dependency relationship in each respective hierarchical dependency tree, applying a metric-based rule to identify redundant dependencies of the respective hierarchical dependency tree, and removing at least one element of each of the redundant dependencies from each respective hierarchical dependency tree comprises: for each hierarchical dependency between a dependent parent element, ep, and a dependent child element ec, computing a first metric mean with respect to an associated performance metric of each of ep and ec for a first particular set containing ep and not containing ec; computing a second metric mean with respect to the associated performance metric for second particular set containing the respective, particular inefficient element; comparing the first and second metric means; if the first metric mean is smaller than the second metric mean, then removing the parent element from the respective hierarchical dependency tree; and if the second metric mean is smaller than the first metric mean by more than a threshold amount, then removing the child element from the respective hierarchical dependency tree.
18. The system of claim 11, wherein grouping mutually dependent influencer elements of each respective hierarchical dependency tree and retaining only a longest of any multiple paths between remaining nodes to generate a respective dependency graph comprises: for each node of each respective hierarchical dependency tree, grouping mutually dependent elements; for each pair of nodes connected with multiple paths, applying a depth first search (DFS) algorithm to determine the longest of the multiple paths; and removing all of multiple paths that are not the longest paths.
19. The system of claim 11, wherein the set of data records comprises log records of operations in the communication network, and wherein the each log record is one of a voice call, a session detail record for a data session, a performance record, or a status or health check record for at least one of a network device, a network service, network operation system, or network monitoring system.
20. An article of manufacture including a non-transitory computer-readable medium, having stored thereon program instructions that, when executed by one more processors of a system, cause the system to carry out operations including: obtaining a set of data records including features that characterize operational aspects of a communication network, wherein each given data record comprises a feature vector and one or more performance metrics characterizing operational performance of the communication network, wherein each feature vector of the set comprises a plurality of elements, ei, i=1, . . . , n, each made up of a feature-value pair, (fi,vk), k=1, . . . , mj, for each j=i, that identifies fj with a particular one of n operational aspects of the communication network and assigns to vk one of mj values of the particular operational aspect, and wherein the operational aspects characterized by features correspond to hardware, software, operational, or functional components related to the network operations; applying a first statistical analysis to the set of data records and their performance metrics to generate one or more data subsets, each comprising a respective subset of feature vectors that each contains a respective, particular inefficient element, wherein the respective, particular inefficient element is associated with a statistically significant negative contribution to network performance; respectively applying a second statistical analysis to each respective subset of feature vectors to (i) identify for the respective, particular inefficient element a respective set of influencer elements representing elements associated with statistically significant negative influence on causing the negative contribution to network performance associated with the respective, particular inefficient element, and (ii) where the respective set of influencer elements is non-empty, discriminate between those influencer elements associated with additive negative influence and those associated with an incompatibility with the particular operational aspect of the communication network and assigned value identified with the respective, particular inefficient element; for each respective subset of feature vectors, analyzing each possible pair of elements of the influencer elements of the respective influencer set of the respective, particular inefficient element to determine a dependency relationship based on a co-occurrence of inefficiency associated with both pair members, wherein all determined dependency relationships from all pairs represent a respective hierarchical dependency tree in which influencer elements of the respective influencer set correspond to nodes; for each determined dependency relationship in each respective hierarchical dependency tree, applying a metric-based rule to identify redundant dependencies of the respective hierarchical dependency tree, and removing at least one element of each of the redundant dependencies from each respective hierarchical dependency tree; grouping mutually dependent influencer elements of each respective hierarchical dependency tree and retaining only a longest of any multiple paths between remaining nodes to generate a respective dependency graph; and displaying at least one respective dependency graph in a display device.
</claims>
</document>
