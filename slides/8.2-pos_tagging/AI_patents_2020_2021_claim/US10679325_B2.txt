<document>

<filing_date>
2019-09-16
</filing_date>

<publication_date>
2020-06-09
</publication_date>

<priority_date>
2017-06-21
</priority_date>

<ipc_classes>
G06K9/62,G06T3/00,G06T7/00,G06T7/11,G06T7/30,G06T7/35
</ipc_classes>

<assignee>
IBM (INTERNATIONAL BUSINESS MACHINES CORPORATION)
</assignee>

<inventors>
PARK, SUN YOUNG
SARGENT, DUSTIN M.
</inventors>

<docdb_family_id>
64568000
</docdb_family_id>

<title>
Machine learning model for automatic image registration quality assessment and correction
</title>

<abstract>
A medical registration training component executing within a medical registration system performs a training medical registration operation on a pair of medical studies. Responsive to the medical registration training system determining that the training medical registration operation succeeds, the medical registration training system records a medical registration instance for the pair of medical studies in a medical registration history and marks the medical registration instance as a positive instance in the medical registration history. Responsive to the medical registration training system determining that the training medical registration operation requires correction, the medical registration training system records a medical registration instance for the pair of medical studies in the medical registration history and marks the medical registration instance as a negative instance in the medical registration history. The medical registration training system trains a failure prediction machine learning model based on the medical registration history using machine learning such that the failure prediction machine learning model predicts whether a new medical registration operation will require correction. Responsive to the failure prediction machine learning model predicting that the new medical registration operation will require correction, the mechanism takes steps to automatically correct the new medical registration operation.
</abstract>

<claims>
1. A method, in a data processing system comprising at least one processor and at least one memory, the at least one memory comprising instructions that are executed by the at least one processor and configure the at least one processor to implement a medical registration system, the method comprising: performing a training medical registration operation on a pair of medical studies, wherein each medical study within the pair of medical studies comprises at least one image and information about the medical study, wherein the training medical registration operation attempts to align the at least one image in a first medical study within the pair of medical studies with the at least one image in a second medical study within the pair of medical studies; recording a medical registration instance for the pair of medical studies in a medical registration history and marking the medical registration instance as a positive instance in the medical registration history responsive to the medical registration training system determining that the training medical registration operation succeeds, wherein the medical registration history comprises a plurality of medical registration instances; recording a medical registration instance for the pair of medical studies in the medical registration history and marking the medical registration instance as a negative instance in the medical registration history responsive to the medical registration training system determining that the training medical registration operation fails to converge; training a failure prediction machine learning model based on the medical registration history using machine learning such that the failure prediction machine learning model predicts whether a new medical registration operation will fail to converge; and taking steps to automatically correct the new medical registration operation responsive to the failure prediction machine learning model predicting that the new automated medical registration operation will fail to converge.
2. The method of claim 1, wherein the information about the medical study includes information about a modality, a lesion size, a lesion type, a slice overlap, a body part, demographic information about the patient, disease history, use of contrast agents, and imaging protocols.
3. The method of claim 1, further comprising: performing the new medical registration operation; and performing metric convergence analysis on results of the new medical registration operation; wherein the failure prediction machine learning model predicts whether the new medical registration operation will fail to converge based on results of the metric convergence analysis.
4. The method of claim 1, wherein the failure prediction machine learning model comprises a classifier model, wherein predicting whether the new medical registration operation will require correction comprises: generating a feature vector for the new medical registration operation based on results of the medical registration operation and information about a pair of medical studies on which the new medical registration operation is being performed; and applying the classifier model to the feature vector to classify the new medical registration operation as a positive instance or a negative instance.
5. The method of claim 1, wherein the failure prediction machine learning model comprises a regression model, wherein predicting whether the new medical registration operation will require correction comprises: generating a feature vector for the new medical registration operation based on results of the medical registration operation and information about a pair of medical studies on which the new medical registration operation is being performed; applying the regression model to the feature vector to generate a failure probability value; comparing the failure probability value to a threshold; responsive to the failure probability value not being greater than the threshold, predicting that the new medical registration operation will not require correction; and responsive to the failure probability value being greater than the threshol predicting that the new medical registration operation will require correction.
6. The method of claim 1, wherein taking steps to automatically correct the new medical registration operation comprises at least one of performing region of interest (ROD) analysis to register two volumes, performing symmetric registration in both directions and checking convergence to a same point, or performing key organ segmentation and comparing a location of registered volumes.
7. The method of claim 1, further comprising: recording actions required to manually correct the training medical registration Operation responsive to determining that the training medical registration operation requires correction; and training a re-registration machine learning model based on the medical registration history using machine learning such that the re-registration machine learning model identifies a plurality of initialization points for the new medical registration operation.
8. The method of claim 7, further comprising: performing the new medical registration operation; and applying the re-registration machine learning model to the new medical registration operation to identify a cluster of medical registration instances in the medical registration history that are similar to the new medical registration operation responsive to the failure prediction machine learning model predicting that the new medical registration operation will fail to converge and identifying actions required to correct the medical registration operation for negative instances within the cluster of medical registration instances, wherein taking steps to automatically correct the new medical registration operation comprises determining the plurality of initialization points for the new medical registration operation based on the identified actions.
9. The method of claim 8, further comprising identifying differences between the new medical registration operation and positive instances within the cluster of medical registration instances, wherein taking steps to automatically correct the new medical registration operation comprises determining the plurality of initialization points for the new medical registration operation based on the identified differences.
10. The method of claim 1, wherein taking steps to automatically correct the new medical registration operation comprises: determining a plurality of initialization points for the new medical registration operation; performing re-registration of the new medical registration operation from the plurality of initialization points; and selecting a best-converging result of the re-registration from the plurality of initialization points.
11. A computer program product comprising a non-transitory computer readable storage medium having a computer readable program stored therein, wherein the computer readable program, when executed on a computing device, causes the computing device to: perform a training medical registration operation on a pair of medical studies, wherein each medical study within the pair of medical studies comprises at least one image and information about the medical study, wherein the training medical registration operation attempts to align the at least one image in a first medical study within the pair of medical studies with the at least one image in a second medical study within the pair of medical studies; record a medical registration instance for the pair of medical studies in a medical registration history and mark the medical registration instance as a positive instance in the medical registration history responsive to the medical registration training system determining that the training medical registration operation succeeds, wherein the medical registration history comprises a plurality of medical registration instances; record a medical registration instance for the pair of medical studies in the medical registration history and mark the medical registration instance as a negative instance in the medical registration history responsive to the medical registration training system determining that the training medical registration operation fails to converge; train a failure prediction machine learning model based on the medical registration history using machine learning such that the failure prediction machine learning model predicts whether a new medical registration operation will fail to converge; and take steps to automatically correct the new medical registration operation responsive to the failure prediction machine learning model predicting that the new automated medical registration operation will fail to converge.
12. The computer program product of claim 11, wherein the information about the medical study includes information about a modality, a lesion size, a lesion type, a slice overlap, a body part, demographic information about the patient, disease history, use of contrast agents, and imaging protocols.
13. The computer program product of claim 11, wherein the computer readable program further causes the computing device to: performing the new medical registration operation; and performing metric convergence analysis on results of the new medical registration operation; wherein the failure prediction machine learning model predicts whether the new medical registration operation will fail to converge based on results of the metric convergence analysis.
14. The computer program product of claim 11, wherein the failure prediction machine learning model comprises a classifier model, wherein predicting whether the new medical registration operation will require correction comprises: generating a feature vector for the new medical registration operation based on results of the medical registration operation and information about a pair of medical studies on which the new medical registration operation is being performed; and applying the classifier model to the feature vector to classify the new medical registration operation as a positive instance or a negative instance.
15. The computer program product of claim 11, wherein the failure prediction machine learning model comprises a regression model, wherein predicting whether the new medical registration operation will require correction comprises: generating a feature vector for the new medical registration operation based on results of the medical registration operation and information about a pair of medical studies on which the new medical registration operation is being performed; applying the regression model to the feature vector to generate a failure probability value; comparing the failure probability value to a threshold; responsive to the failure probability value not being greater than the threshold, predicting that the new medical registration operation will not require correction; and responsive to the failure probability value being greater than the threshold, predicting that the new medical registration operation will require correction.
16. The computer program product of claim 11, wherein taking steps to automatically correct the new medical registration operation comprises at least one of performing region of interest (ROI) analysis to register two volumes, performing symmetric registration in both directions and checking convergence to a same point, or performing key organ segmentation and comparing a location of registered volumes.
17. The computer program product of claim 11, wherein the computer readable program further causes the computing device to: record actions required to manually correct the training medical registration operation responsive to determining that the training medical registration operation requires correction; and train a re-registration machine learning model based on the medical registration history using machine learning such that the re-registration machine learning model identifies a plurality of initialization points for the new medical registration operation.
18. The computer program product of claim 17, wherein the computer readable program further causes the computing device to: perform the new medical registration operation; and apply the re-registration machine learning model to the new medical registration operation to identify a cluster of medical registration instances in the medical registration history that are similar to the new medical registration operation responsive to the failure prediction machine learning model predicting that the new medical registration operation will fail to converge and identify actions required to correct the medical registration operation for negative instances within the cluster of medical registration instances, wherein taking steps to automatically correct the new medical registration operation comprises determining the plurality of initialization points for the new medical registration operation based on the identified actions.
19. The computer program product of claim 11, wherein taking steps to automatically correct the new medical registration operation comprises: determining a plurality of initialization points for the new medical registration operation; performing re-registration of the new medical registration operation from the plurality of initialization points; and selecting a best-converging result of the re-registration from the plurality of initialization points.
20. An apparatus comprising: at least one processor; and a memory coupled to the at least one processor, wherein the memory comprises instructions which, when executed by the at least one processor, cause the at least one processor to: perform-a training medical registration operation on a pair of medical studies, wherein each medical study within the pair of medical studies comprises at least one image and information about the medical study, wherein the training medical registration operation attempts to align the at least one image in a first medical study within the pair of medical studies with the at least one image in a second medical study within the pair of medical studies; record a medical registration instance for the pair of medical studies in a medical registration history and mark the medical registration instance as a positive instance in the medical registration history responsive to the medical registration training system determining that the training medical registration operation succeeds, wherein the medical registration history comprises a plurality of medical registration instances; record a medical registration instance for the pair of medical studies in the medical registration history and mark the medical registration instance as a negative instance in the medical registration history responsive to the medical registration training system determining that the training medical registration operation fails to converge; train a failure prediction machine learning model based on the medical registration history using machine learning such that the failure prediction machine learning model predicts whether a new medical registration operation will fail to converge; and take steps to automatically correct the new medical registration operation responsive to the failure prediction machine learning model predicting that the new automated medical registration operation will fail to converge.
</claims>
</document>
