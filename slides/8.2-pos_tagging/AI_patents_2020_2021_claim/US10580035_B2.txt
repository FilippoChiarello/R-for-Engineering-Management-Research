<document>

<filing_date>
2015-05-27
</filing_date>

<publication_date>
2020-03-03
</publication_date>

<priority_date>
2015-05-27
</priority_date>

<ipc_classes>
G06Q30/02
</ipc_classes>

<assignee>
STAPLES & COMPANY
</assignee>

<inventors>
MEHANIAN, COUROSH
WEE, TIMOTHY
KUMARA, KARTHIK
</inventors>

<docdb_family_id>
57398677
</docdb_family_id>

<title>
Promotion selection for online customers using Bayesian bandits
</title>

<abstract>
Technology for selecting promotion(s) to display in a page of an application for display to a user is described. An example method includes determining a promotion for a product; calculating for the promotion a posterior distribution of a user-action probability reflecting estimates for a user response to a display of the promotion for the product on a computing device of the user; determining the posterior distribution as collapsing beyond a certain threshold; responsive thereto, calculating an uncollapsed posterior distribution of the user-action probability reflecting modified estimates for the user response to the display of the promotion for the product on a computing device of the user; storing the uncollapsed posterior distribution of the user-action probability in a response database; and determining whether to select the promotion from the promotion database for display on a computing device of the user based on the modified estimates.
</abstract>

<claims>
1. A computer-implemented method comprising: determining, using one or more computing devices, a promotion for a product, the promotion being retrievable from a promotion database and providable for display to a user; receiving, using one or more computing devices, clickstream data reflecting past displays of the promotion to past users; storing, using one or more computing devices, the clickstream data in at least one memory for the promotion; iteratively calculating, using one or more computing devices and for the promotion, a posterior distribution of a user-action probability for each iteration using at least one processor that accesses the clickstream data stored in at least one memory for the promotion, wherein the user-action probability reflects estimates for a user response to a future display of the promotion for the product on a computing device of the user; automatically determining, by one or more computing devices, whether the posterior distribution is collapsing beyond a certain threshold for each iteration using at least one processor to compare the posterior distribution for each iteration to the certain threshold; responsive to at least one processor determining the posterior distribution for an iteration is collapsing, calculating, using at least one processor that executes a set of formulas, an uncollapsed posterior distribution of the user-action probability reflecting modified estimates for the future user response to the display of the promotion for the product on a computing device of the user, the set of formulas being adapted to prevent the uncollapsed posterior distribution from collapsing beyond the certain threshold; determining by at least one processor whether to select the promotion from the promotion database for display on a computing device of the user based on the modified estimates for each iteration; responsive to determining to select the promotion from the promotion database, transmitting the promotion to the computing device of the user; and selectively displaying the promotion on the computing device of the user in response to determining whether to select the promotion for each iteration.
2. A computing system comprising: one or more computing devices, including one or more processors and one or more memories, configured to perform operations comprising: determining a promotion for a product, the promotion being retrievable from a promotion database and providable for display to a user; receiving clickstream data reflecting past displays of the promotion to past users; storing the clickstream data in at least one memory for the promotion; iteratively calculating for the promotion a posterior distribution of a user-action probability for each iteration using at least one processor that accesses the clickstream data stored in at least one memory for the promotion, wherein the user-action probability reflects estimates for a future user response to a display of the promotion for the product on a computing device of the user; automatically determining whether the posterior distribution is collapsing beyond a certain threshold for each iteration using at least one processor to compare the posterior distribution for each iteration to the certain threshold; responsive to at least one processor determining the posterior distribution for an iteration is collapsing, calculating, using at least one processor that executes a set of formulas, an uncollapsed posterior distribution of the user-action probability reflecting modified estimates for the future user response to the display of the promotion for the product on a computing device of the user, the set of formulas being adapted to prevent the uncollapsed posterior distribution from collapsing beyond the certain threshold; determining by at least one processor whether to select the promotion from the promotion database for display on a computing device of the user based on the modified estimates for each iteration; estimating by at least one processor a total estimated revenue generated from the promotion with a certain user-action rate that is provided for display to the user, wherein estimating the total estimated revenue includes: determining by at least one processor an estimated revenue associated with the promotion; and calculating by at least one processor the total estimated revenue generated from the promotion using based on a product of the estimated revenue and one or more of a click-through probability and a buy probability associated with the promotion; and responsive to determining to select the promotion from the promotion database, transmitting the promotion to the computing device of the user, wherein the computing device selectively displays the promotion on the computing device of the user in response to the one or more computing devices determining whether to select the promotion for each iteration.
3. The computing system of claim 2, wherein determining the promotion for the product includes determining a set of two or more promotions for products, which includes the promotion for the product and one or more other promotions for other products, and the operations further comprise: calculating for each of the one or more other promotions, using the one or more computing devices, a posterior distribution of a user-action probability reflecting estimates for the user response to a display of that promotion for a product promoted by the promotion on a computing device of the user, storing the posterior distribution of each of the one or more other promotions in the response database, wherein determining whether to select the promotion from the promotion database for display on the computing device of the user based on the modified estimates includes: comparing samples representing user-action probabilities of the promotions which are generated from the posterior distributions, selecting a promotion with a user-action rate, and providing the promotion with the certain user-action rate or buy rate for display on the computing device of the user.
4. A computing system comprising: one or more computing devices, including one or more processors and one or more memories, configured to perform operations comprising: determining a promotion for a product, the promotion being retrievable from a promotion database and providable for display to a user; receiving clickstream data reflecting past displays of the promotion to past users; storing the clickstream data in at least one memory for the promotion; iteratively calculating for the promotion a posterior distribution of a user-action probability for each iteration using at least one processor that accesses the clickstream data stored in at least one memory for the promotion, wherein: the user-action probability reflects estimates for a future user response to a display of the promotion for the product on a computing device of the user; and calculating the posterior distribution includes: determining by at least one processor a number of successes (k) representing a user action that resulted from a certain number (n) of times the promotion was served by a webserver for viewing, and calculating by at least one processor values for shape parameters (α,β) of the posterior distribution based on previously calculated values for shape parameters (α0,β0) used during a prior distribution calculation and a formula: α=α0+k and β=β0+n-k; automatically determining whether the posterior distribution is collapsing beyond a certain threshold for each iteration using at least one processor to compare the posterior distribution for each iteration to the certain threshold; responsive to at least one processor determining the posterior distribution is collapsing, calculating, using at least one processor that executes a set of formulas, an uncollapsed posterior distribution of the user-action probability reflecting modified estimates for the future user response to the display of the promotion for the product on a computing device of the user, the set of formulas being adapted to prevent the uncollapsed posterior distribution from collapsing beyond the certain threshold; determining by at least one processor whether to select the promotion from the promotion database for display on a computing device of the user based on the modified estimates for each iteration; and responsive to determining to select the promotion from the promotion database, transmitting the promotion to the computing device of the user, wherein the computing device selectively displays the promotion on the computing device of the user in response to the one or more computing devices determining whether to select the promotion for each iteration.
5. A computing system comprising: one or more computing devices, including one or more processors and one or more memories, configured to perform operations comprising: determining a promotion for a product, the promotion being retrievable from a promotion database and providable for display to a user; receiving clickstream data reflecting past displays of the promotion to past users; storing the clickstream data in at least one memory for the promotion; iteratively calculating for the promotion a posterior distribution of a user-action probability for each iteration using at least one processor that accesses the clickstream data stored in at least one memory for the promotion, wherein the user-action probability reflects estimates for a future user response to a display of the promotion for the product on a computing device of the user; automatically determining whether the posterior distribution is collapsing beyond a certain threshold for each iteration using at least one processor to compare the posterior distribution for each iteration to the certain threshold; responsive to at least one processor determining the posterior distribution is collapsing, calculating, using at least one processor that executes a set of formulas, an uncollapsed posterior distribution of the user-action probability reflecting modified estimates for the future user response to the display of the promotion for the product on a computing device of the user, the set of formulas being adapted to prevent the uncollapsed posterior distribution from collapsing beyond the certain threshold and including: determining by at least one processor a number of successes (k) representing a user action that resulted from a certain number (n) of times the promotion was served by a webserver for viewing, calculating by at least one processor a value representing a mean user-action probability for the promotion based on values for shape parameters used during the posterior distribution calculation and a formula included in the set of formulas: μ=α0+k/α0+β0+n, calculating by at least one processor a variable (n) using formula: ñ=α0+β0+f(n, nmax), f being a function that has a saturating behavior at large values of its first argument and nmax being a value that sets a scale for the uncollapsed posterior distribution, and calculating by at least one processor values of shape parameters α and β for a subsequent posterior distribution calculation for the promotion using a formula included in the set of formulas: α=μñ and β=(1−μ)ñ; determining by at least one processor whether to select the promotion from the promotion database for display on a computing device of the user based on the modified estimates for each iteration; and responsive to determining to select the promotion from the promotion database, transmitting the promotion to the computing device of the user, wherein the computing device selectively displays the promotion on the computing device of the user in response to the one or more computing devices determining whether to select the promotion for each iteration.
6. The computing system of claim 5, wherein function f is one of a nmax tan h(n/nmax) function, a min(max(0,n), nmax) function, and a nmax erf(n/nmax) function, tan h being a hyperbolic tangent function and erf being an error function.
7. A computing system comprising: one or more computing devices, including one or more processors and one or more memories, configured to perform operations comprising: determining a promotion for a product, the promotion being retrievable from a promotion database and providable for display to a user; receiving clickstream data reflecting past displays of the promotion to past users; storing the clickstream data in at least one memory for the promotion; iteratively calculating for the promotion a posterior distribution of a user-action probability for each iteration using at least one processor that accesses the clickstream data stored in at least one memory for the promotion, wherein the user-action probability reflects estimates for a future user response to a display of the promotion for the product on a computing device of the user; automatically determining whether the posterior distribution is collapsing beyond a certain threshold for each iteration using at least one processor to compare the posterior distribution for each iteration to the certain threshold; responsive to at least one processor determining the posterior distribution is collapsing, calculating, using at least one processor that executes a set of formulas, an uncollapsed posterior distribution of the user-action probability reflecting modified estimates for the future user response to the display of the promotion for the product on a computing device of the user, the set of formulas being adapted to prevent the uncollapsed posterior distribution from collapsing beyond the certain threshold; determining by at least one processor whether to select the promotion from the promotion database for display on a computing device of the user based on the modified estimates for each iteration; and responsive to determining to select the promotion from the promotion database, transmitting the promotion to the computing device of the user, wherein the computing device selectively displays the promotion on the computing device of the user in response to the one or more computing devices determining whether to select the promotion for each iteration.
8. A computing system comprising: one or more computing devices, including one or more processors and one or more memories, configured to perform operations comprising: determining a set of promotions for products retrievable from a promotion database and providable for display to a user; receiving clickstream data reflecting past displays of the promotion to past users; storing the clickstream data in at least one memory for the promotion; iteratively calculating for the promotion a posterior distribution of a user-action probability for each iteration using at least one processor that accesses the clickstream data stored in at least one memory for the promotion, wherein the user-action probability reflects estimates for a future user response to a display of the promotion for the product on a computing device of the user; automatically determining whether the posterior distribution is collapsing beyond a certain threshold for each iteration using at least one processor to compare the posterior distribution for each iteration to the certain threshold; responsive to at least one processor determining the posterior distribution is collapsing, calculating, using at least one processor that executes a set of formulas, an uncollapsed posterior distribution of the user-action probability reflecting modified estimates for the future user response to the display of the promotion for the product on a computing device of the user, the set of formulas being adapted to prevent the uncollapsed posterior distribution from collapsing beyond the certain threshold; determining by at least one processor whether to select the promotion from the promotion database for display on a computing device of the user based on the modified estimates for each iteration; determining by at least one processor a number of page views for each of the promotions and a number of successes associated with each of the promotions representing user actions resulting from the page views of that promotion; determining by at least one processor that a same promotion is being selected for display since a certain amount of time based on the posterior distribution and the uncollapsed posterior distribution; responsive to determining by at least one processor that the same promotion is being selected for display, calculating a set of subsequent posterior distributions based on the posterior distribution, the uncollapsed posterior distribution, the number of page views respectively associated with the promotions, and the number of successes respectively associated with the promotions, the subsequent posterior including user-action probabilities reflecting estimates of user actions accounting for changes in user advertisement preferences; automatically selecting by at least one processor a promotion with a certain user-action rate based on a comparison of random samples generated from the subsequent posterior distributions; and responsive to determining to select the promotion with the certain user-action rate from the promotion database, transmitting the promotion to the computing device of the user, wherein the computing device selectively displays the promotion on the computing device of the user in response to the one or more computing devices determining whether to select the promotion for each iteration.
9. The computing system of claim 8, wherein selecting the promotion with the certain user-action rate includes comparing click-through or buy probabilities reflected by samples generated from the subsequent posterior distributions of the promotions to determine a promotion with the highest click-through rate or buy rate.
10. The computing system of claim 8, wherein T is the certain amount of time, the number of page views is n, the number of successes is k, and calculating the set of subsequent posterior distributions includes, for each of the posterior distributions: determining a weighting kernel w, calculating a first variable {circumflex over (k)} based on w, k, and a formula: {circumflex over (k)}=Σt=-Tt=0 w(t)k(t), where w and k are variables dependent upon time t, calculating a second variable {circumflex over (n)} based on w, n, and a formula: {circumflex over (n)}=Σt=-Tt=0 w(t)n(t), where w and n are dependent upon time t, and calculating for the promotion, a value (μ) representing a mean user-action probability for that promotion based on previously calculated shape parameters values (α0,β0) used during a previous distribution calculation, the first variable {circumflex over (k)}, the second variable {circumflex over (n)}, and a formula: calculating a variable (ñ) using formula: ñ=α0+β0+f({circumflex over (n)},nmax), f being a function that has a saturating behavior at large values of its first argument and nmax being a value that sets a scale for the posterior distribution, and calculating values of shape parameters α and β for a subsequent posterior distribution calculation for the promotion using a formula: α=μñ and β=(1−μ)ñ.
11. The computing system of claim 10, wherein function f is one of a nmax tan h({circumflex over (n)}/nmax) function, a min(max(0,{circumflex over (n)}), nmax) function, and a nmax erf({circumflex over (n)}/nmax) function, tan h being a hyperbolic tangent function and erf being an error function.
12. The computer-implemented method of claim 1, wherein the clickstream data includes a certain number (n) of times the promotion was served by a webserver for viewing.
13. The computing system of claim 7, wherein the clickstream data includes a certain number (n) of times the promotion was served by a webserver for viewing.
</claims>
</document>
