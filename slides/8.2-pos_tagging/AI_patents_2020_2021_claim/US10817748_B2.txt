<document>

<filing_date>
2018-07-30
</filing_date>

<publication_date>
2020-10-27
</publication_date>

<priority_date>
2017-09-11
</priority_date>

<ipc_classes>
G06K9/00,G06K9/62,G06T7/246,G06T7/73
</ipc_classes>

<assignee>
BAIDU ON-LINE NETWORK TECHNOLOGY (BEIJING) COMPANY
</assignee>

<inventors>
WANG JUN
ZHANG YE
WANG LIANG
</inventors>

<docdb_family_id>
65632138
</docdb_family_id>

<title>
Method and apparatus for outputting information
</title>

<abstract>
Embodiments of the present disclosure disclose a method and apparatus for outputting information. A specific embodiment of the method comprises: importing a first obstacle point cloud and a second obstacle point cloud having a to-be-calculated similarity into a pre-trained similarity calculation model to generate a similarity between the first obstacle point cloud and the second obstacle point cloud, the similarity calculation model being used for characterizing a corresponding relationship between the two obstacle point clouds and the similarity; and finally outputting the generated similarity. The embodiments have effectively reduced labor and time cost as result of determining various parameters for calculating the similarity.
</abstract>

<claims>
1. A method for outputting information, comprising: importing a first obstacle point cloud and a second obstacle point cloud having a to-be-calculated similarity into a pre-trained similarity calculation model to generate a similarity between the first obstacle point cloud and the second obstacle point cloud, the pre-trained similarity calculation model being used for characterizing a corresponding relationship between the similarity and the two obstacle point clouds; outputting the generated similarity; the pre-trained similarity calculation model being obtained through following training: acquiring an initial similarity calculation model and a predetermined sample data set, each piece of sample data comprising the two obstacle point clouds and the similarity between the two obstacle point clouds; training the initial similarity calculation model using a machine learning method with the two obstacle point clouds of a piece of sample data in the predetermined sample data set as input data, and the similarity in the piece of sample data as corresponding output data; and defining the trained initial similarity calculation model as the pre-trained similarity calculation model.
2. The method according to claim 1, wherein the predetermined sample data set is obtained through: acquiring testing obstacle point clouds and annotated obstacle point clouds corresponding to each frame of a sample laser point cloud in a sample laser point cloud frame sequence, wherein an annotated obstacle point cloud comprises an obstacle identifier indicating a physical obstacle characterized by the annotated obstacle point cloud; generating an obstacle identifier set containing different obstacle identifiers in obstacle identifiers of the annotated obstacle point clouds corresponding to the each frame of the sample laser point cloud; determining, for each of the testing obstacle point clouds corresponding to a frame of the sample laser point cloud, a matching degree vector having a preset number of dimensions and corresponding to a testing obstacle point cloud based on a similarity between each of the testing obstacle point clouds and each of the annotated obstacle point clouds corresponding to the frame of the sample laser point cloud, the preset number of dimensions being a number of the obstacle identifiers in the obstacle identifier set, a value of an element in the matching degree vector being a matching degree between the testing obstacle point cloud and a physical obstacle indicated by an obstacle identifier in the obstacle identifier set; and generating the two obstacle point clouds and the similarity in the piece of sample data in the predetermined sample data set based on a similarity between matching degree vectors of each of the testing obstacle point clouds corresponding to one of two frames of the sample laser point cloud and matching degree vectors of each of the testing obstacle point clouds corresponding to the other one of the two frames of the sample laser point cloud, the two frames of the sample laser point cloud having a location difference in the sample laser point cloud frame sequence being smaller than or equal to a preset number.
3. The method according to claim 2, wherein the generating the two obstacle point clouds and the similarity in the piece of sample data in the predetermined sample data set based on a similarity between matching degree vectors of each of the testing obstacle point clouds corresponding to one of the two frames of the sample laser point cloud and matching degree vectors of each of the testing obstacle point clouds corresponding to the other one of the two frames of the sample laser point cloud, the two frames of the sample laser point cloud having a location difference in the sample laser point cloud frame sequence being smaller than or equal to a preset number comprises: generating at least one piece of sample data, for the two frames of the sample laser point cloud having the location difference in the sample laser point cloud frame sequence being smaller than the preset number, wherein a piece of sample data in the at least one piece of sample data is generated based on a first testing obstacle point cloud of at least one testing obstacle point cloud corresponding to the one of the two frames of the sample laser point cloud and a second testing obstacle point cloud of at least one testing obstacle point cloud corresponding to the other one of the two frames of the sample laser point cloud, defining the first testing obstacle point cloud and the second testing obstacle point cloud as the two obstacle point clouds in the generated piece of sample data, and defining the similarity between the matching degree vector corresponding to the first testing obstacle point cloud and a matching degree vector corresponding to the second testing obstacle point cloud as a similarity of the generated piece of sample data; and defining the predetermined sample data set based on the generated at least one piece of sample data.
4. The method according to claim 3, wherein the similarity between each of the testing obstacle point clouds and each of the annotated obstacle point clouds is a Jaccard similarity coefficient between the each of the testing obstacle point clouds and the each of the annotated obstacle point clouds.
5. The method according to claim 4, wherein the similarity between the matching degree vector corresponding to the first testing obstacle point cloud and the matching degree vector corresponding to the second testing obstacle point cloud is an inner product, a Jaccard similarity coefficient or a cosine similarity between the matching degree vector corresponding to the first testing obstacle point cloud and the matching degree vector corresponding to the second testing obstacle point cloud.
6. The method according to claim 5, wherein the predetermined sample data set comprises a positive sample data set having a similarity greater than a preset similarity threshold and a negative sample data set having a similarity smaller than or equal to the preset similarity threshold; and the defining the predetermined sample data set based on the generated at least one piece of sample data comprises: generating a negative sample data set based on sample data, having a similarity smaller than or equal to the preset similarity threshold of the generated at least one piece of sample data; and generating a positive sample data set based on sample data having a similarity greater than the preset similarity threshold of the generated at least one piece of sample data.
7. The method according to claim 6, wherein the generating a positive sample data set based on sample data having a similarity greater than the preset similarity threshold of the generated at least one piece of sample data comprises: generating the positive sample data set using the sample data having the similarity greater than the preset similarity threshold of the generated at least one piece of sample data; sorting pieces of positive sample data in the generated positive sample data set in an ascending order of similarity in the pieces of positive sample data; calculating fractile distribution of the similarity of the pieces of positive data using a preset fractile based on a sorting result, and generating fractile results of the preset fractile; and updating a similarity of a corresponding piece of positive sample data in the generated positive sample data set using the generated fractile results of the preset fractile.
8. The method according to claim 7, wherein the generating the negative sample data set based on sample data having a similarity smaller than or equal to the preset similarity threshold of the generated at least one piece of sample data comprises: generating, the negative sample data set using the sample data having the similarity smaller than or equal to the preset similarity threshold of the generated at least one piece of sample data; and deleting negative sample data having a low matching degree from the generated negative sample data set, wherein a characteristic point distance between two obstacle point clouds in the negative sample data having a low matching degree is greater than a preset distance threshold, or eigenvalues of a preset characteristic of the two obstacle point clouds in the negative sample data having a low matching degree are different, and the characteristic point distance between the two obstacle point clouds is a distance between a coordinate of a characteristic point corresponding to one of the two obstacle point clouds and a coordinate of a characteristic point corresponding to the other one of the two obstacle point clouds.
9. An apparatus for outputting information, comprising: at least one processor; and a memory storing instructions, the instructions when executed by the at least one processor, cause the at least one processor to perform operations, the operations comprising: importing a first obstacle point cloud and a second obstacle point cloud having a to-be-calculated similarity into a pre-trained similarity calculation model to generate similarity between the first obstacle point cloud and the second obstacle point cloud, the pre-trained similarity calculation model being used for characterizing a corresponding relationship between the similarity and the two obstacle point clouds; outputting the generated similarity; the pre-trained similarity calculation model being obtained through following training: acquiring an initial similarity calculation model and a predetermined sample data set, each piece of sample data comprising the two obstacle point clouds and the similarity between the two obstacle point clouds; training the initial similarity calculation model using a machine learning method with the two obstacle point clouds of a piece of sample data in the predetermined sample data set as input data, and the similarity in the piece of sample data as corresponding output data; and defining the trained initial similarity calculation model as the pre-trained similarity calculation model.
10. The apparatus according to claim 9, wherein the predetermined sample data set is obtained through: acquiring testing obstacle point clouds and annotated obstacle point clouds corresponding to each frame of a sample laser point cloud in a sample laser point cloud frame sequence, wherein an annotated obstacle point cloud comprises an obstacle identifier indicating a physical obstacle characterized by the annotated obstacle point cloud; generating an obstacle identifier set containing different obstacle identifiers in obstacle identifiers of the annotated obstacle point clouds corresponding to the each frame of the sample laser point cloud; determining, for each of the testing obstacle point clouds corresponding to a frame of the sample laser point cloud, a matching degree vector having a preset number of dimensions and corresponding to a testing obstacle point cloud based on a similarity between each of the testing obstacle point clouds and each of the annotated obstacle point clouds corresponding to the frame of the sample laser point cloud, the preset number of dimensions being a number of the obstacle identifiers in the obstacle identifier set, a value of an element in the matching degree vector being a matching degree between the testing obstacle point cloud and a physical obstacle indicated by an obstacle identifier in the obstacle identifier set; and generating the two obstacle point clouds and the similarity in the piece of sample data in the predetermined sample data set based on a similarity between matching degree vectors of each of the testing obstacle point clouds corresponding to one of two frames of the sample laser point cloud and matching degree vectors of each of the testing obstacle point clouds corresponding to the other one of the two frames of the sample laser point cloud, the two frames of the sample laser point cloud having a location difference in the sample laser point cloud frame sequence being smaller than or equal to a preset number.
11. The apparatus according to claim 10, wherein the generating the two obstacle point clouds and the similarity in the piece of sample data in the predetermined sample data set based on a similarity between matching degree vectors of each of the testing obstacle point clouds corresponding to one of the two frames of the sample laser point cloud and matching degree vectors of each of the testing obstacle point clouds corresponding to the other one of the two frames of the sample laser point cloud, the two frames of the sample laser point cloud having a location difference in the sample laser point cloud frame sequence being smaller than or equal to a preset number comprises: generating at least one piece of sample data, for the two frames of the sample laser point cloud having the location difference in the sample laser point cloud frame sequence being smaller than the preset number, wherein a piece of sample data in the at least one piece of sample data is generated based on a first testing obstacle point cloud of at least one testing obstacle point cloud corresponding to the one of the two frames of the sample laser point cloud and a second testing obstacle point cloud of at least one testing obstacle point cloud corresponding to the other one of the two frames of the sample laser point cloud, defining the first testing obstacle point cloud and the second testing obstacle point cloud as the two obstacle point clouds in the generated piece of sample data, and defining the similarity between the matching degree vector corresponding to the first testing obstacle point cloud and a matching degree vector corresponding to the second testing obstacle point cloud as a similarity of the generated piece of sample data; and defining the predetermined sample data set based on the generated at least one piece of sample data.
12. The apparatus according to claim 11, wherein the similarity between each of the testing obstacle point clouds and each of the annotated obstacle point clouds is a Jaccard similarity coefficient between the each of the testing obstacle point clouds and the each of the annotated obstacle point clouds.
13. The apparatus according to claim 12, wherein the similarity between the matching degree vector corresponding to the first testing obstacle point cloud and the matching degree vector corresponding to the second testing obstacle point cloud is an inner product, a Jaccard similarity coefficient or a cosine similarity between the matching degree vector corresponding to the first testing obstacle point cloud and the matching degree vector corresponding to the second testing obstacle point cloud.
14. The apparatus according to claim 13, wherein the predetermined sample data set comprises a positive sample data set having a similarity greater than a preset similarity threshold and a negative sample data set having a similarity smaller than or equal to the preset similarity threshold; and the defining the predetermined sample data set based on the generated at least one piece of sample data comprises: generating a negative sample data set based on sample data having a similarity smaller than or equal to the preset similarity threshold of the generated at least one piece of sample data; and generating a positive sample data set based on sample data having a similarity greater than the preset similarity threshold of the generated at least one piece of sample data.
15. The apparatus according to claim 14, wherein the generating a positive sample data set based on sample data having a similarity greater than the preset similarity threshold of the generated at least one piece of sample data comprises: generated the positive sample data set using the sample data having the similarity greater than the preset similarity threshold of the generated at least on piece of sample data; sorting pieces of positive sample data in the generated positive sample data set in an ascending order of similarity in the pieces of positive sample data; calculating fractile distribution of the similarity of the pieces of positive sample data using a preset fractile based on a sorting result, and generating fractile results of the preset fractile; and updating a similarity of a corresponding piece of positive sample data in the generated positive sample data set using the generated fractile results of the preset fractile.
16. The apparatus according to claim 15, wherein the generating the negative sample data set based on sample data having a similarity smaller than or equal to the preset similarity threshold of the generated at least one piece of sample data comprises: generating the negative sample data set using the sample data having the similarity smaller than or equal to the preset similarity threshold of the generated at least one piece of sample data; and deleting negative sample data having a low matching degree from the generated negative sample data set, wherein a characteristic point distance between two obstacle point clouds in the negative sample data having a low matching degree is greater than a preset distance threshold, or eigenvalues of a preset characteristic of the two obstacle point clouds in the negative sample data having a low matching degree are different, and the characteristic point distance between the two obstacle point clouds is a distance between a coordinate of a characteristic point corresponding to one of the two obstacle point clouds and a coordinate of a characteristic point corresponding to the other one of the two obstacle point clouds.
17. A non-transitory computer readable storage medium storing a computer program, wherein the computer program, when executed by a processor, cause the processor to perform operations, the operation comprising: importing a first obstacle point cloud and a second obstacle point cloud having a to-be-calculated similarity into a pre-trained similarity calculation model to generate a similarity between the first obstacle point cloud and the second obstacle point cloud, the pre-trained similarity calculation model being used for characterizing a corresponding relationship between the similarity and the two obstacle point clouds; outputting the generated similarity; the pre-trained similarity calculation model being obtained through following training: acquiring an initial similarity calculation model and a predetermined sample data set, each piece of sample data comprising the two obstacle point clouds and the similarity between the two obstacle point clouds; training the initial similarity calculation model using a machine learning method with the two obstacle point clouds of a piece of sample data in the predetermined sample data set as input data, and the similarity in the piece of sample data as corresponding output data; and defining the trained initial similarity calculation model as the pre-trained similarity calculation model.
</claims>
</document>
