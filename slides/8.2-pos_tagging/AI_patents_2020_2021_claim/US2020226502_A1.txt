<document>

<filing_date>
2019-11-05
</filing_date>

<publication_date>
2020-07-16
</publication_date>

<priority_date>
2019-01-16
</priority_date>

<ipc_classes>
G06N20/00,G06Q10/02,G06Q50/30
</ipc_classes>

<assignee>
BAIDU ON-LINE NETWORK TECHNOLOGY (BEIJING) COMPANY
</assignee>

<inventors>
XIONG HUI
LIU, HAO
DUAN, JIANGUO
ZHANG, PANPAN
</inventors>

<docdb_family_id>
71516756
</docdb_family_id>

<title>
TRAVEL PLAN RECOMMENDATION METHOD, APPARATUS, DEVICE AND COMPUTER READABLE STORAGE MEDIUM
</title>

<abstract>
Embodiments of the present disclosure provide a travel plan recommendation method, an apparatus, a device and a computer readable storage medium. In the method according to the embodiments of the present disclosure, the travel plan classification model is obtained by training with the comprehensive consideration of the diversity of users, the diversity of the travel environment in time and space and dynamics of the user's travel preference, and the travel feature vector is generated according to the user persona information and the travel mode distribution information of the user, the current travel environment feature information and the feature information of the starting point and the destination point of the current travel, the travel feature vector is inputted into the travel plan classification model to calculate the scores of the candidate travel plans, and the travel plan recommended to the user according to the scores of the candidate travel plans.
</abstract>

<claims>
1. A travel plan recommendation method, comprising: generating a travel feature vector according to user persona information and travel mode distribution information of a user, current travel environment feature information, and feature information of a starting point and a destination point of a current travel; inputting the travel feature vector into a travel plan classification model to calculate scores of candidate travel plans, wherein the travel plan classification model is obtained by training using a training set; and recommending a travel plan to the user according to the scores of the candidate travel plans.
2. The method according to claim 1, wherein before the inputting the travel feature vector into a travel plan classification model to calculate scores of candidate travel plans, the method further comprises: acquiring multiple pieces of historical travel data, and performing feature pre-processing on the historical travel data; generating corresponding sample data according to each piece of the historical travel data that is pre-processed, to obtain the training set comprising sample data corresponding to the multiple pieces of historical travel data; performing model training on a preset classification model using the training set, to obtain the travel plan classification model.
3. The method according to claim 2, wherein the acquiring multiple pieces of historical travel data comprises: acquiring multiple pieces of historical travel information, wherein the historical travel information comprises at least the following: a user identifier, a starting point, a destination point and a travel period; acquiring user persona information and travel mode distribution information corresponding to a user identifier in each piece of the historical travel information, travel environment feature information corresponding to a travel period in each piece of the historical travel information, feature information of a starting point and a destination point in each piece of the historical travel information, and plan selection true value data corresponding to each piece of the historical travel information, to obtain historical travel data corresponding to each piece of the historical travel information.
4. The method according to claim 3, wherein the performing feature pre-processing on the historical travel data comprises: performing One-Hot encoding processing on a category-type feature in the historical travel data; performing abnormal-value processing on a numerical value-type feature in the historical travel data; performing normalization processing on the numerical value-type feature in the historical travel data on which the abnormal-value processing is performed.
5. The method according to claim 3, wherein the generating corresponding sample data according to a certain piece of the historical travel data that is pre-processed comprises: generating a travel feature vector corresponding to that piece of the historical travel data, according to user feature information and travel mode distribution information, travel environment feature information, feature information of a starting point and a destination point in that piece of the historical travel data; generating a label of the travel feature vector corresponding to that piece of the historical travel data, according to plan selection true value data in that piece of the historical travel data; taking the travel feature vector corresponding to that piece of the historical travel data and its label as a piece of sample data.
6. The method according to claims 5, wherein the generating a travel feature vector corresponding to that piece of the historical travel data, according to user feature information and travel mode distribution information, travel environment feature information, feature information of a starting point and a destination point in that piece of the historical travel data comprises: splicing the user persona information and travel mode distribution information, the travel environment feature information, and the feature information of the starting point and the destination point corresponding to that piece of the historical travel information, to generate an original feature vector corresponding to that piece of the historical travel information; performing data completion on a null value feature in the original feature vector, to obtain the travel feature vector.
7. The method according to claim 6, wherein the performing data completion on a null value feature in the original feature vector, to obtain the travel feature vector comprises: calculating, according to a non-null value feature vector comprising a non-null value feature in the original feature vector, cosine similarity between the non-null value feature vector and corresponding feature vectors in other historical travel data; determining K pieces of the other historical travel data with largest cosine similarity between their corresponding feature vectors and the non-null value feature vector as K closest pieces of data of the original feature vector, wherein K is a positive integer; filling the null value feature of the original feature vector with a mean or mode value of the corresponding feature values in the K closest pieces of data.
8. The method according to claim 4, wherein before the performing One-Hot encoding processing on a category-type feature in the historical travel data, the method further comprises: calculating, for respective categories of each of the category-type feature, a value proportion of each of the categories; aggregating categories whose value proportions are less than a preset threshold into one category.
9. The method according to claim 6, wherein the performing abnormal-value processing on a numerical value-type feature in the historical travel data comprises: calculating an Nth percentile value corresponding to each of the numerical value-type feature, wherein N is a positive integer; taking a numerical value-type feature in the original feature vector that is greater than a corresponding Nth percentile value as an abnormal numerical value-type feature; assigning the Nth percentile corresponding to the abnormal numerical value-type feature to the abnormal numerical value-type feature.
10. The method according to claim 4, wherein the performing feature pre-processing on the historical travel data further comprises: calculating importance levels of respective features in the historical travel data using a machine learning-based feature selection manner; performing feature selection on the historical travel data according to the importance levels of the respective features in the historical travel data, to retain a feature whose importance level is greater than a preset importance level.
11. The method according to claim 5, wherein the generating a label of the travel feature vector corresponding to that piece of the historical travel data, according to plan selection true value data in that piece of the historical travel data comprises: taking a One-Hot code corresponding to the plan selection true value data corresponding to that piece of the historical travel data as the label of the travel feature vector corresponding to that piece of the historical travel data.
12. The method according to claim 1, wherein the travel plan classification model is a multi-type xgboost classifier.
13. The method according to claim 1 wherein the feature information of the starting point and the destination of the current travel includes at least the following: a distance between the starting point and the destination point; a number of bus stops, a number of shared bicycles and a number of subway stations that are located around the starting point; and a number of bus stops, a number of shared bicycles and a number of subway stations that are located around the destination point.
14. The method according to claim 2, wherein the performing model training on a preset classification model using the training set, to obtain the travel plan classification model comprises: performing model training on the preset classification model by using the training set, taking a cross entropy loss function as an objective function, using a stochastic gradient descent method, and using grid search and cross-validation manner, to obtain the travel plan classification model.
15. A travel plan recommendation apparatus, comprising: a memory, a processor, and a computer program that is stored the memory and executable on the processor, wherein the processor, when executing the computer program, causing the processor to: generate a travel feature vector according to user persona information and travel mode distribution information of a user, current travel environment feature information, and feature information of a starting point and a destination point of a current travel; input the travel feature vector into a travel plan classification model to calculate scores of candidate travel plans, wherein the travel plan classification model is obtained by training using a training set; recommend a travel plan to the user according to the scores of the candidate travel plans.
16. The apparatus according to claim 15, wherein the computer program further causes the processor to: acquire multiple pieces of historical travel data, and perform feature pre-processing on the historical travel data; generate corresponding sample data according to each piece of the historical travel data that is pre-processed, to obtain the training set comprising sample data corresponding to the multiple pieces of historical travel data; perform model training on a preset classification model using the training set, to obtain the travel plan classification model.
17. The apparatus according to claim 16, wherein the computer program further causes the processor to: acquire multiple pieces of historical travel information, wherein the historical travel information comprises at least the following: a user identifier, a starting point, a destination point and a travel period; acquire user persona information and travel mode distribution information corresponding to a user identifier in each piece of the historical travel information, travel environment feature information corresponding to a travel period in each piece of the historical travel information, feature information of a starting point and a destination point in each piece of the historical travel information, and plan selection true value data corresponding to each piece of the historical travel information, to obtain historical travel data corresponding to each piece of the historical travel information.
18. The apparatus according to claim 17, wherein the computer program further causes the processor to: perform One-Hot encoding processing on a category-type feature in the historical travel data; perform abnormal-value processing on a numerical value-type feature in the historical travel data; perform normalization processing on the numerical value-type feature in the historical travel data on which the abnormal-value processing is performed.
19. The apparatus according to claim 17, wherein the computer program further causes the processor to: generate a travel feature vector corresponding to that piece of the historical travel data, according to user feature information and travel mode distribution information, travel environment feature information, feature information of a starting point and a destination point in that piece of the historical travel data; generate a label of the travel feature vector corresponding to that piece of the historical travel data, according to plan selection true value data in that piece of the historical travel data; take the travel feature vector corresponding to that piece of the historical travel data and its label as a piece of sample data.
20. A computer readable storage medium having a computer program stored thereon, wherein the computer program, when being executed by a processor, implements the method according to claim 1.
</claims>
</document>
