<document>

<filing_date>
2017-10-06
</filing_date>

<publication_date>
2020-06-02
</publication_date>

<priority_date>
2017-08-09
</priority_date>

<ipc_classes>
A61B5/00,A61B5/0205,A61B5/024,A61B5/11
</ipc_classes>

<assignee>
SAMSUNG ELECTRONICS COMPANY
</assignee>

<inventors>
LI, YELEI
</inventors>

<docdb_family_id>
65273898
</docdb_family_id>

<title>
System and method for continuous background heartrate and heartbeat events detection using a motion sensor
</title>

<abstract>
As a non-limiting example, various aspects of this disclosure provide embodiments of continuous background heartrate and heartbeat events detection using a motion sensor during various phases of activity by a user.
</abstract>

<claims>
What are claimed:
1. An electronic device for use by a user, comprising: a motion sensor configured to output a sensor signal that correlates to motion detected from the user; an activity level block configured to receive the sensor signal to determine an activity level of the user based on the received sensor signal; a power mode switcher block configured to select, based on the activity level, one of a first operation mode and a second operation mode, wherein: the first operation mode is selected when the activity level is below an activity threshold; and the second operation mode is selected when the activity level is above the activity threshold; a first operation mode block configured to generate, when in the first operation mode, a continuous heart rate of the user and heartbeat event information; a second operation mode block configured to generate, when in the second operation mode, the continuous heart rate of the user and a heart rate confidence indicator; and a pre-processing block configured to perform discrete wavelet decomposition and reconstruction on the sensor signal to generate a reconstructed signal, wherein one or both of the reconstructed signal and the sensor signal is used during the first operation mode in generating one or both of the continuous heart rate of the user and the heartbeat event information.
2. The electronic device of claim 1, comprising a filter configured to filter the received sensor signal to attenuate frequencies below a first frequency, wherein the filtered sensor signal is provided to the first operation mode block and the second operation mode block.
3. The electronic device of claim 1, wherein the electronic device is worn by the user.
4. The electronic device of claim 1, comprising a transmitter configured to transmit to another electronic device one or more of the sensor signal, the continuous heart rate, the heartbeat event information, and the heart rate confidence indicator.
5. The electronic device of claim 1, wherein the motion sensor is one or more of an accelerometer, a gyroscope, piezoelectric device, an optical sensor, and a sonic sensor.
6. The electronic device of claim 1, wherein the pre-processing block is configured to provide the reconstructed signal to: the first operation mode block to generate, for use in the first operation mode, the continuous heart rate of the user and the heartbeat event information; and the second operation mode block to generate, for use in the second operation mode, the continuous heart rate of the user and a heart rate confidence indicator.
7. The electronic device of claim 6, wherein generating the heart rate confidence indicator comprises: a sampling circuit configured to generate samples from a segment of the reconstructed signal; and a processor configured to: identify motion samples, wherein the motion sample is a sample that has a magnitude greater than a first threshold; determine a motion ratio, wherein the motion ratio is a percentage of the motion samples with respect to all the samples generated from the segment; and determine whether the motion ratio is greater than a second threshold; and perform one of: setting the heart rate confidence indicator to a '0' when the motion ratio is greater than the second threshold; and setting the heart rate confidence indicator to a '1' when the motion ratio is less than or equal to the second threshold.
8. The electronic device of claim 1, wherein the reconstructed signal, but not the sensor signal, is used during the second operation mode in generating one or both of the continuous heart rate of the user and the heart rate confidence indicator.
9. The electronic device of claim 1, wherein the pre-processing block comprises multiple pre-processing modules configured to process, in parallel, the reconstructed signal to generate the continuous heart rate of the user and the heart rate confidence indicator.
10. The electronic device of claim 9, wherein: each of the multiple pre-processing modules is configured to generate a heart rate candidate; and process the heart rate candidates generated by the multiple pre-processing modules to generate one or both of the continuous heart rate of the user and the heart rate confidence indicator.
11. The electronic device of claim 9, wherein each of the multiple pre-processing modules performs a unique pre-processing process on the reconstructed signal.
12. The electronic device of claim 1, comprising a display configured to display one or more of the continuous heart rate of the user, heartbeat event information, and the heart rate confidence indicator.
13. The electronic device of claim 1, comprising a transmitter configured to transmit one or more of the continuous heart rate of the user, heartbeat event information, and the heart rate confidence indicator.
14. A method for an electronic device worn by a user, comprising: receiving a sensor signal from a motion sensor; determining an activity level of the user based on the sensor signal; selecting, based on the activity level, one of a first operation mode and a second operation mode that consumes less power than the first operation mode, wherein: the first operation mode is selected when the activity level is below an activity threshold; and the second operation mode is selected when the activity level is above the activity threshold; generating: when in the first operation mode, a continuous heart rate of the user and heartbeat event information; and when in the second operation mode, the continuous heart rate of the user and a heart rate confidence indicator; and performing discrete wavelet decomposition and reconstruction on the sensor signal to generate a reconstructed signal, wherein one or both of the reconstructed signal and the sensor signal is used during the first operation mode in generating one or both of the continuous heart rate of the user and the heartbeat event information.
15. The method of claim 14, comprising filtering the received sensor signal to attenuate frequencies below a first frequency, wherein the filtered sensor signal is provided to a first operation mode block and a second operation mode block.
16. The method of claim 14, comprising generating with the reconstructed signal: when in the first operation mode, the continuous heart rate of the user and the heartbeat event information; and when in the second operation mode, the continuous heart rate of the user and a heart rate confidence indicator.
17. The method of claim 14, wherein the reconstructed signal, but not the sensor signal, is used during the second operation mode to generate one or both of the continuous heart rate of the user and the heart rate confidence indicator.
18. The method of claim 14, wherein generating the heart rate confidence indicator comprises: generating samples from a segment of the reconstructed signal; determining motion samples, wherein the motion sample is a sample that has a magnitude greater than a first threshold; determining a motion ratio, wherein the motion ratio is a percentage of the motion samples with respect to all the samples generated from the segment; determining whether the motion ratio is greater than a second threshold; and performing one of: setting the heart rate confidence indicator to a '0' when the motion ratio is greater than the second threshold; and setting the heart rate confidence indicator to a '1' when the motion ratio is less than or equal to the second threshold.
19. The method of claim 14, comprising processing in parallel, by multiple pre-processing modules, the reconstructed signal to generate the continuous heart rate of the user and the heart rate confidence indicator, wherein each of the multiple pre-processing modules performs a unique pre-processing process on the reconstructed signal.
20. The method of claim 19, comprising: generating by each of the multiple pre-processing modules a heart rate candidate; and processing the heart rate candidates generated by the multiple pre-processing modules to generate one or both of the continuous heart rate of the user and the heart rate confidence indicator.
21. The method of claim 14, comprising providing to a display of the electronic device for displaying, one or more of the continuous heart rate of the user, heartbeat event information, and the heart rate confidence indicator.
22. The method of claim 14, comprising transmitting to another electronic device one or more of the continuous heart rate of the user, heartbeat event information, and the heart rate confidence indicator.
</claims>
</document>
