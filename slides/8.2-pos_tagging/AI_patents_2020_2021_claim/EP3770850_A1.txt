<document>

<filing_date>
2019-10-29
</filing_date>

<publication_date>
2021-01-27
</publication_date>

<priority_date>
2018-11-01
</priority_date>

<ipc_classes>
G06T7/00
</ipc_classes>

<assignee>
TENCENT TECHNOLOGY (SHENZHEN) COMPANY
</assignee>

<inventors>
XIAO, Kaiwen
CHENG, Chen
YANG, Wei
SUN, Zhongqian
</inventors>

<docdb_family_id>
65609213
</docdb_family_id>

<title>
MEDICAL IMAGE IDENTIFYING METHOD, MODEL TRAINING METHOD, AND COMPUTER DEVICE
</title>

<abstract>
A medical image identifying method, comprising: obtaining a set of medical images to be identified, the set of medical images to be identified comprising at least one medical image to be identified (101); extracting an area to be identified corresponding to each one medical image in the set of medical images, the area belonging to a part of the medical image (102); determining an identification result of each area by means of a medical image identification model, the medical image identification model being obtained by training according to a medical image sample set, the medical image sample set comprising at least one medical image sample, each medical image sample carrying corresponding label information, the label information being used for indicating the type of the medical image sample, and the identification result being used for indicating the type of the medical image (103). Also disclosed are a model training method and a server. The manual labeling costs and time costs are greatly saved, and higher reliability and accuracy are achieved.
</abstract>

<claims>
1. A medical image recognition method, applied to a computer device, the method comprising: obtaining a to-be-recognized medical image set, the to-be-recognized medical image set comprising at least one to-be-recognized medical image; extracting a to-be-recognized area corresponding to each to-be-recognized medical image in the to-be-recognized medical image set, the to-be-recognized area being a part of the to-be-recognized medical image; and determining a recognition result of each to-be-recognized area through a medical image recognition model, the medical image recognition model being obtained through training according to a medical image sample set, the medical image sample set comprising at least one medical image sample, each medical image sample carrying corresponding annotation information, the annotation information being used for representing a type of the medical image sample, the recognition result being used for representing a type of the to-be-recognized medical image.
2. The method according to claim 1, wherein before obtaining a to-be-recognized medical image set, the method further comprises: obtaining a to-be-recognized original medical image set, the to-be-recognized original medical image set comprising at least one to-be-recognized original medical image; obtaining label information of each to-be-recognized original medical image in the to-be-recognized original medical image set, the label information comprising information associated with the to-be-recognized original medical image; and determining, in a case that the label information of the to-be-recognized original medical image satisfies a sample extraction condition, that the to-be-recognized original medical image is the to-be-recognized medical image, until the to-be-recognized medical image set is obtained from the to-be-recognized original medical image set.
3. The method according to claim 1, wherein before obtaining a to-be-recognized medical image set, the method further comprises: obtaining a to-be-recognized original medical image set, the to-be-recognized original medical image set comprising at least one to-be-recognized original medical image; obtaining label information of each to-be-recognized original medical image in the to-be-recognized original medical image set, the label information comprising information associated with the to-be-recognized original medical image; matching the to-be-recognized original medical image with a target medical image in a case that the label information of the to-be-recognized original medical image satisfies a sample extraction condition, the target medical image being a preset image template; and determining, in a case that the to-be-recognized original medical image is successfully matched with the target medical image, that the to-be-recognized original medical image is the to-be-recognized medical image, until the to-be-recognized medical image set is obtained from the to-be-recognized original medical image set.
4. The method according to claim 1, wherein extracting a to-be-recognized area corresponding to each to-be-recognized medical image in the to-be-recognized medical image set comprises: performing binarization on each to-be-recognized medical image in the to-be-recognized medical image set according to a preset reflected value, to obtain a binary medical image corresponding to each to-be-recognized medical image; matching each binary medical image by using a target medical image, to extract a to-be-processed area corresponding to each binary medical image, the target medical image being a preset image template; performing image smoothing on each to-be-processed area, to generate a to-be-extracted outline corresponding to each to-be-processed area, the image smoothing comprising performing at least one of an opening operation and a closing operation on each to-be-processed area; and extracting a corresponding to-be-recognized area from each to-be-recognized medical image by using each to-be-extracted outline.
5. The method according to claim 1, wherein after extracting a to-be-recognized area corresponding to each to-be-recognized medical image in the to-be-recognized medical image set, the method further comprises: scaling down the to-be-recognized area in a case that the to-be-recognized area is larger than or equal to a first preset area; and scaling up the to-be-recognized area in a case that the to-be-recognized area is smaller than or equal to a second preset area.
6. The method according to any one of claims 1 to 5, wherein after extracting a to-be-recognized area corresponding to each to-be-recognized medical image in the to-be-recognized medical image set, the method further comprises: obtaining a reflected value interval corresponding to each to-be-recognized area, the maximum value of the reflected value interval being a first reflected value, the minimum value of the reflected value interval being a second reflected value; and performing normalization on each to-be-recognized area according to the reflected value interval, to obtain a normalized area; and wherein determining a recognition result of each to-be-recognized area through a medical image recognition model comprises: determining a recognition result corresponding to the normalized area of each to-be-recognized area through the medical image recognition model; and the performing normalization on each to-be-recognized area according to the reflected value interval, to obtain a normalized area comprises:
obtaining the normalized area as: wherein xout represents the normalized area, x represents a pixel value of the to-be-recognized area, xmax represents the first reflected value, and xmin represents the second reflected value.
7. A model training method, applied to a computer device, the method comprising: obtaining a to-be-trained medical image sample set, the medical image sample set comprising at least one medical image sample, each medical image sample carrying corresponding annotation information, the annotation information being used for representing a type of the medical image sample; extracting a to-be-trained area corresponding to each medical image sample in the medical image sample set, the to-be-trained area being a part of the medical image sample; and obtaining a medical image recognition model through training according to the to-be-trained area corresponding to each medical image sample and the corresponding annotation information carried by each medical image sample.
8. The method according to claim 7, wherein the obtaining a medical image recognition model through training according to the to-be-trained area corresponding to the each medical image sample and the corresponding annotation information carried by the each medical image sample comprises: training the to-be-trained area corresponding to each medical image sample and the corresponding annotation information carried by each medical image sample through a residual network resnet-18 structure by using a stochastic gradient descent (SGD) algorithm, to obtain a training result; obtaining a plurality of authentication set loss values according to the training result; and determining the medical image recognition model according to the plurality of authentication set loss values.
9. The method according to claim 8, wherein determining the medical image recognition model according to the plurality of authentication set loss values comprises: determining a target authentication set loss value from the plurality of authentication set loss values, the target authentication set loss value being a minimum value in the plurality of authentication set loss values; and determining a training result corresponding to the target authentication set loss value as the medical image recognition model.
10. The method according to claim 7, wherein after the obtaining a medical image recognition model through training according to the to-be-trained area corresponding to the each medical image sample and the corresponding annotation information carried by the each medical image sample, the method further comprises: obtaining a to-be-recognized medical image set, the to-be-recognized medical image set comprising at least one to-be-recognized medical image; extracting a to-be-recognized area corresponding to each to-be-recognized medical image in the to-be-recognized medical image set, the to-be-recognized area being a part of the to-be-recognized medical image; and determining a recognition result of each to-be-recognized area through the medical image recognition model, the recognition result being used for representing a type of the to-be-recognized medical image.
11. A computer device, comprising a memory and a processor, wherein
the memory is configured to store a program,
the processor is configured to execute the program in the memory to: obtain a to-be-recognized medical image set, the to-be-recognized medical image set comprising at least one to-be-recognized medical image; extract a to-be-recognized area corresponding to each to-be-recognized medical image in the to-be-recognized medical image set, the to-be-recognized area being a part of the to-be-recognized medical image; and determine a recognition result of each to-be-recognized area through a medical image recognition model, the medical image recognition model being obtained through training according to a medical image sample set, the medical image sample set comprising at least one medical image sample, each medical image sample carrying corresponding annotation information, the annotation information being used for representing a type of the medical image sample, the recognition result being used for representing a type of the to-be-recognized medical image.
12. The computer device according to claim 11, wherein the processor is further configured to: obtain a to-be-recognized original medical image set, the to-be-recognized original medical image set comprising at least one to-be-recognized original medical image; obtain label information of each to-be-recognized original medical image in the to-be-recognized original medical image set, the label information comprising information associated with the to-be-recognized original medical image; and determine, in a case that the label information of the to-be-recognized original medical image satisfies a sample extraction condition, that the to-be-recognized original medical image is the to-be-recognized medical image, until the to-be-recognized medical image set is obtained from the to-be-recognized original medical image set.
13. The computer device according to claim 11, wherein the processor is further configured to: obtain a to-be-recognized original medical image set, the to-be-recognized original medical image set comprising at least one to-be-recognized original medical image; obtain label information of each to-be-recognized original medical image in the to-be-recognized original medical image set, the label information comprising information associated with the to-be-recognized original medical image; match the to-be-recognized original medical image with a target medical image in a case that the label information of the to-be-recognized original medical image satisfies a sample extraction condition, the target medical image being a preset image template; and determine, in a case that the to-be-recognized original medical image is successfully matched with the target medical image, that the to-be-recognized original medical image is the to-be-recognized medical image, until the to-be-recognized medical image set is obtained from the to-be-recognized original medical image set.
14. The computer device according to claim 11, wherein the processor is configured to: perform binarization on each to-be-recognized medical image in the to-be-recognized medical image set according to a preset reflected value, to obtain a binary medical image corresponding to each to-be-recognized medical image; match each binary medical image by using a target medical image, to extract a to-be-processed area corresponding to each binary medical image, the target medical image being a preset image template; perform image smoothing on each to-be-processed area, to generate a to-be-extracted outline corresponding to each to-be-processed area, the image smoothing comprising performing at least one of an opening operation and a closing operation on each to-be-processed area; and extract the corresponding to-be-recognized area from each to-be-recognized medical image by using each to-be-extracted outline.
15. The computer device according to claim 11, wherein the processor is further configured to: scale down the to-be-recognized area in a case that the to-be-recognized area is larger than or equal to a first preset area; and scale up the to-be-recognized area in a case that the to-be-recognized area is smaller than or equal to a second preset area.
16. The computer device according to claim 11, wherein the processor is further configured to: obtain a reflected value interval corresponding to each to-be-recognized area, the maximum value of the reflected value interval being a first reflected value, the minimum value of the reflected value interval being a second reflected value; and performing normalization on the each to-be-recognized area according to the reflected value interval, to obtain a normalized area; and the processor is configured to: determine a recognition result corresponding to the normalized area of each to-be-recognized area through the medical image recognition model; and the processor is configured to obtain the normalized area as: wherein xout represents the normalized area, x represents a pixel value of the to-be-recognized area, xmax represents the first reflected value, and xmin represents the second reflected value.
17. A computer device, comprising a memory and a processor,
the memory being configured to store a program,
the processor being configured to execute the program in the memory to: obtain a to-be-trained medical image sample set, the medical image sample set comprising at least one medical image sample, each medical image sample carrying corresponding annotation information, the annotation information being used for representing the type of the medical image sample; extract a to-be-trained area corresponding to the each medical image sample in the medical image sample set, the to-be-trained area being a part of the medical image sample; and obtain a medical image recognition model through training according to the to-be-trained area corresponding to the each medical image sample and the corresponding annotation information carried by the each medical image sample.
18. A medical image recognition system, comprising an image scanning device and an image processing device,
the image scanning device being configured to: scan a medical image, and transmit the medical image to the image processing device; and
the image processing device being configured to: obtain a to-be-recognized medical image set, the to-be-recognized medical image set comprising at least one to-be-recognized medical image; extract a to-be-recognized area corresponding to each to-be-recognized medical image in the to-be-recognized medical image set, the to-be-recognized area being a part of the to-be-recognized medical image; and determine a recognition result of each to-be-recognized area through a medical image recognition model, the medical image recognition model being obtained through training according to a medical image sample set, the medical image sample set comprising at least one medical image sample, each medical image sample carrying corresponding annotation information, the annotation information being used for representing the type of the medical image sample, the recognition result being used for representing the type of the to-be-recognized medical image; or the image processing device being configured to: obtain a to-be-trained medical image sample set, the medical image sample set comprising at least one medical image sample, each medical image sample carrying corresponding annotation information, the annotation information being used for representing the type of the medical image sample; extract a to-be-trained area corresponding to the each medical image sample in the medical image sample set, the to-be-trained area being a part of the medical image sample; and obtain a medical image recognition model through training according to the to-be-trained area corresponding to the each medical image sample and the corresponding annotation information carried by the each medical image sample.
19. A computer-readable storage medium, storing at least one piece of program code, the program code being loaded and executed by a processor to: obtain a to-be-recognized medical image set, the to-be-recognized medical image set comprising at least one to-be-recognized medical image; extract a to-be-recognized area corresponding to each to-be-recognized medical image in the to-be-recognized medical image set, the to-be-recognized area being a part of the to-be-recognized medical image; and determine a recognition result of each to-be-recognized area through a medical image recognition model, the medical image recognition model being obtained through training according to a medical image sample set, the medical image sample set comprising at least one medical image sample, each medical image sample carrying corresponding annotation information, the annotation information being used for representing the type of the medical image sample, the recognition result being used for representing the type of the to-be-recognized medical image.
20. A computer-readable storage medium, storing at least one piece of program code, the program code being loaded and executed by a processor to: obtaining a to-be-trained medical image sample set, the medical image sample set comprising at least one medical image sample, each medical image sample carrying corresponding annotation information, the annotation information being used for representing the type of the medical image sample; extracting a to-be-trained area corresponding to the each medical image sample in the medical image sample set, the to-be-trained area being a part of the medical image sample; and obtaining a medical image recognition model through training according to the to-be-trained area corresponding to the each medical image sample and the corresponding annotation information carried by the each medical image sample.
</claims>
</document>
