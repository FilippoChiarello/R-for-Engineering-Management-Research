<document>

<filing_date>
2020-06-30
</filing_date>

<publication_date>
2021-01-07
</publication_date>

<priority_date>
2019-07-05
</priority_date>

<ipc_classes>
G06T11/00,G06T7/00
</ipc_classes>

<assignee>
ISHIDA COMPANY
</assignee>

<inventors>
KUBO, TAKUYU
</inventors>

<docdb_family_id>
72147868
</docdb_family_id>

<title>
IMAGE GENERATING DEVICE, INSPECTION APPARATUS, AND LEARNING DEVICE
</title>

<abstract>
An image generation device comprising: an image acquiring unit configured to acquire a set of a first non-defective-product image and a second non-defective-product image for the same article to be inspected; a first processing unit configured to change a pixel value of a first target pixel that is at least one pixel forming the first non-defective-product image, thereby generating a first virtual defective-product image that is the virtual defective-product image; and a second processing unit configured to change a pixel value of a second target pixel that corresponds to the first target pixel and is at least one pixel forming the second non-defective-product image, thereby generating a second virtual defective-product image that is the virtual defective-product image.
</abstract>

<claims>
1. An image generation device configured to generate a virtual defective-product image in which a virtual foreign-matter image representing a virtual foreign matter is synthesized with a non-defective-product image based on an electromagnetic wave transmitted through an article to be inspected containing no foreign matter, the image generation device comprising: an image acquiring unit configured to acquire a set of a first non-defective-product image and a second non-defective-product image for the same article to be inspected, the first non-defective-product image being the non-defective-product image based on an electromagnetic wave in a first energy band, the second non-defective-product image being the non-defective-product image based on an electromagnetic wave in a second energy band different from the first energy band; a first processing unit configured to change a pixel value of a first target pixel that is at least one pixel forming the first non-defective-product image, thereby generating a first virtual defective-product image that is the virtual defective-product image; and a second processing unit configured to change a pixel value of a second target pixel that corresponds to the first target pixel and is at least one pixel forming the second non-defective-product image, thereby generating a second virtual defective-product image that is the virtual defective-product image, wherein the first processing unit changes the pixel value of the first target pixel by first processing based on an absorptivity of the foreign matter for each electromagnetic wave, and the second processing unit changes the pixel value of the second target pixel by second processing, which is processing different from the first processing, based on the absorptivity.
2. The image generation device according to claim 1, wherein the first processing is processing of reducing or increasing, within a first range, the pixel value of the first target pixel with respect to a pixel value of the first non-defective-product image, the second processing is processing of reducing or increasing, within a second range, the pixel value of the second target pixel with respect to a pixel value of the second non-defective-product image in a similar manner to the first processing, and the first range and the second range are set to be ranges different from each other.
3. The image generation device according to claim 2, wherein a lower limit of an absolute value in either one of the first range and the second range is set smaller than a lower limit of an absolute value in the other of the first range and the second range, and an upper limit of an absolute value in the one of the first range and the second range is set smaller than an upper limit of an absolute value of the other of the first range and the second range.
4. The image generation device according to claim 2, wherein at least one of the upper limit and the lower limit in one of the first range and the second range is set based on the other of the first range and the second range.
5. The image generation device according to claim 3, wherein at least one of the upper limit and the lower limit in one of the first range and the second range is set based on the other of the first range and the second range.
6. The image generation device according to claim 2, further comprising: an information input unit configured to receive input of a type of the foreign matter for the virtual foreign-matter image to be synthesized with the non-defective-product image; and a storage unit configured to store therein synthesis processing information in which the type of the foreign matter to be synthesized with the non-defective-product image and at least one of the first range and the second range are associated with each other, wherein at least one of the first processing unit and the second processing unit acquires the first range or the second range from the synthesis processing information, based on the type of the foreign matter input in the information input unit.
7. The image generation device according to claim 3, further comprising: an information input unit configured to receive input of a type of the foreign matter for the virtual foreign-matter image to be synthesized with the non-defective-product image; and a storage unit configured to store therein synthesis processing information in which the type of the foreign matter to be synthesized with the non-defective-product image and at least one of the first range and the second range are associated with each other, wherein at least one of the first processing unit and the second processing unit acquires the first range or the second range from the synthesis processing information, based on the type of the foreign matter input in the information input unit.
8. The image generation device according to claim 4, further comprising: an information input unit configured to receive input of a type of the foreign matter for the virtual foreign-matter image to be synthesized with the non-defective-product image; and a storage unit configured to store therein synthesis processing information in which the type of the foreign matter to be synthesized with the non-defective-product image and at least one of the first range and the second range are associated with each other, wherein at least one of the first processing unit and the second processing unit acquires the first range or the second range from the synthesis processing information, based on the type of the foreign matter input in the information input unit.
9. The image generation device according to claim 5, further comprising: an information input unit configured to receive input of a type of the foreign matter for the virtual foreign-matter image to be synthesized with the non-defective-product image; and a storage unit configured to store therein synthesis processing information in which the type of the foreign matter to be synthesized with the non-defective-product image and at least one of the first range and the second range are associated with each other, wherein at least one of the first processing unit and the second processing unit acquires the first range or the second range from the synthesis processing information, based on the type of the foreign matter input in the information input unit.
10. The image generation device according to claim 6, wherein the synthesis processing information is stored such that the type of the article to be inspected, the type of the foreign matter to be synthesized with the non-defective-product image, the first range, and the second range are associated with each other, and the synthesis processing information is formed in such a combination that a representative value of the first range is smaller than a representative value of the second range when the absorptivity of the foreign matter is lower than the absorptivity of the article to be inspected, and is formed in such a combination that the representative value of the first range is larger than the representative value of the second range when the absorptivity of the foreign matter is higher than the absorptivity of the article to be inspected.
11. The image generation device according to claim 7, wherein the synthesis processing information is stored such that the type of the article to be inspected, the type of the foreign matter to be synthesized with the non-defective-product image, the first range, and the second range are associated with each other, and the synthesis processing information is formed in such a combination that a representative value of the first range is smaller than a representative value of the second range when the absorptivity of the foreign matter is lower than the absorptivity of the article to be inspected, and is formed in such a combination that the representative value of the first range is larger than the representative value of the second range when the absorptivity of the foreign matter is higher than the absorptivity of the article to be inspected.
12. The image generation device according to claim 8, wherein the synthesis processing information is stored such that the type of the article to be inspected, the type of the foreign matter to be synthesized with the non-defective-product image, the first range, and the second range are associated with each other, and the synthesis processing information is formed in such a combination that a representative value of the first range is smaller than a representative value of the second range when the absorptivity of the foreign matter is lower than the absorptivity of the article to be inspected, and is formed in such a combination that the representative value of the first range is larger than the representative value of the second range when the absorptivity of the foreign matter is higher than the absorptivity of the article to be inspected.
13. The image generation device according to claim 9, wherein the synthesis processing information is stored such that the type of the article to be inspected, the type of the foreign matter to be synthesized with the non-defective-product image, the first range, and the second range are associated with each other, and the synthesis processing information is formed in such a combination that a representative value of the first range is smaller than a representative value of the second range when the absorptivity of the foreign matter is lower than the absorptivity of the article to be inspected, and is formed in such a combination that the representative value of the first range is larger than the representative value of the second range when the absorptivity of the foreign matter is higher than the absorptivity of the article to be inspected.
14. An inspection apparatus comprising: an emitter configured to emit an electromagnetic wave onto an article to be inspected; a detector configured to detect an electromagnetic wave in the first energy band and an electromagnetic wave in the second energy band that are transmitted through the article to be inspected; an image generating unit configured to generate a first image of the article to be inspected based on the electromagnetic wave in the first energy band detected by the detector and also generate a second image of the article to be inspected based on the electromagnetic wave in the second energy band detected by the detector; and the image generating device according to claim 1.
15. A learning device comprising: a learning unit configured to perform machine learning using training data to build a learned model, wherein the training data includes the first virtual defective-product image and the second virtual defective-product image that are generated by the image generating device according to claim 1 and correct data representing information on the first target pixel and information on the second target pixel, and the learned model is configured to input an first image based on the electromagnetic wave in the first energy band transmitted through the article to be inspected having a possibility of containing the foreign matter and a second image based on the electromagnetic wave in the second energy band transmitted through the article to be inspected having the possibility of containing the foreign matter and output a foreign-matter likelihood representing a probability that the foreign matter is present for each pixel.
</claims>
</document>
