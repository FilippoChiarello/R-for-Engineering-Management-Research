<document>

<filing_date>
2017-01-20
</filing_date>

<publication_date>
2020-05-05
</publication_date>

<priority_date>
2016-01-28
</priority_date>

<ipc_classes>
B23K26/03,B23K26/21,B23K26/38,B23K26/70,B23K37/00,G06N20/00,G06N3/08,H01S3/10,H01S5/00,H04L29/08
</ipc_classes>

<assignee>
FANUC
</assignee>

<inventors>
MIYATA, RYUSUKE
OHYAMA, AKINORI
MAEDA, MICHINORI
MACHIDA, HISATADA
TAKIGAWA, HIROSHI
YOSHIDA, HIROYUKI
</inventors>

<docdb_family_id>
59327610
</docdb_family_id>

<title>
Machine learning apparatus for learning condition for starting laser machining, laser apparatus, and machine learning method
</title>

<abstract>
The machine learning apparatus includes: a state data observing unit which observes state data of the laser apparatus, including data output from a reflected light detecting unit for measuring a reflected light amount; an operation result acquiring unit which acquires a success/failure result indicating whether the machining has been started successfully by the laser beam output from a laser oscillator; a learning unit which learns light output command data by associating the light output command data with the state data of the laser apparatus and the success/failure result of the machining start; and a decision making unit which determines the light output command data by referring to the light output command data learned by the learning unit.
</abstract>

<claims>
1. A machine learning apparatus for learning light output command data containing a light output command to be issued to a laser power supply to start machining, for use in a laser apparatus comprising at least one laser oscillator for performing machining such as cutting or welding by applying a laser beam to a workpiece and a laser power supply for supplying power to the laser oscillator, the machine learning apparatus comprising: a processor configured to: observe state data of the laser apparatus, including data output from an output light detecting sensor for measuring an output light amount which is the amount of the laser beam output from the laser oscillator by passing through a laser optical system, and data output from a reflected light detecting sensor for measuring a reflected light amount which is the amount of reflected light, the reflected light being the laser beam, reflected from a surface of the workpiece back into the laser oscillator or the laser optical system; acquire a success/failure result indicating whether the machining has been started successfully by the laser beam that the laser oscillator output based on the light output command data; learn the light output command data containing the light output command to the laser power supply by associating the light output command data with the state data of the laser apparatus and the success/failure result of the machining start; determine the light output command data containing the light output command to the laser power supply by referring to the light output command data; learn the light output command data for starting the machining on the workpiece by: a) determining whether the machining is started within a predefined time period while satisfying a condition that the reflected light amount does not exceed a first predetermined level which is set lower than an alarm level corresponding to a light amount above which the reflected light amount is likely to damage the laser oscillator or the laser optical system, b) when the machining is started within the predefined time period while satisfying the condition, increase a reward for the machine learning apparatus, an amount of the increase increases as the start time of the machining decreases, c) when the machining is not started within the predefined time period while satisfying the condition, decrease the reward for the machine learning apparatus, d) update the light output command data to increase the reward for the machine learning apparatus, e) when the reflected light amount obtained from the output data of the reflected light detecting sensor has reached the first predetermined level, issue a command for temporarily shutting off or reducing the laser beam output to the laser power supply even when the laser power supply is in the process of executing the light output command, and re-output a new next output command that instructs the laser power supply to gradually increase the laser beam, and f) repeat steps (a)-(e) a plurality of times; and control the laser power supply based on the light output command data to perform the machining.
2. The machine learning apparatus according to claim 1, wherein the processor outputs the light output command data by determining the light output command data substantially in succession in a time series manner, at least during the predefined time period, until succeeding in starting the machining.
3. The machine learning apparatus according to claim 1, wherein the processor utilizes the output data of the reflected light detecting sensor.
4. The machine learning apparatus according to claim 1, wherein the success/failure result of the machining start to be acquired by the processor is given in the form of a result indicating whether or not the light output command data that substantially coincides with the light output command data necessary or suitable for the machining of the workpiece has been successfully output within the predefined time period.
5. The machine learning apparatus according to claim 1, wherein the processor acquires at least one of results which include the success or failure of the machining start, the time required to start the machining, the number of times that, or the frequency with which, the reflected light amount reached the first predetermined level, and an amount corresponding to a time-integrated value of an amount by which the reflected light amount exceeded the first predetermined level.
6. The machine learning apparatus according to claim 1, wherein the processor calculates a reward based on the result, and a value function that determines a value of the light output command data, and updates the value function based on the reward.
7. The machine learning apparatus according to claim 1, wherein the processor includes a learning model for learning the light output command data, and the processor calculates an error based on the result and on the learning model, and updates the learning model based on the error.
8. The machine learning apparatus according to claim 1, wherein the machine learning apparatus includes a neural network.
9. The machine learning apparatus according to claim 1, wherein the state data and/or the light output command data include at least one of the following: laser beam output, peak output, pulse width, pulse spacing, repetition frequency, number of repetitive pulses, assist gas spraying conditions, transmittance, focal length, and an F value of the laser optical system, spot size of the laser beam focused on the surface of the workpiece, relative positional relationship between the surface of the workpiece and the focused point of the laser beam, incident angle of the laser beam relative to the surface of the workpiece, temperature of the workpiece, ambient temperature, and ambient humidity.
10. A laser apparatus equipped with the machine learning apparatus of claim 1, comprising: the laser oscillator; the laser power supply; the laser optical system; the output light detecting sensor; the reflected light detecting sensor; and a control apparatus which controls the laser oscillator, the laser power supply, the laser optical system, the output light detecting sensor, and the reflected light detecting sensor independently of each other.
11. The laser apparatus according to claim 10, wherein the laser apparatus includes at least two or more reflected light detecting sensors, and at least one reflected light detecting sensor for detecting each of a plurality of reflected lights propagating through different light paths.
12. The laser apparatus according to claim 10, wherein the laser apparatus includes a light source different from the laser oscillator, a light detector for detecting light from the light source, and an optical system through which the light from the light source is applied to the workpiece and through which the light reflected from the surface of the workpiece is incident on the light detector, so that a state of the light reflected from the workpiece can be observed even when the laser beam from the laser oscillator is not output, and a result of the observation is utilized as one of the state data.
13. The laser apparatus according to claim 10, wherein the laser apparatus includes an infrared detecting sensor and/or a plasma light detecting sensor for detecting infrared and/or plasma light radiated from near a designated position on the workpiece where the laser beam is applied or is intended to be applied, and data acquired by the infrared detecting sensor and/or the plasma light detecting sensor is utilized as one of the state data.
14. The laser apparatus according to claim 10, wherein there exist a plurality of the laser apparatus, and a plurality of the machine learning apparatus, which are provided one for each of the laser apparatus, are configured to share or exchange data with each other via communication media.
15. The laser apparatus according to claim 14, wherein the machine learning apparatus resides in a cloud server.
16. A machine learning method for learning light output command data which contains a light output command to a laser power supply for starting machining of a workpiece by a laser beam within a predefined time period while satisfying a condition that a reflected light amount does not exceed a first predetermined level which is set lower than an alarm level corresponding to a light amount above which the reflected light amount is likely to damage a laser oscillator and/or a laser optical system, the machine learning method comprising: observing, by a processor, state data of a laser apparatus, including data output from an output light detecting sensor for measuring for measuring an output light amount, which is an amount of a laser beam output, and data output from a reflected light detecting sensor for measuring the reflected light amount; acquiring, by the processor, a success/failure result indicating whether the machining has been started successfully by the laser beam; receiving, by the processor, the acquired success/failure result of the machining start effected by the laser beam; learning, by the processor, the light output command data containing the light output command to the laser power supply by associating the light output command data with the state data of the laser apparatus and the success/failure result of the machining start; learning, by the processor, the light output command data for starting the machining on the workpiece by: a) determining whether the machining is started within a predefined time period while satisfying a condition that the reflected light amount does not exceed the first predetermined level, b) when the machining is started within the predefined time period while satisfying the condition, increase a reward for the machine learning method, an amount of the increase increases as the start time of the machining decreases, c) when the machining is not started within the predefined time period while satisfying the condition, decrease the reward for the machine learning method, d) update the light output command data to increase the reward for the machine learning method, and e) when the reflected light amount obtained from the output data of the reflected light detecting sensor has reached the first predetermined level, issue a command for temporarily shutting off or reducing the laser beam output to the laser power supply even when the laser power supply is in the process of executing the light output command, and re-output a new next output command that instructs the laser power supply to gradually increase the laser beam, and f) repeat steps (a)-(e) a plurality of times; and controlling, by the processor, the laser power supply based on the light output command data to perform the machining.
17. A machine learning method for learning light output command data which contains a light output command to a laser power supply for starting machining of a workplace by a laser beam within a predefined time period while satisfying a condition that a reflected light amount does not exceed a first predetermined level which is set lower than an alarm level corresponding to a light amount above which the reflected light amount is likely to damage a laser oscillator or a laser optical system, the machine learning method comprising: observing, by a processor, state data of a laser apparatus, including data output from an output light detecting sensor for measuring for measuring an output light amount, which is an amount of a laser beam output, and data output from a reflected light detecting sensor for measuring the reflected light amount; acquiring, by the processor, a result for the light output command data, the result including the reflected light amount detected from the workpiece; learning, by the processor, the light output command data containing the light output command to the laser power supply by associating the light output command data with the state data of the laser apparatus and the result of the light output command data including the reflected light amount; learning, by the processor, the light output command data for starting the machining on the workpiece by: a) determining whether the machining is started within a predefined time period while satisfying a condition that the reflected light amount does not exceed a first predetermined level, b) when the machining is started within the predefined time period while satisfying the condition, increase a reward for the machine learning method, an amount of the increase increases as the start time of the machining decreases, c) when the machining is not started within the predefined time period while satisfying the condition, decrease the reward for the machine learning method, d) update the light output command data to increase the reward for the machine learning method, and e) when the reflected light amount obtained from the output data of the reflected light detecting sensor has reached the first predetermined level, issue a command for temporarily shutting off or reducing the laser beam output to the laser power supply even when the laser power supply is in the process of executing the light output command, and re-output a new next output command that instructs the laser power supply to gradually increase the laser beam, and f) repeat steps (a)-(e) a plurality of times; and controlling, by the processor, the laser power supply based on the light output command data to perform the machining.
</claims>
</document>
