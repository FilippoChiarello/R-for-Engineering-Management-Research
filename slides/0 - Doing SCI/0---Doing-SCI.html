<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Doing data science</title>
    <meta charset="utf-8" />
    <meta name="author" content="Filippo Chiarello, Ph.D" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/font-awesome/css/all.css" rel="stylesheet" />
    <link href="libs/font-awesome/css/v4-shims.css" rel="stylesheet" />
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <link rel="stylesheet" href="../xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="../slides.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Doing data science
### Filippo Chiarello, Ph.D

---





layout: true
  
&lt;div class="my-footer"&gt;
&lt;span&gt;
&lt;a href="https://datasciencebox.org" target="_blank"&gt;datasciencebox.org, Filipp Chiarello ¬©&lt;/a&gt;
&lt;/span&gt;
&lt;/div&gt; 

---



class: middle

# What's in a data analisis?

---

## Five core activities of data analysis

1. Stating and refining the question
1. Exploring the data
1. Building formal statistical models
1. Interpreting the results
1. Communicating the results

.footnote[
Roger D. Peng and Elizabeth Matsui. "The Art of Data Science." A Guide for Anyone Who Works with Data. Skybrude Consulting, LLC (2015).
]

---

class: middle

# Stating and refining the question

---

## Six types of questions

1. **Descriptive:** summarize a characteristic of a set of data
1. **Exploratory:** analyze to see if there are patterns, trends, or relationships between variables (hypothesis generating)
1. **Inferential:** analyze patterns, trends, or relationships in representative data from a population
1. **Predictive:** make predictions for individuals or groups of individuals
1. **Causal:** whether changing one factor will change another factor, on average, in a population
1. **Mechanistic:** explore "how" as opposed to whether

.footnote[
Jeffery T. Leek and Roger D. Peng. "What is the question?." Science 347.6228 (2015): 1314-1315.
]

---

## Ex: Relation between investin in AI and innovating 

1. **Descriptive:** frequency of patents filled by a set of companies 
--

1. **Exploratory:** examine relationships between investing in AI technologies and the number of filled patents
--

1. **Inferential:** examine whether any relationship between investing in AI and number of patents found in the sample hold for the population at large

--
1. **Predictive:** what class (sector, dimensions...) of company will get an increased number of patents when investing in AI

--
1. **Causal:** whether companies that invests in AI patents more than companies that are not investing in AI, if the groups are taken randomly

--
1. **Mechanistic:** how many money invested in AI produces on average an increment of 1 patent 

---

---

## Everything starts with a question

1. **What**  can  we  define  a  good  question  in the context of SCI? 
2. **When** do questions comes up? 
3. **Who** in the company generates questions?
4. **Where** can I find interesting questions?
5. **Why**  is it so important to generate questions?

&lt;img src="./img/question.png" width="40%" style="display: block; margin: auto;" /&gt;

---

## Questions to SCI problems

- Do you have appropriate data to answer your question?
- Do you have information on confounding variables?
- Was the data you're working with collected in a way that introduces bias?

--

.question[
Suppose I want to estimate the average number of children in households in Edinburgh. I conduct a survey at an elementary school in Edinburgh and ask students at this elementary school how many children, including themselves, live in their house. Then, I take the average of the responses. Is this a biased or an unbiased estimate of the number of children in households in Edinburgh? If biased, will the value be an overestimate or underestimate?
]

---
##KIT &amp; KIQ

.question[
**Key  Intelligence  Topics**  (KITs)  are  thekey questions that competitive intelligence  professionals  are trying  to answer about what‚Äôs happening outside of  their     organizations,  the  ‚Äúwhat  you need to know‚Äù to be successful.
] 

.question[
**Key Intelligence Questions** (KIQs) are the  specific  questions you are trying to understand within a given topic.
] 

&lt;img src="./img/road.png" width="30%" style="display: block; margin: auto;" /&gt;

---

##KIT &amp; KIQ

&lt;img src="./img/kit_schema.png" width="70%" style="display: block; margin: auto;" /&gt;

---
##Key Intelligence Topics

1. *Strategic KITs*: contribute to key decisions in relation to strategic formulations and implementation for the company. Strategic KITs are used to make determine on actions such as: investment decisions, global expansion, technological competitiveness, global alliances and/or acquisitions. 
2. *Early Warning KITs*: identify forthcoming threats and opportunities for the company in the market. Some examples of Early Warning KITs include: new entrant threats, government regulations, untapped market, and any shifts in bargaining power. 
3. *Key Players KITs*: arise from market rivalries, new entrants, and substitute products. However, Key Player KITs can also deal with none threatening means such as new suppliers or contractors which have entered the market as well.

---
##Key Intelligence Questions

In the example below, if the KIT is competitor reaction to a new product, your KIQs might be: 

**Money**
1. What are they currently spending on R&amp;D? Has that changed in the last 3 years?
2. Who are they hiring (and what salaries come with that)?
3. What's their current cash flow situation? Portfolio and 

--

**Market**

5. Are they trying to reach new markets? 
5. Where is their product in terms of market maturity and adoption? 
6. What percentage of the market do they hold? 

---
##Key Intelligence Questions

**Man** 
7. Are the senior leaders risk averse or risk-takers? 
8. What actions and decisions have they made in the past?
9. What do their employee think about the company?

--
**Machines** 
10. What technologies are they investing on?
11. Do they have the proper technologies for thier processes?
12. Do some recent changes in the technological environemnt have an impact on them?
13.

---

class: middle

#Kit vs Research Questions

###Let's brainstorm üß†


---

## KIT &amp; CRITICAL THINKING

1. Critical thinking is the process of thinking critically about **your owns** thoughts.
2. One of the most important steps is challenging **your own** assumption.
3. In a company context this means challenging **company‚Äôs** assumption
4. **Question asking** is fundamental for critical thinking and vice-versa



[What is Critical Thinking?](https://en.wikipedia.org/wiki/Critical_thinking) üîç 
---

## WHAT IS THE POWER OF KIT?

1. **Define an Investigation**: Can inform both you and the company on the topic and the nature of the investigation (to discover, to explore, to explain, to describe to compare) 

2. **Set Boundaries**: Every time you face a new interesting direction, you can decide if follow it or not considering your starting research question 

3. **Provide Direction**: It will point you towards theory you need to explore, literature you need to review, the methods you may need to call on, data you need to gather, and person you need to interview.

4. **Identify Stop Criteria**: A univocal point of arrive will help you understand when you will not have to invest resources on a specifi c research direction. 

---
## HOW DO I ARTICULATE MY KIT?

.question[
**CLARITY**: All the potential stakeholders can get the gist of your research just by reading your question. Maybe you will have to rephrase your question in different ways, depending on who will read it.
]

--

.question[
**SPECIFICITY**: The KIT has to capture the nature of your research without being too broad. The goal is to avoid ambiguity and fuzziness, because being precise make the research task easier.
]

.question[
**USEFULNESS**: The KIT has to answer a questions that the company cares about. In other words, if you are able to solve the KIT, the company will create more value: more money üí∞, less resources ü•¨.
]


---


class: middle

# Exploratory data analysis (EDA)

---


#EDAs: whats the danger?

##Let's brainstorm üß†


---

## Checklist

- Formulate your question
- Read in your data
- Check the dimensions
- Look at the top and the bottom of your data
- Validate with at least one external data source
- Make a plot
- Try the easy solution first

---

class: middle, centered

# Formulate your question
### Approaches? üìù

---

## Read in your data

- Place your data in a folder called `data`
- Read it into R with `read_csv()` or friends (`read_delim()`, `read_excel()`, etc.)


```r
library(readxl)
fav_food &lt;- read_excel("data/favourite-food.xlsx")
fav_food
```

```
## # A tibble: 5 √ó 6
##   `Student ID` `Full Name`    favourite.food mealPlan AGE   SES  
##          &lt;dbl&gt; &lt;chr&gt;          &lt;chr&gt;          &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;
## 1            1 Sunil Huffmann Strawberry yo‚Ä¶ Lunch o‚Ä¶ 4     High 
## 2            2 Barclay Lynn   French fries   Lunch o‚Ä¶ 5     Midd‚Ä¶
## 3            3 Jayendra Lyne  N/A            Breakfa‚Ä¶ 7     Low  
## 4            4 Leon Rossini   Anchovies      Lunch o‚Ä¶ 99999 Midd‚Ä¶
## 5            5 Chidiegwu Dun‚Ä¶ Pizza          Breakfa‚Ä¶ five  High
```

---

## `clean_names()`

If the variable names are malformatted, use `janitor::clean_names()` or othe similar functions


```r
library(janitor)
fav_food %&gt;% clean_names()  
```

```
## # A tibble: 5 √ó 6
##   student_id full_name       favourite_food meal_plan age   ses  
##        &lt;dbl&gt; &lt;chr&gt;           &lt;chr&gt;          &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;
## 1          1 Sunil Huffmann  Strawberry yo‚Ä¶ Lunch on‚Ä¶ 4     High 
## 2          2 Barclay Lynn    French fries   Lunch on‚Ä¶ 5     Midd‚Ä¶
## 3          3 Jayendra Lyne   N/A            Breakfas‚Ä¶ 7     Low  
## 4          4 Leon Rossini    Anchovies      Lunch on‚Ä¶ 99999 Midd‚Ä¶
## 5          5 Chidiegwu Dunk‚Ä¶ Pizza          Breakfas‚Ä¶ five  High
```

---

## Case study: NYC Squirrels!

- [The Squirrel Census](https://www.thesquirrelcensus.com/) is a multimedia science, design, and storytelling project focusing on the Eastern gray (*Sciurus carolinensis*). They count squirrels and present their findings to the public.
- This table contains squirrel data for each of the 3,023 sightings, including location coordinates, age, primary and secondary fur color, elevation, activities, communications, and interactions between squirrels and with humans.


```r
#install_github("mine-cetinkaya-rundel/nycsquirrels18")
library(nycsquirrels18)
```

---

## Locate the codebook

[mine-cetinkaya-rundel.github.io/nycsquirrels18/reference/squirrels.html](https://mine-cetinkaya-rundel.github.io/nycsquirrels18/reference/squirrels.html)

&lt;br&gt;&lt;br&gt;

--

## Check the dimensions


```r
dim(squirrels)
```

```
## [1] 3023   35
```

---

## Look at the top...


```r
squirrels %&gt;% head()
```

```
## # A tibble: 6 √ó 35
##    long   lat unique_squirrel_id hectare shift date      
##   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;              &lt;chr&gt;   &lt;chr&gt; &lt;date&gt;    
## 1 -74.0  40.8 13A-PM-1014-04     13A     PM    2018-10-14
## 2 -74.0  40.8 15F-PM-1010-06     15F     PM    2018-10-10
## 3 -74.0  40.8 19C-PM-1018-02     19C     PM    2018-10-18
## 4 -74.0  40.8 21B-AM-1019-04     21B     AM    2018-10-19
## 5 -74.0  40.8 23A-AM-1018-02     23A     AM    2018-10-18
## 6 -74.0  40.8 38H-PM-1012-01     38H     PM    2018-10-12
## # ‚Ä¶ with 29 more variables: hectare_squirrel_number &lt;dbl&gt;,
## #   age &lt;chr&gt;, primary_fur_color &lt;chr&gt;,
## #   highlight_fur_color &lt;chr&gt;,
## #   combination_of_primary_and_highlight_color &lt;chr&gt;,
## #   color_notes &lt;chr&gt;, location &lt;chr&gt;,
## #   above_ground_sighter_measurement &lt;chr&gt;,
## #   specific_location &lt;chr&gt;, running &lt;lgl&gt;, chasing &lt;lgl&gt;, ‚Ä¶
```

---

## ...and the bottom

.small[

```r
squirrels %&gt;% tail()
```

```
## # A tibble: 6 √ó 35
##    long   lat unique_squirrel_id hectare shift date      
##   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;              &lt;chr&gt;   &lt;chr&gt; &lt;date&gt;    
## 1 -74.0  40.8 6D-PM-1020-01      06D     PM    2018-10-20
## 2 -74.0  40.8 21H-PM-1018-01     21H     PM    2018-10-18
## 3 -74.0  40.8 31D-PM-1006-02     31D     PM    2018-10-06
## 4 -74.0  40.8 37B-AM-1018-04     37B     AM    2018-10-18
## 5 -74.0  40.8 21C-PM-1006-01     21C     PM    2018-10-06
## 6 -74.0  40.8 7G-PM-1018-04      07G     PM    2018-10-18
## # ‚Ä¶ with 29 more variables: hectare_squirrel_number &lt;dbl&gt;,
## #   age &lt;chr&gt;, primary_fur_color &lt;chr&gt;,
## #   highlight_fur_color &lt;chr&gt;,
## #   combination_of_primary_and_highlight_color &lt;chr&gt;,
## #   color_notes &lt;chr&gt;, location &lt;chr&gt;,
## #   above_ground_sighter_measurement &lt;chr&gt;,
## #   specific_location &lt;chr&gt;, running &lt;lgl&gt;, chasing &lt;lgl&gt;, ‚Ä¶
```
]

---

## Validate with at least one external data source

.pull-left[

```
## # A tibble: 3,023 √ó 2
##     long   lat
##    &lt;dbl&gt; &lt;dbl&gt;
##  1 -74.0  40.8
##  2 -74.0  40.8
##  3 -74.0  40.8
##  4 -74.0  40.8
##  5 -74.0  40.8
##  6 -74.0  40.8
##  7 -74.0  40.8
##  8 -74.0  40.8
##  9 -74.0  40.8
## 10 -74.0  40.8
## 11 -74.0  40.8
## 12 -74.0  40.8
## 13 -74.0  40.8
## 14 -74.0  40.8
## 15 -74.0  40.8
## # ‚Ä¶ with 3,008 more rows
```
]
.pull-right[
&lt;img src="img/central-park-coords.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

## Make a plot


```r
ggplot(squirrels, aes(x = long, y = lat)) +
  geom_point(alpha = 0.2)
```

&lt;img src="0---Doing-SCI_files/figure-html/unnamed-chunk-13-1.png" width="45%" style="display: block; margin: auto;" /&gt;

--

.pull-left-wide[
**Hypothesis:** There will be a higher density of sightings on the perimeter than inside the park.
]

---

## Communicating for your audience

- Avoid: Jargon, uninterpreted results, lengthy output
- Pay attention to: Organization, presentation, flow
- Don't forget about: Code style, coding best practices, meaningful commits
- Be open to: Suggestions, feedback, taking (calculated) risks
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightLines": true,
"highlightStyle": "solarized-light",
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
